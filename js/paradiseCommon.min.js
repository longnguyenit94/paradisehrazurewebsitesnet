function _ResultFromParadise(n,t){var i,r;try{IsNullOrEmpty(n)||(i=ParadiseOption.NotEncryptionDataTransmission===1?n:EncryptionStringDecryption(n),IsNullOrEmpty(i)||(n=JSON.parse(i)))}catch(u){}if(t&&t.OnSuccess&&(r=t.OnSuccess.apply(null,[t,n]),t.OnSuccess=null,r===!1))return n;n&&(typeof n=="string"?ResultFromParadiseForm(n,t):(ResultFromParadiseForm(n.htmlGet,t),RunJS(n.script),n.script=null));t&&t.AfterOnSuccess&&(t.AfterOnSuccess.apply(null,[t,n]),t.AfterOnSuccess=null)}function BuildMenu(n,t,i){window.LeftMenuClient=n;window.RightMenuClient=t;window.KeyJS=i;window.__LeftMenu=window.LeftMenuClient.filter(function(n){return n.name==="btnmenuhamberger"});window.__CenterMenu=window.LeftMenuClient.filter(function(n){return n.name!=="btnmenuhamberger"});window._LeftMenu=$("#LeftMenu").dxMenu("instance");window._RightMenu=$("#RightMenu").dxMenu("instance");window._CenterMenu=$("#CenterMenu").dxMenu("instance");window._RightMenu&&window._RightMenu.option&&window._RightMenu.option("dataSource",t);$(window).off("resize",Menu_WindowResize);$(window).resize("resize.Menu",Menu_WindowResize);Menu_WindowResize()}function Menu_WindowResize(){var i,r,u,n,f,e,t;window._LeftMenu&&(window._LeftMenu.option("dataSource",window.LeftMenuClient),window._CenterMenu.option("dataSource",[]),i=$("#RightMenu").offset().top>0,window._LeftMenuClient=i?window.__LeftMenu:window.LeftMenuClient,window._CenterMenuClient=i?window.__CenterMenu:[],window._LeftMenu.option("dataSource",window._LeftMenuClient),window._CenterMenu.option("dataSource",window._CenterMenuClient),i=null);window.innerWidthMenu_WindowResize=window.innerWidth;r=$("#pnMenu");u=ParadiseOption.MenuVisibleOpion;$("#MemuMenu").css("display",u&&(u.includes("1")||u.includes("2")&&IsMobile())?"none":"block");r.length>0&&(n={},window.RightMenu&&(f=window.RightMenu.getBoundingClientRect(),f.y>0&&(n["padding-top"]=f.height),f=null),IsUpdateNotification&&(n.height=window.innerHeight-r.height()+"px"),$(idOpenForm).css(n),n=null);r=null;IsMobile()&&(e=$("#CenterMenu .dx-menu-horizontal").width(),t=(e-$("#CenterMenu .dx-menu-items-container").width()-50)/2,e>=window.innerWidth&&(t=0),t+="px",$("#CenterMenu .dx-menu-items-container").css({"margin-left":t}),e=null,t=null)}function Update_LeftMenu_SelectedItem(){if(window._LeftMenu&&window._LeftMenu.option){var t=window.LeftMenuClient,n=t.filter(function(n){return n.name===ActiveMenu}).firstOrDefault();n==null&&IsNullOrEmpty(ActiveMenu)&&(n=t.filter(function(n){return n.name!=="btnmenuhamberger"}).firstOrDefault(),n&&(window.ActiveMenu=n.name));window._LeftMenu.option("selectedItem",n);window._CenterMenu.option("selectedItem",n)}}function GetCurrentOPtionUrl(){var t=$(idOpenForm),n,i;return t.length>0&&t[0].children.length>0&&(n=t[0].children[0],n.children.length>0&&n.children[0].tagName==="FORM")?(i=getQueryParams(n.getAttribute("data-url")),i.tablename):""}function AddHtmlCacheDiv(){var t=$(idOpenForm),n,r,i;t.length>0&&t[0].children.length>0&&(n=t[0].children[0],n.children.length>0&&n.children[0].tagName==="FORM"&&(r=GetCurrentOPtionUrl(),i=POptionDic[r],i&&i.Reset(),window.HtmlCacheDiv.appendChild(n)))}function ResultFromParadiseForm(n){if(!isNullOrWhitespace(n)){AddHtmlCacheDiv();var t=$(idOpenForm);t.html("");t.html(n)}}function HyperLink_OpenMenuClick_Core(n,t,i,r){var u=i.GetParamForPost(),f;u.SubmitCommand="GetUrlActionDefine";n&&(u.ColumnName=n.ColumnName);isNullOrWhitespace(r)||(u.value=r);f={data:u};i.PostToParadise(f)}function HyperLink_OpenMenuClick(n,t){HyperLink_OpenMenuClick_Core(n,t,n.POption,n.option("value"))}function OpenFormLink(n){if(window.login)HyperLink_OpenMenuClick_Core(null,null,window.login,n);else{ShowWaitingPanel();var i=_LocalOption(),t={crossDomain:window.LocalOption>0,cache:!1,type:"POST",data:{value:n,SubmitCommand:"GetUrlActionDefine"},url:window.APPLICATION_ADDRESS+(i?"/_hpa":"")+"/paradisehrm/login?tablename=login",success:function(n){_ResultFromParadise(n)},error:function(n){_oneror(n)},complete:function(){HideWaitingPanel()}};i&&(t.url+="&paradiseparadise="+window.paradiseparadise);t.url+="&tablename=login&paradisehrm=login&knc=login&formname=login";$.ajax(t)}}function OpenForm(n,t){var u,o,h,i,v,k,d,c,y,p,l,e,g,s,w,a,f;if($(idOpenForm).scrollTop(),n||(n={}),!IsNullOrEmpty(n.url)&&n.url!=="/"||!IsNullOrEmpty(n.text)){n.url==null&&(n.url="");var b=n.url,nt=n.url.split("?")[0],r=n.url.toLowerCase().replace(document.location.origin,""),l=r.split("?");if(r=l[0],u=getQuery(b,"tablename"),u=u?u:"",o=getQuery(b,"paradise_hrm"),o=o?encodeURIComponent(o):"",h=_LocalOption(),IsNullOrEmpty(u)||(r+="?tablename="+u),IsNullOrEmpty(r)&&(r=""),i=MenuClient.filter(function(t){return t.url===n.url||t.urlLan===nt||t.tableName==n.ClassName&&!IsNullOrEmpty(n.ClassName)||t.tableName==u&&!IsNullOrEmpty(u)}).firstOrDefault(),i==null&&(i=MenuClient.filter(function(n){return r==n.url}).firstOrDefault()),i==null&&(i=MenuClient.filter(function(n){return r.startsWith(n.url)}).firstOrDefault()),i!=null&&(IsNullOrEmpty(n.text)&&(n.text=i.text),IsNullOrEmpty(n.url)&&i.url&&(n.url=i.url),IsNullOrEmpty(r)&!IsNullOrEmpty(n.url)&&(r=n.url),IsNullOrEmpty(u)&&(u=i.tableName),isNullOrWhitespace(n.urlLink)&&(n.urlLink=h?window.APPLICATION_ADDRESS+"/_hpa"+i.url:window.APPLICATION_ADDRESS+i.urlLan),i.ShowDialog>0&&t!==1)){ShowPopupWithUrlWidth_ID(null,n.url,null,null,i.ShowDialog);return}if(UserID>-1&&!r.includes("paradisehrm=")&&(i!=null&&(ActiveMenu=i.parentMenuIDRoot),Update_LeftMenu_SelectedItem(!0),UpdateDataDiagram()),(isNullOrWhitespace(n.urlLink)||h&&!isNullOrWhitespace(window.APPLICATION_ADDRESS)&&!window.APPLICATION_ADDRESS.startsWith(n.urlLink))&&(h?(n.url.startsWith("/_hpa")||(n.urlLink="/_hpa"+n.url),n.urlLink=window.APPLICATION_ADDRESS+n.url):n.urlLink=window.APPLICATION_ADDRESS+n.url),v=!IsNullOrEmpty(o),(h||v)&&!n.urlLink.includes("?")&&(n.urlLink+="?"),h&&!n.urlLink.toLowerCase().includes("paradiseparadise=")&&(n.urlLink+="&paradiseparadise="+window.paradiseparadise),v&&!n.urlLink.toLowerCase().includes("paradise_hrm=")&&(n.urlLink+="&paradise_hrm="+o),v=null,k="",IsNullOrEmpty(n.text)||(k=openingmenuText+" "+n.text+"\n"+WaitingText+""),ShowWaitingPanel(k),IsNullOrEmpty(n.text)?n.text=ParadiseTitle:(d=GetParadiseTitle(),n.text.endsWith(d)||(n.text+=d)),y=!1,window.HtmlCacheDiv!=null){if(r.startsWith("/paradisehrm/paradisehrm")||i!=null&&i.url.startsWith("/paradisehrm/paradisehrm")){if(POptionDic.menumobile){p=getQuery(b,"paradisehrm");p||(p="");ActiveMenu=p;OpenActiveMenu();HideWaitingPanel();return}}else l=Array.from(window.HtmlCacheDiv.children),c=l.filter(function(n){return n.getAttribute("data-url").toLowerCase()===r}).firstOrDefault(),c==null&&(e=r+"?",c=l.filter(function(n){return n.getAttribute("data-url").toLowerCase().startsWith(e)}).firstOrDefault(),e=null),l=null;c==null&&(e=$(idOpenForm).children("div:first").attr("data-url"),e==null&&(e=$("#ParadiseLogin").children("div:first").attr("data-url")),e&&(g=getQuery(e,"tablename"),g===u&&(y=!0)),e=null)}c||y?(s=POptionDic[u],s&&(y||(AddHtmlCacheDiv(),w=$(idOpenForm),w.html(""),w[0].appendChild(c),w=null),s.SetVal("SubmitCommand","_UpdateConIDReload"),a=s.GetParamForPost(),a.paradise_hrm=o,s.ViewMode===1&&s.ViewModeStatus===!1&&(a.GetDataSourceConfig=!1),a.KeyDataSourceConfig=JSON.stringify(s.GetKeyDataSourceConfig()),f={data:a,AfterOnSuccess:n.AfterOnSuccess,OnSuccess:n.OnSuccess},s.PostToParadise(f))):(f={crossDomain:h,data:n.data,cache:!1,url:n.urlLink,success:function(t){_ResultFromParadise(t,n)},error:function(n){HideWaitingPanel();_oneror(n)}},window.LocalOption>0&&(f.data==null&&(f.data={}),f.data.paradiseparadise=window.paradiseparadise,f.data.paradise_hrm=o),f.type=f.data!=null||f.crossDomain===!0?"POST":"GET",$.ajax(f));n!=null&&n.isServer!==!1&&historyPushState(n,n.text,n.urlLink)}}function Popstate(n){n.state&&(n.state.url||(n.state.url=n.state.url?n.state.url:window.location.search),n.state.isServer=!0,OpenForm(n.state))}function historyPushState(n,t,i,r){LocalOption<1&&(n=$.extend({},n),DeleteFunctionObject(n),n._Date=new Date,document.title!=t&&r!==2?(history.pushState(n,t,i),document.title=t):history.replaceState(n,t,i))}function _OpenActiveMenu(){var n=$(idOpenForm+" div#loginparadisediv");n.length>0&&window.HtmlCacheDiv.appendChild(n[0]);$(window.idOpenForm+" div").length<1&&OpenActiveMenu()}function OpenActiveMenu(){var i=null,n,u,f,o,r,s,h,c,e,t;if(window.IsUpdateNotification===!0&&window.UserID>-1)if(IsNullOrEmpty(ActiveMenu)&&(n=window.LeftMenuClient.filter(function(n){return"btnmenuhamberger"!==n.name}).firstOrDefault(),n!=null&&(ActiveMenu=n.name)),n=window.LeftMenuClient.filter(function(n){return"btnmenuhamberger"!==n.name&&n.name===ActiveMenu}).firstOrDefault(),window._LeftMenu&&window._LeftMenu.option&&Update_LeftMenu_SelectedItem(),u=POptionDic.menumobile,u==null||n!=null&&n.IsD===!1)OpenForm({text:n.text,url:n.Url,ClassName:n.ClassName});else if(f="/paradisehrm/paradisehrm?tablename=menumobile",$(idOpenForm).scrollTop(),GetCurrentOPtionUrl()!==u.TableName&&(o=Array.from(window.HtmlCacheDiv.children).filter(function(n){return n.getAttribute("data-url").startsWith(f)}).firstOrDefault(),o&&(AddHtmlCacheDiv(),$(idOpenForm).html(""),$(idOpenForm)[0].appendChild(o))),f+="&paradisehrm="+ActiveMenu,r=MenuClient.filter(function(n){return f===n.url}).firstOrDefault(),r&&(i={ClassName:r.tableName,text:r.text+GetParadiseTitle(),url:r.url,urlLink:window.APPLICATION_ADDRESS+r.urlLan}),IsMobile())MenuMobile_lblFilter_keyup(u.txtSearch,null,!0);else{for($("#DiagramForm .diagram-connector-line").remove(),$("#DiagramForm .arrow_box_connector").remove(),lstLastPoint=[],s=DiagramClient.filter(function(n){return n.ParentMenuID.toLowerCase()===ActiveMenu}),window.DiagramForm&&(DiagramForm.dataSource=s,DiagramForm.viewModel&&(DiagramForm.viewModel.items.removeAll(),ko.utils.arrayPushAll(DiagramForm.viewModel.items,convertToObservable(DiagramForm.dataSource,"_item_DiagramForm")))),h=s.filter(function(n){return!IsNullOrEmpty(n.TargetMenuID)}),c="",e=0;e<h.length;e++)t=h[e],c+=' connectElements($("#'+t.CurrentMenuID+'"), $("#'+t.TargetMenuID+'"),"'+t.ConnectorColor+'","'+t.ConnectorSize+'","'+t.DrawOrder+'","'+t.DrawOrderMiddle+'","'+t.DrawOrderFirst+'");';RunJS(c)}else i={text:ParadiseTitle,url:"/",urlLink:window.APPLICATION_ADDRESS+"/"};i&&i.isServer!==!1&&historyPushState(i,i.text,i.urlLink,1)}function HidePopupWithUrlWidth_ID(n){n=n.toLowerCase();var t=window.PopupDic[n];t!=null&&t.hide()}function ShowPopupWithUrlWidth_ID(n,t,i,r,u){var o=getQueryParams(t),b,e,p,l,a;IsNullOrEmpty(o.tablename)||(o.tablename=o.tablename.toLowerCase());var f=window.PopupDic[o.tablename],s=POptionDic[o.tablename],e=o.tablename+"_PU",c={id:e},w="center",k=window.innerHeight,d=window.innerWidth,h=window.innerHeight*6/8,v=window.innerWidth*6/8,g=u>=100&&u<=900,y=u>=500&&u<=900;f==null&&($("<div id='"+e+"' />").appendTo("body"),b={onHidden:function(n,t){FormPopup_Closing(n.component,t)},closeOnOutsideClick:!1,title:" ",visible:!1,elementAttr:c,wrapperAttr:c},f=$(window[e]).dxPopup(b).dxPopup("instance"),window.PopupDic[o.tablename]=f);g&&(e=ParseInt(u/100),e>4&&(e-=4),u=u%100,v=window.innerWidth*u/100,h=window.innerHeight,(e==2||e==4)&&(p=h,v=h,h=p,p=null),w=e==1?"left":e==2?"top":e==3?"right":"bottom");f.option("position",w);f.option("showTitle",!y);f.option("showCloseButton",!y);f.option("hideOnOutsideClick",y);f.option("width",v);f.option("height",h);f.option("maxWidth",d);f.option("maxHeight",k);f.option("elementAttr",c);f.option("wrapperAttr",c);f.controlChange=n;FormPopupAlias=f;s!=null?(f.show(),s.SetVal("SubmitCommand","_UpdateConIDReload"),l=s.GetParamForPost(),l.paradise_hrm=o.paradise_hrm,s.ViewMode===1&&s.ViewModeStatus===!1&&(l.GetDataSourceConfig=!1),a={data:l,OnSuccess:i,AfterOnSuccess:r},s.PostToParadise(a)):(a={url:t,isServer:!1,OnSuccess:function(n,t){f.option("contentTemplate",function(){var n=$("<div />");return n.append(t.htmlGet),n.dxScrollView({width:"100%",height:"100%"}),n});f.show();t.htmlGet="";typeof i=="function"&&i.call()},AfterOnSuccess:r},OpenForm(a,1))}function UpdateDataDiagram(){return}function getDataDiagramitem_parent(n){var t=n[0].parentNode.parentNode;return{menuid:t.dataset.menuid,assemblyname:t.dataset.assemblyname,classname:t.dataset.classname,url:t.dataset.url,statusid:t.dataset.statusid,actiondefine:n[0].parentNode.dataset.actiondefine,text:t.dataset.waitingtext,islock:t.dataset.islock==="True",isParent:t.dataset.isparent==="True",isRequire:t.getElementsByClassName("diagram-item-layout-tooltip").length>0,IsNotAjax:t.dataset.isnotajax==="True"}}function getDataDiagramitem(n,t){return t!=undefined&&t?getDataDiagramitem_element(n):getDataDiagramitem_parent(n)}function getDataDiagramitem_element(n){return{menuid:n.data("menuid"),assemblyname:n.data("assemblyname"),classname:n.data("classname"),url:n.data("url"),statusid:n.data("statusid"),actiondefine:n.data("actiondefine"),text:n.data("waitingtext"),islock:n.data("islock")==="True",isParent:n.data("isparent")==="True",isRequire:!1,IsNotAjax:n.data("isnotajax")==="True"}}function UpdateBagMenuHeader(n,t){var i=window[n],r;i&&(r=t>0,i.SetVisible(r),r&&i.SetText(t))}function GetParadiseTitle(){return IsNullOrEmpty(window.ParadiseTitle)?"":" - "+window.ParadiseTitle}function onItemClick_LeftMenu(n,t){if(t.itemData.name.toLowerCase()==="logout")LogOutClient();else if(t.itemData.name.toLowerCase()==="btnmenuhamberger")ShowEmployeeTree();else{var n=t.component,i=t.itemData;n.option("selectedItem",i);UserID>-1&&i.IsD===!0?(ActiveMenu=i.name,OpenActiveMenu()):OpenForm({text:i.text,url:i.Url,ClassName:i.ClassName})}}function onItemClick_LeftMenu_Classic(n,t){t.itemData.name.toLowerCase()==="logout"?LogOutClient():t.itemData.name==="btnmenuhamberger"?ShowEmployeeTree():UserID>-1&&t.itemData.IsD!==!0&&OpenForm({text:t.itemData.text,url:t.itemData.url,ClassName:t.itemData.ClassName})}function onItemClick_RightMenu(n,t){var i=t.itemData.name;i==="SearchMenu"?ShowPopupSearch():i==="Reset"?(ShowWaitingPanel(),LocalOption==0&&_Reload(window.APPLICATION_ADDRESS+"/?resetall=1")):i==="SetConnection"?OpenForm({url:"/HPASystemAdmin/SetConnection",data:{}}):i==="ChangePassword"?OpenForm({url:"/HPASystemAdmin/ChangePassword",data:{}}):i.toLowerCase()==="logout"&&LogOutClient()}function LeftMenu_itemTemplate(n,t,i){var u=(window.GlobalFontSize*2).toString()+"px",f=$("<span>").css({"font-size":u,float:"left",color:"#ffffff","margin-right":"5px"}).addClass("p-"+n.icon.toLowerCase()),r;i.append(f);IsMobile()!==!0&&(r=$("<span>"+n.text+"<\/span>").css({color:"#ffffff",float:"left"}),i.append(r))}function LeftMenu_itemTemplate_Classic(n,t,i){var e,o;if(n){var s=(window.GlobalFontSize*13).toString(),u=window.GlobalFontSize.toString()+"px",f=IsNullOrEmpty(n.parent),r=$('<div style="'+(f?"":"min - width: "+s+"px")+'"><\/div>'),h=$('<span style="float: left;">'+n.text+"<\/span>");r.append(h);n.items&&n.items.length>0&&(e=f?"downArrow":"rightArrow",o=$("<span>").css({"font-size":u,float:"left","line-height":u+5}).addClass("p-"+e.toLowerCase()),r.append(o));i.append(r)}}function RightMenu_itemTemplate(n,t,i){var o=window.GlobalFontSize*2,s=window.GlobalFontSize*13,r=IsNullOrEmpty(n.parent),u,e,f;n.icon||(n.icon="");u=n.icon;isNullOrWhitespace(n.icon)&&(u="paradisehr");e=$("<span>").css({"font-size":o,float:"left",color:r?"":"#000000","margin-right":"5px"}).addClass("p-"+u.toLowerCase());f=$('<span style="'+(r?"":"color:#000000;")+'">'+n.text+"<\/span>");r||f.css({"padding-right":"50px"});i.append(e).append(f)}function item_menu_Click(n,t,i){toBoolean(i.NOT_RIGHTS)!==!0&&(UserID>-1&&i.IsD===!0?(ActiveMenu=i.ClassName,OpenActiveMenu()):OpenForm({text:i.Name,url:i.Url,ClassName:i.ClassName}))}function UpdateMainForm(){var i=$(idOpenForm).children().data("url"),r=getQueryParams(i),n=POptionDic[r.tablename],t;n&&n.UpdateSize();t=window.drawerObj.option("visible")===!1?"hidden":"auto";$(idOpenForm).css({"overflow-x":t})}function UpdateIconMenuMobile(n){for(var i,u,r=$("#"+n.id+" .CardView"),f=window.GlobalFontSize*2.5+"px",t=0;t<r.length;t++)i=r[t],u=$("<span>").css({"font-size":f,float:"left","margin-right":"5px"}).addClass("p-"+i.getAttribute("icon").toLowerCase()),$(i).append(u);UpdateMinHeighItemMenuMobile(n,null,!0)}function UpdateMinHeighItemMenuMobile(n,t,i){var u,e,o,r,f;for(t||(t=$("#"+n.id).children().first().children()),u=0,r=0;r<t.length;r++)f=t[r],f.style.display!=="none"&&(i===!0&&(f.calcHeight=f.clientHeight),e=f.calcHeight,e>u&&(u=e));if(u<100&&(u=100),u+="px",n.viewModel)for(o=n.viewModel.items(),r=0;r<o.length;r++)f=o[r],f.mh(u)}function MenuMobile_lblFilter_keyup(n,t,i){if(n){n._Timeout&&clearTimeout(n._Timeout);var r=function(){var r=GetText(n),t;(r!==n.ValueOld||i===!0)&&(t=r,isNullOrWhitespace(t)&&(t=""),t=RemoveToneMarks_Js(t),n.POption._CardView.viewModel&&n.POption._CardView.viewModel.items().filter(function(n){var i=(window.ActiveMenu=="mnuhome000"||window.ActiveMenu==n.root())&&(t===""||RemoveToneMarks_Js(n.text()).contains(t));return n.v(i),i}),UpdateMinHeighItemMenuMobile(n.POption._CardView,null));n.ValueOld=r};i===!0?r.call():n._Timeout=setTimeout(r,delayInput)}}function MenuMobileForm_Init(n){var t=window.innerHeight;window.pnMenu&&(t=t-$("#pnMenu").height());n.SetHeight(t);n.POption.grdTE&&FullHeightGrdParent(n.POption.grdTE,n.POption.mLC);$("#DiagramForm").css({width:"1366px",height:"678px"});n.POption.InnitForm()}function Form_Init_MenuSearch(n){var t=window.innerHeight;n.POption.mLC.SetHeight(t);t-=88;n.POption.grdTE.option("height",t);n.POption.InnitForm()}function OpenMenu_MenuSearch(n,t){t||(t=n.getTopVisibleRowData());t&&(OpenForm({url:t.Url,title:t.Content}),pcSearch.hide())}function GridView_RowDblClick_MenuSearch(n,t){OpenMenu_MenuSearch(n,t.data)}function Grid_KeyUp_MenuSearch(n,t){var i=GetHtmlEvenKey(t);i.keyCode===13&&OpenMenu_MenuSearch(n,n.getVisibleRows()[n.option("focusedRowIndex")].data)}function TxtFilter_KeyUp_MenuSearch(n,t,i){n._Timeout&&clearTimeout(n._Timeout);var r=GetHtmlEvenKey(t);if(r.keyCode===38||r.keyCode===40)return SetFocus(n.POption.grdTE),!1;if(r.keyCode===13)return OpenMenu_MenuSearch(n.POption.grdTE),!1;n._Timeout=setTimeout(function(){var r=GetText(n),t;(r!==n.ValueOld||i===!0)&&(n.ValueOld=r,t=r,isNullOrWhitespace(t)&&(t=""),t=RemoveToneMarks_Js(t),n.POption.grdTE.filter(function(n){return n.___ID||(n.___ID=RemoveToneMarks_Js(isNullOrWhitespace(n.Name)?"":n.Name)),n.___ID.includes(t)}))},delayInput)}function ShowPopupSearch(){var t=POptionDic.menusearch,n;t?window.pcSearch.show():(ShowWaitingPanel(),n={url:"/hpa/menusearch",isServer:!1,data:{}},n.OnSuccess=function(n,t){if(!window.menusearchPopup){var i=window.innerWidth*(IsMobile()?4:1.2)/4,r=window.innerHeight;IsMobile()!==!0?i<400&&(i=400):i<300&&(i=300);i>window.innerWidth&&(i=window.innerWidth);$('<div id="menusearchPopup" />').appendTo("body");window.pcSearch=$(window.menusearchPopup).dxPopup({width:i,height:r,closeOnOutsideClick:!0,position:"right top",showTitle:!1,visible:!1}).dxPopup("instance")}window.pcSearch.option("contentTemplate",function(){var n=$("<div />");return n.append(t.htmlGet),n.dxScrollView({width:"100%",height:"100%"}),n});window.pcSearch.option("visible",!0);t.htmlGet=""},OpenForm(n))}function tlEmployee_onSelectionChanged_Core(n){n._Timeout&&clearTimeout(n._Timeout);n._Timeout=setTimeout(function(){var r=POptionDic.employeetree,t,u,i,f;r&&(t=n.getSelectedRowKeys("all"),t==null&&(t=[]),t=t.filter(function(n){return n.startsWith("emp")}).map(function(n){return n.substring(3)}),u=n.option("expandedRowKeys"),u==null&&(u=[]),r.SetVal("SubmitCommand","UpdateSelectedEmployeeToDB"),i=r.GetParamForPost(),i.value=n.option("name"),i.selectedRowKeys=t,i.expandedRowKeys=u,f={data:i},r.PostToParadise(f))},delayInput)}function tlEmployee_onSelectionChanged(n){var t=n.component;tlEmployee_onSelectionChanged_Core(t,n)}function ShowEmployeeTree(){if(UpdateClientSizeDiagram(),window.drawer)if(window.drawerObj||(window.drawerObj=$("#drawer").dxDrawer({opened:!1,height:_GetDocumentHeight(!1),closeOnOutsideClick:!1,template:""}).dxDrawer("instance")),POptionDic.employeetree)window.drawerObj.toggle(),setCookie("StateLeftPanel",window.drawerObj.option("opened"));else{ShowWaitingPanel();var n={url:"/HPA/EmployeeTree",isServer:!1,data:{}};n.OnSuccess=function(n,t){window.drawerObj.option("template",t.htmlGet);window.drawerObj.option("opened",!0);setCookie("StateLeftPanel",window.drawerObj.option("opened"));t.htmlGet="";UpdateMainForm();HideWaitingPanel()};OpenForm(n)}}function employeeTreeForm_WindowResize(){var n=employeetree,t=_GetDocumentHeight(!1),i=t-n.lblEmployeeCount.element().parent().parent().height()*2-n.txtSearch.element().parent().parent().height()-window.PaddingDefault-60;n.TabEmployeeTree.option("height",i);n.mLC.SetHeight(t)}function EmployeeTreeForm_Init(n){var t=n.POption;t.InnitForm();$(window).off("resize",employeeTreeForm_WindowResize);$(window).resize("resize.EmployeeTreeForm",employeeTreeForm_WindowResize);setTimeout(function(){var n,i;employeeTreeForm_WindowResize();n=$("<div />");$("#"+t.IDForm).append(n);i=(window.GlobalFontSize*1.5).toString();n.dxContextMenu({dataSource:t._contextMenuItems,width:200,target:"#"+t.TabEmployeeTree.element().attr("id"),itemTemplate:function(n,t,r){var u=$("<div />"),f;return n.icon&&(f=$("<span>").css({"font-size":i,float:"left",color:r.css("color"),"margin-right":"5px"}).addClass("p-"+n.icon.toLowerCase()),u.append(f)),n.items&&u.append('<span class="dx-icon-spinright"><span>'),u.append(n.text),u},onItemClick:function(n){n.itemData.items||pmTreeEmployee_Core_ItemClick(n.itemData.name)}})},1)}function txtSearch_keyup_EmployeeTree(n,t,i){n._Timeout&&clearTimeout(n._Timeout);n._Timeout=setTimeout(function(){var r=GetText(n),t,u,f;(r!==n.ValueOld||i===!0)&&(t=r,isNullOrWhitespace(t)&&(t=""),t=RemoveToneMarks(t).toLowerCase(),u=getTreeEmployeeJS(n.POption),f=u.getVisibleColumns().map(function(n){return n.dataField}),u.filter(function(n){return n.__Select||(n.__Select=f.map(function(t){return n[t]==null?"":n[t].toString().toLowerCase()}).join(" ")),RemoveToneMarks(n.__Select).includes(t)}));n.ValueOld=r},delayInput)}function btnPinDockSessionEmployee_Click(){setCookie("StateLeftPanel","false");ShowEmployeeTree()}function ReBuildWorkingEmployeeTreeAsync(){mnuReloadTreeList_ItemClick()}function mnuReloadTreeList_ItemClick(){var n=getTreeEmployee();n&&Grid_CallbackData(n,"mnuReloadTreeList")}function getTreeEmployee(){if(typeof lbltabemployeetree!="undefined")return lbltabemployeetree.activeTabIndex===1?tlTerminatedEmployee:tlEmployee}function getTreeEmployeeJS(){if(typeof lbltabemployeetree!="undefined")return $("#lbltabemployeetree").dxTabPanel("instance").option("selectedIndex")===1?$("#tlTerminatedEmployee").dxTreeList("instance"):$("#tlEmployee").dxTreeList("instance")}function mnuReloadTreeList(n,t){var i,r;n.SetVal("SubmitCommand","mnuReloadTreeList");i=n.GetParamForPost();i.value=t.option("name");r={data:i};n.PostToParadise(r)}function pmTreeEmployee_Core_ItemClick(n){var f=POptionDic.employeetree,t=getTreeEmployeeJS(f),i,r,u,e,o;n==="mnuReloadTreeList"?mnuReloadTreeList(f,t):n==="mnuRemoveSelectedEmployee"?t.deselectAll():n==="btnAddEmployeeInfo"?ViewHRStaffInfo(" "):n==="btnViewGeneralInformation"||n==="btnViewEmployeeDetail"?(i=t.option("focusedRowKey"),isNullOrWhitespace(i)?i="":(r=t.getSelectedRowKeys("all"),r.includes(i)||(r.push(i),t.clearSelection(),t.option("selectedRowKeys",r))),u=i.startsWith("emp")?i.substring(3):"-1",n==="btnViewEmployeeDetail"?ViewEmployeeDetail(u):ViewHRStaffInfo(u)):n.startsWith("mnuCollapseLevel")&&(e=ParseInt(n.replace("mnuCollapseLevel",""))+1,o=t.getDataSource()._store._array.filter(function(n){return n.Level<e}).map(function(n){return n.ObjectID}),t.option("expandedRowKeys",o),tlEmployee_onSelectionChanged_Core(t,null))}function tlEmployee_rowdblclick(n,t){var u=n,i=t.key,r;isNullOrWhitespace(i)?i="":(r=u.getSelectedRowKeys("all"),r.includes(i)||(r.push(i),u.clearSelection(),u.option("selectedRowKeys",r)));i.startsWith("emp")&&ViewHRStaffInfo(i.substring(3))}function EmployeeTree_Init(){_ShowEmployeeTree()}function _ShowEmployeeTree(){var n=window.UserID>-1&&toBoolean(getCookie("StateLeftPanel"));n&&ShowEmployeeTree()}function _LoginNewCore(){Object.keys(window.POptionDic).forEach(function(n){var t=window.POptionDic[n];t&&(t.Dispose&&t.Dispose(),t.KNC&&t.KNC!=="login"&&delete window[t.KNC])});$(idOpenForm).html("");$(window.HtmlCacheDiv).html("");$("[id$='_PU']").html("");window.PopupDic={};window.POptionDic={};window.DataSourceConfig={};$(window.menusearchPopup).remove();window.drawerObj&&(window.drawerObj.option("template",""),window.drawerObj.option("opened",!1))}function _LoginNew(){_LoginNewCore();window.UserID>-1&&ReloadExistsEmployeeTree()}function ReloadExistsEmployeeTree(){var n=POptionDic.employeetree,t,i;n&&(n.SetVal("SubmitCommand","Reload"),t=n.GetParamForPost(),i={data:t},n.PostToParadise(i))}function lbltabemployeetree_ActiveTabChanged_ET(n,t){if(n.POption.txtSearch){var i=GetText(n.POption.txtSearch);isNullOrWhitespace(i)||txtSearch_keyup_EmployeeTree(n.POption.txtSearch,t,!0)}}function FormPopup_Closing(n){var u=n.controlChange,h,c,l;if(u){if(n.POption){var r=u.POption,i=n.POption.dataRowdblclick,t=i[u.ColumnName],s=u;if(u.IsAddNew===!0&&n.POption.ChangedData&&typeof u.PerformCallback=="function")n.IsAddNew=!1,t=i[u.ColumnName],n.POption.SetVal("SubmitCommand","CBB_Reload"),h=s.POption.GetParamForPost(),h.ColumnName=u.ColumnName,c={data:h,AfterOnSuccess:function(){s.name.includes("grdTE_")?_GVS_(f,f.focusedRowIndex,s.ColumnName,t):SetValue(s,t)}},n.POption.PostToParadise(c);else if(n.POption.ChangedData&&!r.IsHRSI)OnReload(u,null);else if(t==undefined&&u.ColumnName.toLowerCase().contains("employeeid")&&(t=i.EmployeeID),IsNullOrEmpty(t)||SetValue(u,t),r.IsShowLayout===!0)r.emTmp&&i.EmployeeID&&SetValue(r.emTmp,i.EmployeeID),r.lgnTmp&&i.LoginName&&SetValue(r.lgnTmp,i.LoginName),r.fnTmp&&i.FullName&&SetValue(r.fnTmp,i.FullName),r.dvTmp&&i.DivisionID&&SetValue(r.dvTmp,i.DivisionID),r.dpmTmp&&i.DepartmentID&&SetValue(r.dpmTmp,i.DepartmentID),r.ssTmp&&i.SectionID&&SetValue(r.ssTmp,i.SectionID),r.grTmp&&i.GroupID&&SetValue(r.grTmp.GroupID),r.pstTmp&&i.PositionID&&SetValue(r.pstTmp,i.PositionID),IsNullOrEmpty(t)||(r.emTmp==u?(r.SetVal("paradise_hrm",EncryptionStringEncryption(JSON.stringify({ParamControls:{"@EmployeeID":t}}))),OnReload(u,null)):r.lgnTmp==u&&OnReload(u,null));else if(l=GetName(u),u.ColumnName){var f=r.grdTE,e=r.Get__ID(),o=typeof f.option=="function"?f.option("focusedRowIndex"):f.focusedRowIndex;t=i[u.ColumnName];t&&_GVS_(f,o,u.ColumnName,t,null,e);t=i.FullName;t&&_GVS_(f,o,"FullName",t,null,e);t=i.DivisionID;t&&_GVS_(f,o,"DivisionID",t,null,e);t=i.DepartmentID;t&&_GVS_(f,o,"DepartmentID",t,null,e);t=i.SectionID;t&&_GVS_(f,o,"SectionID",t,null,e);t=i.GroupID;t&&_GVS_(f,o,"GroupID",t,null,e);t=i.LoginName;t&&_GVS_(f,o,"LoginName",t,null,e);t=i.PositionID;t&&(_GVS_(f,o,"PositionID",t,null,e),_GVS_(f,o,"PositionIDCode",t,null,e))}n.POption.dataRowdblclick={}}else u.IsAddNew&&(n.IsAddNew=!1,SetValue(u,u.lastChangedValue));n.controlChange=null}FormPopupAlias=null}function pcCF_Closing(n){n.FunctionName_pcCF_EndCallback!==""&&RunJS(n.FunctionName_pcCF_EndCallback)}function HyperLink_OpenMenu_ClickNewWindow(n){if(!IsNullOrEmpty(n.PUrl)&&n.PUrl!=="#"){var t=window.open(window.APPLICATION_ADDRESS+n.PUrl,"_blank");t&&t.focus()}}function HyperLinkExecuteSQL(n,t,i,r){var f=i.POption,u=f.GetParamForPost(),e,o;u.SubmitCommand="HyperLinkExecuteSQL";e=i.GetRowKey(r);u.selectedRowKeys=e;u.ColumnName=n.ColumnName;o={data:u};f.PostToParadise(o)}function HyperLink_OpenMenu_Click(n){HyperLink_OpenMenu_Core(n.PUrl)}function HyperLink_OpenMenu_Core(n){if(!IsNullOrEmpty(n)&&n!=="#"){var t={url:n};OpenForm(t)}}function HyperLinkWithPopup_Click(n){IsNullOrEmpty(n.PUrl)||n.PUrl==="#"||ShowPopupWithUrlWidth_ID(n,n.PUrl)}function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function _possibleConstructorReturn(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:n}function _inherits(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}function dataURLtoFile(n,t){if(!IsNullOrEmpty(n)&&!IsNullOrEmpty(t)){for(var r=n.split(","),e=r[0].match(/:(.*?);/)[1],u=atob(r[1]),i=u.length,f=new Uint8Array(i);i--;)f[i]=u.charCodeAt(i);return new File([f],t,{type:e})}return null}function _base64ToArrayBuffer(n){for(var i=window.atob(n),r=i.length,u=new Uint8Array(r),t=0;t<r;t++)u[t]=i.charCodeAt(t);return u.buffer}function base64ToArrayBuffer(n){for(var i=window.atob(n),r=i.length,u=new Uint8Array(r),t=0;t<r;t++)u[t]=i.charCodeAt(t);return u}function getCookie(n){var i=document.cookie.match(new RegExp("(^| )"+n+"=([^;]+)")),t;if(i){t=i[2];try{t=EncryptionStringDecryption(t)}catch(r){t=""}return t}return""}function setCookie(n,t,i,r){var u=new Date,f,e;u.setTime(u.getTime()+2592e6);f="expires="+u.toUTCString();try{t=EncryptionStringEncryption(t)}catch(o){t=""}e=r===!0&&window.location.origin.startsWith("https")?"; Secure; HTTPOnly":"";document.cookie=n+"="+t+";"+f+"; path="+APPLICATION_ADDRESS+e}function GetKeysObject(n){var t=[];for(var i in n)t.push(i);return t}function isNot(n){return n!==undefined&&n!==null}function IsNullOrEmpty(n){return n==undefined||n==null||n===""}function ExistsData(n){return!(n==undefined||n==null||!(n.length&&n.length>0))}function isNullOrWhitespace(n){return n==null?!0:(typeof n!="string"&&(n=n.toString()),n.replace(/\s/g,"").length<1)}function toBoolean(n,t,i){if(n)if(typeof n=="string"){var r=n.toLowerCase();n=r==="true"?!0:r==="false"||isNullOrWhitespace(r)?!1:r!=="0"}else typeof n=="number"?n=!(n===0):typeof n=="boolean"&&n!=!0&&(n=!1);else t===!1&&(i||(i=!1),n=i);return n}function ParseInt(n){if(n==null||n==="")n=0;else{var n=parseInt(n);_isNaN(n)&&(n=0)}return n}function ParseFloat(n){if(typeof n=="number")n=n;else if(n==null||n==="")n=0;else{var n=parseFloat(n);_isNaN(n)&&(n=0)}return n}function _isNaN(n){var t=Number(n);return t!=n}function isNumeric(n){return!isNaN(n)}function removeFromArray(n,t){var i=n.indexOf(t);return i!==-1&&n.splice(i,1),n}function rgb2hex(n){return n=n.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i),n&&n.length===4?"#"+("0"+ParseInt(n[1],10).toString(16)).slice(-2)+("0"+ParseInt(n[2],10).toString(16)).slice(-2)+("0"+ParseInt(n[3],10).toString(16)).slice(-2):""}function ColorLuminance(n,t){n=String(n).replace(/[^0-9a-f]/gi,"");n.length<6&&(n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2]);t=t||0;for(var u="#",i,r=0;r<3;r++)i=ParseInt(n.substr(r*2,2),16),i=Math.round(Math.min(Math.max(0,i+i*t),255)).toString(16),u+=("00"+i).substr(i.length);return u}function getParameterCaseInsensitive(n,t){var r="",i;return t=t.toLowerCase(),i=Object.keys(n).filter(function(n){return n.toLowerCase()===t}),i.length>0&&(r=i[0]),n[r]}function callFunctionFromStringObj(n,t,i){var r=getParameterCaseInsensitive(n,t);typeof r=="function"&&(i==null&&(i=[]),r.apply(n,i))}function callFunctionFromString(n,t){callFunctionFromStringObj(window,n,t)}function callFunctionFromStringOne(n,t){callFunctionFromStringObj(window,n,[t])}function CallMethod(n,t,i){n||(n="");n=n.toLowerCase();i||(i=[]);var f=n.lastIndexOf("."),e=f<0?"":n.substring(f+1),r=POptionDic[e],u=r?r[t]:null;typeof u!="function"&&(r=window,u=r[t]);typeof u=="function"&&u.apply(r,i)}function callMethod(n,t,i){n||(n="");n=n.toLowerCase();t||(t="");t=t.toLowerCase();i||(i=[]);var r=n.lastIndexOf("."),u=r<0?"":n.substring(r+1),f=POptionDic[u],e=_callMethod(f,i,t);typeof e!="function"&&_callMethod(window,i)}function _callMethod(n,t,i){var r=n?Object.keys(n).filter(function(n){return n.toLowerCase()===i}).firstOrDefault():null;return isNullOrWhitespace(r)||(r=n[r],typeof r=="function"&&r.apply(n,t)),r}function RemoveToneMarks(n){var i,t,u,r;if(!window.diacriticsMap)for(i=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],window.diacriticsMap={},t=0;t<i.length;t++)for(u=i[t].letters.split(""),r=0;r<u.length;r++)window.diacriticsMap[u[r]]=i[t].base;return n.replace(/[^A-Za-z0-9\[\] ]/g,function(n){return diacriticsMap[n]||n})}function RemoveToneMarks_Js(n){return RemoveToneMarks(n.trim().toLowerCase()).replace(/[^\w]/gi,"")}function DTP_DDD_C_mc(n){var t=$("#"+n.name+"_DDD_C_mc");t.css("display","none");t=$("#"+n.name+"_controllerContainer");t.length>0&&(t=t.children()[0],t.style.padding="0px",t.style.height="0px",t.style.zIndex="-1")}function HideDate_DropDownJS(n,t){if(!IsMobile()){var r=$("#"+t.component._popupContentId).children(),i=n.option("displayFormat");i||(i="");i=i.toLowerCase();i.startsWith("hh:mm")&&$(r.children()[0]).children().css({display:"none"})}}function DTP_DropDownJS(n,t){var i,l,r,e,h,c;if(IsMobile())i=n.option("width"),i=ParseFloat(i),(!i||i<444)&&(i=444),i>window.innerWidth&&(i=window.innerWidth),i=i+"px",t.component._popup.option("width",i);else if(l=$("#"+t.component._popupContentId).children(),r=n.option("displayFormat"),r||(r=""),r=r.toLowerCase(),l.length>0&&r.includes("hh:mm")){var s=n.option("name"),o=s+"HH",u=s+"mm",a=s+"ss",f=window[o];f||(e=$("#"+t.component._popupContentId+" .dx-timeview-field"),e.children().css({display:"none"}),e.append('<div id="'+o+'"><\/div>'),e.append('<div id="'+u+'"><\/div>'),r.includes(":ss")&&e.append('<div id="'+a+'"><\/div>'),f=window[o],f.option={},f.option.width=100,f.option.onValueChanged=function(n){var t=n.component.option("value");h.option("value",t)},f.option.dataSource=[00,01,02,03,04,05,06,07,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],window[u].option={},window[u].option.width=100,window[u].option.onValueChanged=function(n){var t=n.component.option("value");c.option("value",t)},window[u].option.dataSource=[00,01,02,03,04,05,06,07,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59],ComboBoxJS_Init(f),ComboBoxJS_Init(window[u]));h=$($("#"+t.component._popupContentId+" .dx-numberbox")[0]).dxNumberBox("instance");c=$($("#"+t.component._popupContentId+" .dx-numberbox")[1]).dxNumberBox("instance");$("#"+o).dxSelectBox("instance").option("value",h.option("value"));$("#"+u).dxSelectBox("instance").option("value",c.option("value"))}}function Date_yyyy_mm_dd_hh_mm_ss(n){return n?n.getFullYear().toString()+"-"+((n.getMonth()+1).toString().length==2?(n.getMonth()+1).toString():"0"+(n.getMonth()+1).toString())+"-"+(n.getDate().toString().length==2?n.getDate().toString():"0"+n.getDate().toString())+" "+(n.getHours().toString().length==2?n.getHours().toString():"0"+n.getHours().toString())+":"+((ParseInt(n.getMinutes()/5)*5).toString().length==2?(ParseInt(n.getMinutes()/5)*5).toString():"0"+(ParseInt(n.getMinutes()/5)*5).toString())+":00":n}function UpdateTextMultiCheck(n){var t=n.GetSelectedItems();t!=null?n.dropDown.SetText(t.map(function(n){return n.text}).join(n.Separator)):n.dropDown.SetText("")}function ParadiseMultiCheck_I(n){n.GetValue=function(){return n.ListBox.GetSelectedItems().map(function(n){return n.value}).join(n.Separator)}}function ParadiseDropDownButton_DD(n){var t=n.GetWidth();n.ListBox.GetWidth()<t&&n.ListBox.SetWidth(t)}function ParadiseDropDownButton_I(n){n.FindInputElement().style.cursor="pointer";$(n.FindInputElement()).hover(function(n){$(this).css("background-color",n.type==="mouseenter"?BaseColor:"transparent")})}function onCbxParent_Filtering(n,t,i,r){var e,u,f;try{e=onCbx_FilteringBase(n,t);u=GetValue(r);u=u!=null?u.toString():"";f=t.item.GetColumnText(i);f=f!=null?f.toString():"";e=e&&f===u;t.isFit=e}catch(t){_oneror(t)}}function onCbx_FilteringBase(n,t){if(t.filter==="")return!0;var i=t.item.texts.join("");return RemoveToneMarks_Js(i).indexOf(RemoveToneMarks_Js(t.filter))>-1}function onCbx_Filtering(n,t){t.isFit=onCbx_FilteringBase(n,t)}function onControl_Filtering(n,t){t.isFit=onCbx_FilteringBase(n,t)}function FullHeightGrdViewRoot(n,t){var i,f,r,u;n&&t&&(i=t.GetMainElement?t.GetMainElement():t.element?t.element():t,i.length&&(i=i[0]),f=n.GetMainElement?n.GetMainElement():n,r=$("#"+t.name+"_0"),r.length>0&&(u=n.GetHeight()+(i.offsetHeight+i.offsetTop-ParseFloat(i.style.paddingTop)-ParseFloat(i.style.paddingBottom)-r[0].offsetHeight),u>0&&n.SetHeight(u)))}function FullHeightGrdParentCore(n,t){var u,i;if(n&&t){var e=t.GetHeight()-25,f=n.GetHeight(),r=n.GetMainElement?$(n.GetMainElement()):n.element?n.element():n;for(u=0;u<11;u++){if(i=r.height(),i>f&&i<e&&i>f+100){i>0&&n.SetHeight(i);break}r=r.parent()}}}function FullHeightGrdParent(n,t){FullHeightGrdViewRoot(n,t);FullHeightGrdParentCore(n,t)}function HeightRedundancyRootLayout(n,t){var r,f,i,u;n&&(r=n,typeof n=="string"&&(r=window[n]),r&&(n.GetMainElement?n=n.GetMainElement():n.element&&(n=n.element()),f=t.GetHeight(),i=f-$("#"+t.name+"_0").height(),n.SetHeight?(i+=n.GetHeight(),n.SetHeight(i)):n.clientHeight?(i+=n.clientHeight,n.style.height=i+"px"):(u=t.GetItemByName?t.GetItemByName(n):null,u?(n=$("#"+t.name+"_"+u.path),i+=n.height(),n.height(i)):(n=$(n),i+=n.height(),n.height(i))),n.instance&&n.instance.refresh&&n.instance.refresh()))}function FullHeightParent(n,t){var f,i,u,r;if(n!=null&&t>1)for(f=n.GetHeight(),i=$(n.GetMainElement()),u=0;u<t;u++)r=i.height(),r>f&&r>0&&n.SetHeight(r),i=i.parent()}function FullHeightGrdView(n,t){var i=t.GetMainElement(),r=n.GetMainElement(),u=n.GetHeight()+(i.offsetHeight+i.offsetTop-ParseFloat(i.style.paddingTop)-ParseFloat(i.style.paddingBottom))-(r.offsetHeight+r.offsetTop);n.SetHeight(u)}function ExistsControl(n){return n!=null&&(n.GetMainElement&&n.GetMainElement()!=null||n.element&&n.element())}function sleep(n){for(var i=(new Date).getTime(),t=0;t<1e7;t++)if((new Date).getTime()-i>n)break}function getQueryParams(n){var t={},r,u,i;if(typeof n=="string"){if(n=n.split("?"),n.length>1)for(n=n[1],n=n.split("+").join(" "),u=/[?&]?([^=]+)=([^&]*)/g;r=u.exec(n);)t[decodeURIComponent(r[1]).toLowerCase()]=decodeURIComponent(r[2]);n=n[0];t.tablename||(i=n.split("/"),i.length>0&&(t.tablename=i[i.length-1]));t.tablename&&(t.tablename=t.tablename.toLowerCase())}return t}function DateEdit_GotFocus(n){!n.GetReadOnly()==!0&&n.ShowDropDown&&n.ShowDropDown()}function WidthFix(n){var t;n&&IsMobile()!==!0&&(n.GetWidth?(t=n.GetWidth()-30,n.SetWidth(t),n.GetMainElement&&(n.GetMainElement().style.maxWidth=t+"px")):n.style&&(t=n.clientWidth,t>window.innerWidth&&(t=window.innerWidth),n.style.maxWidth=t-50+"px",n.style.width=n.style.maxWidth))}function convertToObservable(n,t){var u=[],i,r,f;if(n!==null)for(i=0;i<n.length;i++)r=n[i],f=window[t]?new window[t](r):new _item(r),u.push(f);return u}function ObjToObj(n,t){Object.keys(n).forEach(function(i){t[i]=n[i]})}function _itemBase(n,t){Object.keys(n).forEach(function(i){t[i]=ko.observable(n[i])})}function _postMessage(n){if(window.webkit){if(!webkit.messageHandlers.cordova_iab)throw"Not support!";webkit.messageHandlers.cordova_iab.postMessage(JSON.stringify(n))}}function RunCordova(n,t){callFunctionFromString(n.functionNameResult,[n,t])}function SetValue(n,t){n&&(typeof n.SetValue=="function"?n.SetValue(t):typeof n.option=="function"&&n.option("value",t))}function GetValue(n){if(n){if(n.GetValue)return n.GetValue();if(typeof n.option=="function")return n.option("value")}}function SetText(n,t){n&&(n.SetText?n.SetText(t):typeof n.option=="function"&&n.option("text",t))}function GetText(n){if(n){if(n.GetText)return n.GetText();if(typeof n.option=="function")return n.option("text")}}function SetErrorText(n,t){var i=!isNullOrWhitespace(t);n.SetIsValid?(n.SetIsValid(!i),n.SetErrorText(t)):typeof n.option=="function"&&(n.option("validationError",{type:"required",message:t}),n.option("validationStatus",i?"invalid":"valid"))}function SetRequired(n,t){if(n){var i=!isNullOrWhitespace(t);n.SetIsValid?(n.SetIsValid(!i),n.SetErrorText(t)):n.element().dxValidator({validationRules:[{type:"required",message:t}]})}}function Random(n){for(var t=n-1,i=0;t<n;)if(t=Math.random()*1e3,t=ParseInt(t),i++,i>5){t=n;break}return t}function copyToClipboard(n){var t=document.createElement("textarea");document.body.appendChild(t);t.value=n;t.select();document.execCommand("copy");document.body.removeChild(t)}function textareaCopyBuild(){if(!window.textareaCopy){var n=document.createElement("textarea");document.body.appendChild(n);window.textareaCopy=$(n);window.textareaCopy.css({padding:"0px",width:"0px",opacity:0,height:"0px",position:"absolute",top:"-9999px",left:"-9999px"})}}function copy(n){textareaCopyBuild();window.textareaCopy.val(n).select();document.execCommand("copy")}function paste(){if(window.clipboardData)return window.clipboardData.getData("Text");textareaCopyBuild();var n="",t=window.textareaCopy.val("").select();return document.execCommand("Paste")&&(n=t.val()),n}function GetMainElement(n){return n.GetMainElement?$(n.GetMainElement()):n.element?n.element():void 0}function _GetControlByName(n){var t=window[n];return t&&!t.name&&t.classList&&(t.classList.contains("dx-dropdownbox")?t=$(t).dxDropDownBox("instance"):t.classList.contains("dx-radiogroup")?t=$(t).dxRadioGroup("instance"):t.classList.contains("dx-colorbox")?t=$(t).dxColorBox("instance"):t.classList.contains("dx-checkbox")?t=$(t).dxCheckBox("instance"):t.classList.contains("dx-datebox")?t=$(t).dxDateBox("instance"):t.classList.contains("dx-button")?t=$(t).dxButton("instance"):t.classList.contains("dx-textarea")?t=$(t).dxTextArea("instance"):t.classList.contains("dx-tagbox")?t=$(t).dxTagBox("instance"):t.classList.contains("dx-selectbox")?t=$(t).dxSelectBox("instance"):t.classList.contains("dx-listbox")?t=$(t).dxListBox("instance"):t.classList.contains("dx-list")&&(t=$(t).dxList("instance"))),t}function string2Bin(n){for(var i=[],t=0;t<n.length;t++)i.push(n.charCodeAt(t).toString(2));return i}function bin2String(n){for(var i="",t=0;t<n.length;t++)i+=String.fromCharCode(parseInt(n[t],2));return i}function GetUniqueID(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}function GetUniqueID2(n){var t;n||(n=36);var i="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",u=r.length;for(t=0;t<n;t++)i+=r.charAt(Math.floor(Math.random()*u));return i}function EncryptionStringEncryptionCore(n,t){var i=getEncryptionKey();t&&(i=CryptoJS.MD5(i).toString());var r={mode:CryptoJS.mode.ECB,padding:CryptoJS.pad.Pkcs7},u=CryptoJS.enc.Utf8.parse(n),f=CryptoJS.enc.Hex.parse(i),e=CryptoJS.TripleDES.encrypt(u,f,r);return e.toString()}function EncryptionStringEncryption(n){return EncryptionStringEncryptionCore(n,!0)}function EncryptionStringDecryptionCore(n,t){var i=getEncryptionKey(),t=!0;t&&(i=CryptoJS.MD5(i).toString());var r={mode:CryptoJS.mode.ECB,padding:CryptoJS.pad.Pkcs7},u=CryptoJS.enc.Hex.parse(i),f=CryptoJS.TripleDES.decrypt({ciphertext:CryptoJS.enc.Base64.parse(n)},u,r);return f.toString(CryptoJS.enc.Utf8)}function EncryptionStringDecryption(n){return EncryptionStringDecryptionCore(n,!0)}function getEncryptionKey(){var t,i,n,r,u;if(!window._EncryptKey){for(t="56 7F 6B 5E 72 73 6F 78 71 3B 4A 3D".split(" "),i="",n=0;n<t.length;n++)r=t[n],u=parseInt(r,16)-10,i+=String.fromCharCode(u);window._EncryptKey=i}return window._EncryptKey}function DeleteFunctionObject(n){Object.keys(n).forEach(function(t){typeof n[t]=="function"&&delete n[t]})}function ArrayToStringObject(n){Object.keys(n).forEach(function(t){var i=n[t];Array.isArray(i)&&(n[t]=JSON.stringify(i))})}function DeleteFunctionArrayToStringObject(n){Object.keys(n).forEach(function(t){var i=n[t];Array.isArray(i)&&(n[t]=JSON.stringify(i));i=="function"&&delete n[t]})}function getFormData(n){var i=n.serializeArray(),t={};return $.map(i,function(n){t[n.name]=n.value}),t}function GridUpdatePost(n,t){var i=null,o,h,s,f,r,c,e,l,u;if(n)if(n.getController){if(o=n.option("name"),t)h=n.option("keyExpr"),i=n.getDataSource().store()._array.map(function(n){for(var r,u={type:"update",key:n[h],data:{}},i=0;i<t.length;i++)r=t[i],u.data[r]=n[r];return u});else if(s=n.option("editing.changes"),s&&(i=s.slice(),i))for(f=0;f<i.length;f++)r=i[f],delete r.oldData,delete r.isValid,r.key.__DX_INSERT_INDEX__&&(r.key=r.key.__DX_INSERT_INDEX__);c=i?JSON.stringify(i):"";$("#"+o+"_I").val(c);e=n.option("selection");e&&e.mode&&e.mode!=="none"&&(l=n.getSelectedRowKeys("all"),$("#"+o+"_SE").val(JSON.stringify(l)))}else n.batchEditApi&&(n.batchEditApi.EndEdit(),i=n.batchEditApi.GetUnsavedChanges(),u=$.extend({},i),u.insertedValues=n.batchEditApi.GetHelper().insertedValues,u.deletedValues=n.batchEditApi.GetDeletedRecordKeys(),_GridUpdatePost(n,u.insertedValues,!0),_GridUpdatePost(n,u.updatedValues),$("#"+n.name+"_I").val(JSON.stringify(u)));return i}function _GridUpdatePost(n,t,i){for(var r,o,f,u,c,s,h=Object.keys(t),e=0;e<h.length;e++)for(r=t[h[e]],o=Object.keys(r),f=0;f<o.length;f++)u=o[f],isNumeric(u)&&(c=n.GetColumn(u),s=c.fieldName,IsNullOrEmpty(s)||(r[s]=i===!0?r[u][0]:r[u]),delete r[u])}function TabPanel_itemTitleTemplate(n,t,i){var r=$("<span>"+n.name+"<\/span>");i.append(r)}function TabPanel_itemTemplate(n,t,i){i.append($(n.val));RunJS(n.run)}function foreachRange(n,t){var i,r;if(n.startRowIndex>=0){var u=Math.min(n.startRowIndex,n.endRowIndex),f=Math.max(n.startRowIndex,n.endRowIndex),e=Math.min(n.startColumnIndex,n.endColumnIndex),o=Math.max(n.startColumnIndex,n.endColumnIndex);for(i=u;i<=f;i++)for(r=e;r<=o;r++)t(i,r)}}function showSelection(n,t){n.element().find(".cell-selected").removeClass("cell-selected");foreachRange(t,function(t,i){n.getCellElement(t,i).addClass("cell-selected")})}function cancelEditDataGrid(n){n&&(n.option&&n.cancelEditData?n.cancelEditData():n.CancelEdit&&(n.CancelEdit(),n.batchEditApi&&n.batchEditApi.EndEdit()),$("#"+GetName(n)+"_I").val(""))}function GetRowKey(n,t){return n.option?n.getKeyByRowIndex(t):n.GetRowKey(t)}function DiagramJSDataSource(n,t){n&&(n.option("customShapes",t.map(function(n){return{type:n.ID,baseType:"rectangle",defaultWidth:1.5,defaultHeight:1.5,allowEditText:!1,allowResize:!0,title:n.DepartmentName}})),n.option("nodes.dataSource",t))}function DataSourceInsertUpdate(n,t){if(n){var i=n.getDataSource().store();i.push([{type:"update",data:t}]);i.push([{type:"insert",data:t}])}}function DataSourceUpdate(n,t){if(n){var i=n.getDataSource().store();i.push([{type:"update",data:t}])}}function DataSourceInsert(n,t){var u,i,r,f;n&&(u=n.getDataSource().store(),i=n.getDataSource().items(),i==null&&(i=u._array),r=i?i.length:0,r==null&&(r=0),u.push([{type:"insert",data:t,index:r}]),f=n.element()[0]._data,f&&f.splice(r,0,t))}function DataSourceRemove(n,t){var i,r;n&&(n.getDataSource().store().push([{type:"remove",key:t}]),i=n.element()[0]._data,i&&(r=n.getDataSource().store().key(),n.element()[0]._data=i.filter(function(n){return n[r]!==t})))}function RunScript_scr_(n){for(var i,t=0;t<n.length;t++)i=n[t],IsNullOrEmpty(i.innerHTML)||RunJS(i.innerHTML)}function RunScript_scr___(n){IsNullOrEmpty(n.innerHTML)||setTimeout(function(){RunJS(n.innerHTML)},.01)}function RunScript_scr__(n){for(var t=0;t<n.length;t++)RunScript_scr___(n[t])}function GetAllColumnFieldName(n){return n.option?n.option("columns").filter(function(n){return n.fieldName!=null}).map(function(n){return n.fieldName}):n.columns.map(function(n){return n.fieldName})}function SetProperType(n,t,i){if(n){var r=n[t];r?r.apply(null,[i]):n.option&&n.option(t,i)}}function GetHtmlEvenKey(n){return n?n.jQueryEvent?n.jQueryEvent:n.event?n.event:n:n}function insertCss(n){var t=document.createElement("style"),i;t.type="text/css";t.styleSheet?t.styleSheet.cssText=n:t.innerHTML=n;i=document.getElementsByTagName("style");i=i[i.length-1];i.parentElement.appendChild(t)}function GetScript(n,t,i){setTimeout(function(){i||(i=HPAVertion);var r=document.createElement("script"),f=document.getElementsByTagName("script"),e=f[f.length-1],u=window.APPLICATION_ADDRESS;u.endsWith("/")||(u+="/");r.src=u+n+"?"+i;t===!0&&(r.async=!0);r.href="#";r.type="text/javascript";e.parentNode.insertBefore(r,e)},1)}function GetCss(n,t,i){setTimeout(function(){i||(i=HPAVertion);var r=document.createElement("link"),f=document.getElementsByTagName("style"),e=f[f.length-1],u=window.APPLICATION_ADDRESS;u.endsWith("/")||(u+="/");r.src=u+n+"?"+i;t===!0&&(r.async=!0);r.href=r.src;r.type="text/css";r.rel="stylesheet";e.parentNode.insertBefore(r,e)},1)}function getQuery(n,t){return(n.match(new RegExp("[?&]"+t+"=([^&]+)"))||[,null])[1]}function GetName(n){if(n)return typeof n.option=="function"?n.option("name"):n.name?n.name:n.id}function HeightPercentageClient(n,t,i){if(n&&!IsMobile()){var r=window.innerHeight*t;i>0&&(r-=i);SetHeight(n,r)}}function GetHeight(n){if(n)return n.GetHeight?n.GetHeight():typeof n.option=="function"?ParseFloat(n.option("height")):null}function SetHeight(n,t){if(n){if(n.SetHeight)return n.SetHeight(t);typeof n.option=="function"?n.option("height",t):n.height?n.height(t):n.clientHeight&&(n.style.height=t+"px");n.instance&&n.instance.refresh&&n.instance.refresh()}}function SetVisibleLayout(n,t,i){n&&(n.GetItemByName?SetVisible(n.GetItemByName(t),i):n.POption&&(t.includes(n.POption.KNC)||(t=n.POption.KNC+t),t="."+t+"Css",$(t).css("visibility",i?"visible":"hidden")))}function SetVisible(n,t){if(n){if(n.SetVisible)return n.SetVisible(t);typeof n.option=="function"?n.option("visible",t):n.style&&(n.style.display=t===!0?"block":"none")}}function SetFocus(n){if(n)return n.SetFocus?n.SetFocus():typeof n.focus=="function"?n.focus():0}function SetReadOnly(n,t){if(n)return n.SetReadOnly?n.SetReadOnly(t):typeof n.option=="function"?n.option("readOnly",t):0}function SetEnabled(n,t){if(n)return n.SetEnabled?n.SetEnabled(t):typeof n.option=="function"?n.option("disabled",!t):0}function GetEnabled(n){if(n)return n.GetEnabled?n.GetEnabled():typeof n.option=="function"?!toBoolean(n.option("disabled")):0}function SetReadOnlyControl(n,t){n&&(n.SetReadOnly?SetReadOnly(n)!=t&&SetReadOnly(n,t):n.SetEnabled&&GetEnabled(n)!=!t&&SetEnabled(n,!t))}function GetValueMulti(n,t){return typeof n=="string"&&(t==null&&(t="&"),n=n.toString().split(t).map(function(n){return n.trim()}).filter(function(n){return!IsNullOrEmpty(n)})),n!=null&&(n==null||Array.isArray(n)||(n=[n]),n.length==1&&n[0]==null&&(n=null)),n}function Get_Text(n,t,i,r,u){if(Array.isArray(n)||(n=GetValueMulti(n,u)),Array.isArray(n))if(typeof n.firstOrDefault()=="number"&&(n=n.map(function(n){return n.toString()})),r&&r.items&&(r=r.items()),r&&t){var f=r.filter(function(t){var r=t[i];return r==null&&n==null?!0:(r==null?r=="":typeof r!="string"&&(r=r.toString()),n.includes(r)||n.includes(t))}).map(function(n){return n[t]});n=f.join(u);f=null}else n="";return n}function uuidv4(){var n=(new Date).getTime(),t=typeof performance!="undefined"&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){var r=Math.random()*16;return n>0?(r=(n+r)%16|0,n=Math.floor(n/16)):(r=(t+r)%16|0,t=Math.floor(t/16)),(i==="x"?r:r&3|8).toString(16)})}function Update_DataSourceConfig(n,t){var i,r;if(n)return n.items||(n.items=[]),i=typeof t=="string"?t:null,t&&t.option&&(i=t.option("valueExpr"),IsNullOrEmpty(i)&&(i=t.option("keyExpr"))),r=new DevExpress.data.CustomStore({errorHandler:window._oneror,key:i,byKey:function(r){var f,u,o,e;return n.isServer===!0?(f=$.Deferred(),u=t.POption.GetParamForPost(),u.value=r,u.ColumnName=t.ColumnName,u.SubmitCommand="DataSourcebyKey",o={data:u,OnSuccess:function(n,t){return f.resolve(t),!1},afterOnError:function(){f.reject("Data Loading Error")}},t.POption.PostToParadise(),f.promise()):(e=r?r.toString():null,Array.isArray(n.items)?n.items.filter(function(n){return n[i]==r||n[i]==e||n[i]!=null&&n[i].toString()==e}).firstOrDefault():null)},load:function(i){var u=$.Deferred(),r,o,f,e;return n.isServer===!0?(r=$.extend({},i),DeleteFunctionArrayToStringObject(r),r=t.POption.GetParamForPost(r),r.value=f,r.ColumnName=t.ColumnName,r.SubmitCommand="DataSourceload",r.valuePa=GetValue(t.cbbParent),r.ColumnNamePa=t.cbbParent?t.cbbParent.ColumnName:null,o={data:r,OnSuccess:function(n,t){return u.resolve(t.data,{totalCount:t.totalCount,summary:t.summary,groupCount:t.groupCount}),!1},afterOnError:function(){u.reject("Data Loading Error")}},t.POption.PostToParadise(o),u.promise()):(f=i.searchValue,Array.isArray(n.items)||(n.items=[]),e=n.items,isNullOrWhitespace(f)||(tmp=RemoveToneMarks(f).toLowerCase(),e=n.items.filter(function(n){var t,r,i,u;if(!n.___ID){for(t="",r=Object.keys(n),i=0;i<r.length;i++)u=r[i],n[u]&&(t+=n[u].toString());t=RemoveToneMarks(t).toLowerCase();n.___ID=t}return n.___ID.includes(f)})),u.resolve({data:e,totalCount:e.length}),u.promise())}}),new DevExpress.data.DataSource({paginate:!0,onLoadError:window._oneror,store:r})}function RunJS(n){eval("try {"+n+"} catch (ex) {console.log(n);_oneror(ex);} ")}function _oneror(n){if(typeof onerror=="function")return _onerror_(n);console.log(JSON.stringify(n));throw new Error(n);}function _ReloadRandom(){var n=Random(2e3);setTimeout(function(){_Reload()},n)}function _Reload(n){window.LocalOption===0&&(ShowWaitingPanel(),UnLoadOnBeforeUnload(),isNullOrWhitespace(n)?window.location.reload():window.location=n)}function UnLoadOnBeforeUnload(){window.removeEventListener("beforeunload",_onBeforeUnload)}function LoadOnBeforeUnload(){window.addEventListener("beforeunload",_onBeforeUnload)}function _onBeforeUnload(n){if(Object.values(POptionDic).filter(function(n){return n&&n.GetVal&&toBoolean(n.GetVal("isDirty"))===!0}).firstOrDefault()!=null&&CommandLogin=="CheckLogin")return n.returnValue="Are you sure you want to close the form? Any unsaved data will be lcomost.",n.returnValue}function __Reload(n){UnLoadOnBeforeUnload();isNullOrWhitespace(n)||(window.location=n);setTimeout(function(){LoadOnBeforeUnload()},1e3)}function UpdateClientSizeDiagram(){var n,t,i,r,u;UpdateMobile();n=window.innerWidth;t=window.innerHeight;window.pnMenu&&(t-=$("#pnMenu").height());window.drawerObj&&window.drawerObj.option("opened")===!0&&(i=POptionDic.employeetree,i&&i.mLC&&(n-=i.mLC.GetWidth()));n<683&&(n=683);t<384&&(t=384);r=n/1366;u=t/768;ScreenDiagramZoom=u<r?u:r}function UpdateMobile(){window.IsMobileDevice=IsMobile();IsMobile()&&DevExpress.devices.current().platform!=="ios"&&DevExpress.devices.current({platform:"ios"})}function IsMobile(){return window.LocalOption>0?!0:DevExpress.devices.current().phone}function _LocalOption(){return window.LocalOption>0||!IsNullOrEmpty(window.paradiseparadise)}function drawPath_html(n,t,i,r,u,f,e,o,s,h,c,l){var k=u,b=f,w="",a=1,v=1,y=1,p=1;Math.abs(n-i)<3?(y=u,t>r?(p=t-r,a=i,v=r):(p=r-t,a=n,v=t)):(p=u,n>i?(y=n-i,a=i,v=r):(y=i-n,a=n,v=t));y=y-s;p=p-h;a=a-c;v=v-l;e!=""&&o!=""&&(w+='<div class="arrow_box_connector '+e+'" style="left:'+a+"px;top:"+v+"px;width:"+y+"px;height:"+p+"px;"+o+'"><\/div>');w+='<div class="diagram-connector-line" style="background-color:'+b+";left:"+a+"px;top:"+v+"px;width:"+y+"px;height:"+p+'px;"><\/div>';$("#DiagramForm").append(w)}function countPoint(n,t){for(var r=0,i=0;i<lstLastPoint.length;i++)lstLastPoint[i].X==n&&lstLastPoint[i].Y==t&&(r=r+1);return r}function EditLineDraw(n,t,i,r,u,f,e,o,s,h,c){var nt={x:n,y:t},d={x:e,y:o},y={X:n,Y:t},l={X:i,Y:r},a={X:u,Y:f},v={X:e,Y:o},k=10,g=countPoint(d.x,d.y)*k*h,w=h*k,b=c*k,p;switch(s){case"arrow_box_connector_top":y={X:y.X+w,Y:y.Y};l.X==a.X&&l.Y==a.Y&&(a={X:l.X+w,Y:l.Y},v={X:v.X+w,Y:v.Y});l={X:l.X+w,Y:l.Y};a={X:a.X,Y:a.Y+b};l={X:l.X,Y:l.Y+b};break;case"arrow_box_connector_bottom":y={X:y.X+w,Y:y.Y};l.X==a.X&&l.Y==a.Y&&(a={X:l.X+w,Y:l.Y},v={X:v.X+w,Y:v.Y});l={X:l.X+w,Y:l.Y};a={X:a.X,Y:a.Y+b};l={X:l.X,Y:l.Y+b};break;case"arrow_box_connector_right":y={X:y.X,Y:y.Y+w};l.X==a.X&&l.Y==a.Y&&(a={X:l.X,Y:l.Y+w},v={X:v.X,Y:v.Y+w});l={X:l.X,Y:l.Y+w};a={X:a.X+b,Y:a.Y};l={X:l.X+b,Y:l.Y};break;case"arrow_box_connector_left":y={X:y.X,Y:y.Y+w};l.X==a.X&&l.Y==a.Y&&(a={X:l.X,Y:l.Y+w},v={X:v.X,Y:v.Y+w});l={X:l.X,Y:l.Y+w};a={X:a.X+b,Y:a.Y};l={X:l.X+b,Y:l.Y}}p=g;switch(s){case"arrow_box_connector_top":v={X:v.X+p,Y:v.Y};l.X==a.X&&l.Y==a.Y&&(l={X:a.X+p,Y:a.Y},y={X:y.X+p,Y:y.Y});a={X:a.X+p,Y:a.Y};break;case"arrow_box_connector_bottom":v={X:v.X+p,Y:v.Y};l.X==a.X&&l.Y==a.Y&&(l={X:a.X+p,Y:a.Y},y={X:y.X+p,Y:y.Y});a={X:a.X+p,Y:a.Y};break;case"arrow_box_connector_right":v={X:v.X,Y:v.Y+p};l.X==a.X&&l.Y==a.Y&&(l={X:a.X,Y:a.Y+p},y={X:y.X,Y:y.Y+p});a={X:a.X,Y:a.Y+p};break;case"arrow_box_connector_left":v={X:v.X,Y:v.Y+p};l.X==a.X&&l.Y==a.Y&&(l={X:a.X,Y:a.Y+p},y={X:y.X,Y:y.Y+p});a={X:a.X,Y:a.Y+p}}return lstLastPoint.push(v),{firstP:y,midFirst:l,midLast:a,lastP:v}}function EditLineDraw_LV2(n,t,i,r,u,f,e,o,s,h,c,l){var g={x:n,y:t},nt={x:e,y:o},p={X:n,Y:t},a={X:i,Y:r},v={X:u,Y:f},y={X:e,Y:o},d=10,b=l*d,k=c*d,w;switch(s){case"arrow_box_connector_top":p={X:p.X+b,Y:p.Y};a.X==v.X&&a.Y==v.Y&&(v={X:a.X+b,Y:a.Y},y={X:y.X+b,Y:y.Y});a={X:a.X+b,Y:a.Y};v={X:v.X,Y:v.Y+k};a={X:a.X,Y:a.Y+k};break;case"arrow_box_connector_bottom":p={X:p.X+b,Y:p.Y};a.X==v.X&&a.Y==v.Y&&(v={X:a.X+b,Y:a.Y},y={X:y.X+b,Y:y.Y});a={X:a.X+b,Y:a.Y};v={X:v.X,Y:v.Y+k};a={X:a.X,Y:a.Y+k};break;case"arrow_box_connector_right":p={X:p.X,Y:p.Y+b};a.X==v.X&&a.Y==v.Y&&(v={X:a.X,Y:a.Y+b},y={X:y.X,Y:y.Y+b});a={X:a.X,Y:a.Y+b};v={X:v.X+k,Y:v.Y};a={X:a.X+k,Y:a.Y};break;case"arrow_box_connector_left":p={X:p.X,Y:p.Y+b};a.X==v.X&&a.Y==v.Y&&(v={X:a.X,Y:a.Y+b},y={X:y.X,Y:y.Y+b});a={X:a.X,Y:a.Y+b};v={X:v.X+k,Y:v.Y};a={X:a.X+k,Y:a.Y}}w=h*d;switch(s){case"arrow_box_connector_top":y={X:y.X+w,Y:y.Y};a.X==v.X&&a.Y==v.Y&&(a={X:v.X+w,Y:v.Y},p={X:p.X+w,Y:p.Y});v={X:v.X+w,Y:v.Y};break;case"arrow_box_connector_bottom":y={X:y.X+w,Y:y.Y};a.X==v.X&&a.Y==v.Y&&(a={X:v.X+w,Y:v.Y},p={X:p.X+w,Y:p.Y});v={X:v.X+w,Y:v.Y};break;case"arrow_box_connector_right":y={X:y.X,Y:y.Y+w};a.X==v.X&&a.Y==v.Y&&(a={X:v.X,Y:v.Y+w},p={X:p.X,Y:p.Y+w});v={X:v.X,Y:v.Y+w};break;case"arrow_box_connector_left":y={X:y.X,Y:y.Y+w};a.X==v.X&&a.Y==v.Y&&(a={X:v.X,Y:v.Y+w},p={X:p.X,Y:p.Y+w});v={X:v.X,Y:v.Y+w}}return lstLastPoint.push(y),{firstP:p,midFirst:a,midLast:v,lastP:y}}function connectElements(n,t,i,r,u,f,e){var w;if(n.offset()!=undefined&&t.offset()!=undefined){var it={Left:n.offsetParent().offset().left,Top:n.offsetParent().offset().top},o={Left:n.offset().left-it.Left,Top:n.offset().top-it.Top},s={Left:t.offset().left-it.Left,Top:t.offset().top-it.Top},h=0,c=0,l=0,a=0,v=0,y=0,b=0,k=0,ut="",d="",p=r*2,g=0,nt=0,tt=0,rt=0;o.Left+n.outerWidth()>s.Left&&o.Top+n.outerHeight()<s.Top?(h=o.Left+n.outerWidth()/2,c=o.Top+n.outerHeight(),l=s.Left+t.outerWidth()/2,a=s.Top,v=h,y=c+(a-c)/2,b=l,k=y,d="arrow_box_connector_bottom"):o.Left>s.Left+t.outerWidth()?(h=o.Left,c=o.Top+n.outerHeight()/2,l=s.Left+t.outerWidth(),a=s.Top+t.outerHeight()/2,v=h+(l-h)/2,y=c,b=v,k=a,d="arrow_box_connector_right"):o.Left<s.Left+t.outerWidth()&&o.Left+n.outerWidth()>s.Left&&o.Top>s.Top+t.outerHeight()?(h=o.Left+n.outerWidth()/2,c=o.Top,l=s.Left+t.outerWidth()/2,a=s.Top+t.outerHeight(),v=h,y=c+(a-c)/2,b=l,k=y,d="arrow_box_connector_top"):(h=o.Left+n.outerWidth(),c=o.Top+n.outerHeight()/2,l=s.Left,a=s.Top+t.outerHeight()/2,v=h+(l-h)/2,y=c,b=v,k=a,d="arrow_box_connector_left");w=EditLineDraw_LV2(h,c,v,y,b,k,l,a,d,u,f,e);h=w.firstP.X;c=w.firstP.Y;v=w.midFirst.X;y=w.midFirst.Y;b=w.midLast.X;k=w.midLast.Y;l=w.lastP.X;a=w.lastP.Y;switch(d){case"arrow_box_connector_left":g=p/-2;break;case"arrow_box_connector_bottom":nt=p/-2}drawPath_html(h,c,v,y,r,i,"","",g,nt,tt,rt);g=0;nt=0;tt=0;drawPath_html(v,y,b,k,r,i,"","",g,nt,tt,rt);g=0;nt=0;tt=0;ut="color: "+i+";background-color:"+i+";--border-var: "+p+"px;--margin-var: -"+p+"px;";switch(d){case"arrow_box_connector_left":g=p;break;case"arrow_box_connector_right":tt=p*-1;g=p/2;break;case"arrow_box_connector_bottom":nt=p;break;case"arrow_box_connector_top":rt+=p*-1;nt=p/2}drawPath_html(b,k,l,a,r,i,d,ut,g,nt,tt,rt)}}function SetFontSizeWithMaxSize(n,t,i){for(var r=8;i.offsetHeight<n;)if(r++,i.style.fontSize=r+"px",r>40||i.offsetHeight>n||i.offsetWidth>n){i.style.fontSize=r+"px";break}return r}function txtFilter_KeyUp_Core(n,t,i,r,u){n._Timeout&&clearTimeout(n._Timeout);i&&(n._Timeout=setTimeout(function(){var s=GetText(n),f,e,t,o,h;(s!==n.ValueOld||r===!0)&&(i.PerformCallback?Grid_CallbackData(i):(f=s,isNullOrWhitespace(f)&&(f=""),f=RemoveToneMarks_Js(f),i.option("remoteOperations")==!0?i.filter("value","=",f):(e=GetValue(u),e!=null&&typeof e!="string"&&(e=e.toString()),t="",u!=null&&(t=u.option("valueExpr"),IsNullOrEmpty(t)&&(t=u.option("keyExpr")),IsNullOrEmpty(t)&&(t=u.ColumnName)),o=i.option("editing.changes"),h=i.getVisibleColumns(),i.filter(function(n){var i=o?o.filter(function(t){return t.key===n.__ID}).firstOrDefault():null;return(!n.__Select||o)&&(n.__Select=RemoveToneMarks_Js(h.map(function(t){var r=i&&i.data?i.data[t.dataField]:n[t.dataField];return r=r?r.toString():"",GridViewJS_GetText_CDS(r,t)}).join(" "))),n.__Ok=n.__Select.includes(f),n.__Ok&&t!==""&&n[t]!=null&&(n.__Ok=n[t].toString()==e),n.__Ok}))));n.ValueOld=s},delayInput))}function txtFilter_grdView_KeyUp(n,t){txtFilter_KeyUp_Core(n,t,n.grdView)}function txtFilter_KeyUp(n,t){txtFilter_KeyUp_Core(n,t,n.POption.grdTE)}function tlTreeEmployee_NodeDblClick(n,t){tlTreeEmployeeCore_NodeDblClick(n,t.nodeKey)}function tlTreeEmployeeCore_NodeDblClick(n,t){if(t.startsWith("emp")){var i=t.substring(3);n.GetNodeCheckState(t)==="Unchecked"?(n.ParadisecustomArgs.value=t,Grid_CallbackData(n,"SelectedNodeViewEmployee")):ViewHRStaffInfo(i)}}function ViewHRStaffInfo(n){var t=POptionDic.hr_staffinformation_list_2;t&&AddHtmlCacheDiv();OpenForm({url:urlHR_StaffInformation_List+"&paradise_hrm="+encodeURIComponent(EncryptionStringEncryption(JSON.stringify({ParamControls:{"@EmployeeID":n}})))})}function ViewEmployeeDetail(n){var t=POptionDic.sp_employeeworkprogress;t&&AddHtmlCacheDiv();OpenForm({url:HPAMDDSTableName+"sp_employeeworkprogress&paradise_hrm="+encodeURIComponent(EncryptionStringEncryption(JSON.stringify({ParamControls:{"@EmployeeID":n}})))})}function btnTestCS_Click(){$("#SubmitCommand").val("Test");$("#SetConnection").submit()}function ConfirmSaveCT(){ParadiseMessageClientLocal("","Save connection and re-login","","Yes","No").success(function(){$("#SubmitCommand").val("SaveReLogin");$("#SetConnection").submit()})}function ButtonPadding0px_Init(n){n.GetMainElement&&(n.GetMainElement().childNodes[1].style.padding="0px")}function ParadiseClientRun(n,t){ClientData[n]=t}function SetWidthFormPopup(n){n.PopUpAction=function(){var t=ParseFloat(n.grdTE.cp_umWidth)+50,i;window.innerWidth<t&&(t=window.innerWidth-20);i=window.innerWidth/2;t<i&&(t=i);n.grdTE.SetWidth(t);n.mLC.SetWidth(t);FormPopupAlias!=null&&FormPopupAlias.SetWidth(t)}}function GetMD_M(n){if(n){n=n.toLowerCase();var t=MD_M[n];if(t)return t}return n}function _GetDocumentHeight(n){var t=document.innerHeight,i;try{(!t||document.body.scrollHeight&&document.body.scrollHeight>t)&&(t=document.body.scrollHeight)}catch(r){}return n||(i=$("#pnMenu"),i.length>0&&(t-=i.height())),t}function CheckConfig(n){n&&n.forEach(function(n){var t=!1,i=POptionDic[n],r,u;i&&i.GetVal?t=!0:(r="TableName="+n,u=Array.from(window.HtmlCacheDiv.children).filter(function(n){return n.getAttribute("data-url").endsWith(r)}).firstOrDefault(),u&&(t=!0));t===!0&&Object.keys(POptionDic).filter(function(){return toBoolean(i.GetVal("isDirty"))===!0}).firstOrDefault()==null&&window.LocalOption<1&&_Reload()})}function RunScript(n){RunJS(n)}function AddObject(n){POptionDic[n.ClassName]=n}function TabPanelJS_title(n){return n.text}function TabPanelJS_item(n){return n.text}function lblFilterBox_Click(n){var i=n.POption,r,t,u,f;i.FilterBoxPopup&&(r=GetName(n),t=i.FilterBoxPopup,t.option("position",{my:"top",at:"right","of":"#"+r}),t.option("width","400"),t.option("closeOnOutsideClick",!0),t.option("dragEnabled",!0),t.show(),u=t._$content.find(".dx-layout-manager"),f=t._$content.find(".dx-toolbar"),t.option("height",u.height()+f.height()+15))}function rpttemplates_itemTemplate(n,t){var i=t.data,r=i?i.ExportType.toLowerCase():"",u=i?i.TemplateNameVN:"",f=(window.GlobalFontSize*1.5).toString()+"px",e='<table><tbody><tr><td style="padding: 10px;"><span class="p-'+r+'" style="font-size: '+f+'"><\/span><\/td><td>'+u+"<\/td><\/tr><\/tbody><\/table>";n.append(e)}function rpttemplates_fieldTemplate(n,t){var r=this.option("dataSource");r==null&&(r=[]);var i=r.filter(function(t){return t.TemplateName==n}).firstOrDefault(),f=i?i.ExportType.toLowerCase():"",u=i?i.TemplateNameVN:"",e=(window.GlobalFontSize*1.5).toString()+"px",o='<table><tbody><tr><td><span class="p-'+f+'" style="font-size: '+e+'"><\/span><\/td><td>'+u+"<\/td><\/tr><\/tbody><\/table>",s=$("<div />").dxTextBox({value:u,readOnly:!0,visible:!1});t.append(o).append(s)}function UploadFileUploadJS_Click(n){var t=n.POption.GetUrlFile(n)+"&submitcommand=UploadFileChunk";FileUploader_Init();_fileuploader._fn_Started=function(t){n._file=t._$fileInput["0"].files[0];var r=$("#"+n.option("name")+"_I"),i=new FileReader;i.readAsDataURL(n._file);i.onload=function(){var t=i.result;r.val(t);SetDirty(n.POption,!0);FileUploaderUpload()};i.onerror=function(t){SetValue(n,"");r.val("");_oneror(t);HideWaitingPanel()}};ShowFileDialog(t)}function UploadFileDownloadJS_Click(n){var e=!isNullOrWhitespace(GetValue(n)),i,t,r,u,f;e&&(this.IsShowLayout!==!0&&this.grdTE&&(i=GetName(n),t=ParseInt(i.substring(i.lastIndexOf("_")+1)),i.includes("__")&&(t=-1*t),r=this.grdTE.GetRowKey?this.grdTE.GetRowKey(t):this.grdTE.option?this.grdTE.getKeyByRowIndex(t):null,(t===2147483647||t===2147483646)&&(t="_1",r="-1"),this.Set__ID(r),n.POption.grdTE.SetFocusedRowIndex(t)),u=n.POption.GetUrlFile(n)+"&submitcommand=DownloadFile",ShowWaitingPanel(),f={url:u},n.POption.PostToParadise(f))}function CheckBoxListDroppableInit(n){InitalizeGrid_droppable($("#"+n.name+" .dxeBase_P"))}function templateButtonSVG(n,t){var i=window.GlobalFontSize+"px",r=$("<span>").css({"font-size":i,float:"left","margin-right":"5px"}).addClass("p-"+t.toLowerCase()+" SVGCenter");n.append(r)}function Editor_FocusIn_ClearButton(n){var t=n.option("readOnly")!==!0;t===!0&&n.option("showClearButton")!==!0&&setTimeout(function(){n.option("showClearButton",!0)},1);t===!0&&ParadiseOption.DateTimeControlAutoShowPopup==!0&&typeof n.open=="function"&&n.open()}function Editor_FocusOut_ClearButton(n){n.option("readOnly")!==!0&&n.option("showClearButton")!==!1&&setTimeout(function(){n.option("showClearButton",!1)},1)}function DTP_Editor_KeyUp(n){n.option("opened")===!0&&n.close()}function UpdateInput_onValueChanged(n){$("#"+n.element().attr("id")+"_I").val(GetValue(n))}function UploadFileJS_Init(n){n.option||(n.option={});n.option.inputAttr={style:"pointer-events:none;"};n.option.buttons=[];n.option.buttons.push({name:n.id+"Upload",location:"after",options:{template:function(n,t){templateButtonSVG(t,"Attach")},onInitialized:function(t){n.Upload=t.component},onClick:function(){FileUploader_Init();_fileuploader._fn_Started=function(t){n._file=t._$fileInput["0"].files[0];SetValue(n,n._file.name);var i=new FileReader;i.readAsDataURL(n._file);i.onload=function(){$("#"+n.option("name")+"_I").val(i.result);SetDirty(n.POption,!0);FileUploaderUpload()};i.onerror=function(t){SetValue(n,"");$("#"+n.option("name")+"_I").val("");_oneror(t);HideWaitingPanel()}};ShowFileDialog(n.POption.GetUrlFile(n)+"&submitcommand=UploadFileChunk")}}});ParadiseOption.UploadControlHideDownload==!1&&n.option.buttons.push({name:n.id+"Download",location:"after",options:{template:function(n,t){templateButtonSVG(t,"download")},onInitialized:function(t){n.Download=t.component},onClick:function(){var t=GetValue(n);t=!isNullOrWhitespace(t);n._file?ExportFile({data:n._file,fileName:n._file.name}):(ShowWaitingPanel(),n.POption.PostToParadise({url:n.POption.GetUrlFile(n)+"&submitcommand=DownloadFile"}))}}});n.option.buttons.push({name:n.id+"Delete",location:"after",options:{template:function(n,t){templateButtonSVG(t,"Delete")},onInitialized:function(t){n.Delete=t.component},onClick:function(){var i=GetValue(n),t;i=!isNullOrWhitespace(i);t=n.option("name");n._file=null;$("#"+t+"_I").val(null);$("#"+t+"Img").attr("src",null);SetValue(n,null);n.POption.PostToParadise({url:n.POption.GetUrlFile(n)+"&submitcommand=DeleteFile"})}}});n=$(n).dxTextBox(n.option).dxTextBox("instance")}function UploadFileMulitJS_Init(n){return n.option||(n.option={}),n.option.inputAttr={style:"pointer-events:none;"},n.option.buttons=[],n.option.buttons.push({name:n.id+"Upload",location:"after",options:{template:function(n,t){templateButtonSVG(t,"Attach")},onInitialized:function(t){n.Upload=t.component},onClick:function(){n=n._instance;FileUploader_Init();_fileuploader._fn_Started=function(t){n._file=t._$fileInput["0"].files[0];var r=$("#"+n.option("name")+"_I"),i=new FileReader;i.readAsDataURL(n._file);i.onload=function(){var t=i.result;r.val(t);SetDirty(n.POption,!0);FileUploaderUpload()};i.onerror=function(t){SetValue(n,"");r.val("");_oneror(t);HideWaitingPanel()}};ShowFileDialog(n.POption.GetUrlFile(n)+"&submitcommand=UploadFileChunk")}}}),n._instance=$(n).dxTextBox(n.option).dxTextBox("instance")}function UploadFileDownloadJS_Init(n){return n.option||(n.option={}),n.option.inputAttr={style:"pointer-events:none;"},ParadiseOption.UploadControlHideDownload==!1&&(n.option.buttons=[{name:n.id+"Download",location:"after",options:{template:function(n,t){templateButtonSVG(t,"download")},onClick:function(){UploadFileDownloadJS_Click(n._instance)}}}]),n._instance=$(n).dxTextBox(n.option).dxTextBox("instance")}function UploadMultiControlJS_Init(n){return n.option||(n.option={}),n.option.dataSource=new DevExpress.data.DataSource({onLoadError:window._oneror,store:new DevExpress.data.CustomStore({errorHandler:window._oneror,key:"id",load:function(){var r=$.Deferred(),i=[],t;return n.element&&(t=n.element()[0],t._data==null&&(t._data=[]),i=t._data,t=null),r.resolve({data:i,totalCount:i.length}),r.promise()}})}),n.option.itemTemplate=function(t,i,r){var o=typeof(n.Upload&&typeof n.Upload.option=="function")?toBoolean(n.Upload.option("visible")):!1,u={text:t.name,elementAttr:{"class":"fileParadise"},onInitialized:function(n){var t=n.component}},f,e,s;o==!0&&(u.buttons=[],u.buttons.push({name:n.id+"Delete",location:"after",options:{template:function(n,t){templateButtonSVG(t,"Delete")},onInitialized:function(t){n.Delete=t.component},onClick:function(){if(t.id){SetDirty(n.POption,!0);var i=n.POption.GetUrlFile(n)+"&submitcommand=DeleteFile&IDFile="+t.id,r={url:i};n.POption.PostToParadise(r)}DataSourceRemove(n,t.id)}}}));f=$("<div />");e=f.dxTextBox(u);r.append(e);s=e.dxTextBox("instance");f.children().children().children()[0].onclick=function(){var r=n.POption.GetUrlFile(n)+"&submitcommand=DownloadFile&IDFile="+t.id,i;ShowWaitingPanel();i={url:r};n.POption.PostToParadise(i)}},n=$(n).dxList(n.option).dxList("instance"),n.Upload=$("#"+GetName(n)+"Upload").dxButton("instance"),n.SetValue=function(t){t==null&&(t=[]);n.element()[0]._data=t;n.getDataSource().reload()},n.GetValue=function(){},n.SetReadOnly=function(t){t=toBoolean(t);n.Upload&&typeof n.Upload.option=="function"&&n.Upload.option("visible",!t);n.getDataSource().reload()},n.GetReadOnly=function(){return n.Upload&&typeof n.Upload.option=="function"&&n.Upload.option("visible")},n._instance=n}function ImageEditJSCore_Init(n){$.extend(n,ImageEditJS);n.option||(n.option={});var t=!(n.option.disabled===!0);return n.Upload=$("#"+n.id+"Upload").dxButton({template:function(n,t){templateButtonSVG(t,"Attach")},onClick:function(){var t=n.POption.GetUrlFile(n)+"&submitcommand=UploadFileChunk";FileUploader_Init();_fileuploader._fn_Started=function(t){var r=t._$fileInput["0"].files[0],i=new FileReader;i.readAsDataURL(r);i.onload=function(){n.src=i.result;var t=n.src.substring(n.src.indexOf(",")+1);$("#"+n.id+"_I").val(t);SetDirty(n.POption,!0);HideWaitingPanel()};i.onerror=function(n){_oneror(n);HideWaitingPanel()}};ShowFileDialog()},visible:t}).dxButton("instance"),n.Download=$("#"+n.id+"Download").dxButton({template:function(n,t){templateButtonSVG(t,"download")},onClick:function(){var t,i;IsNullOrEmpty(n.src)||(t=n.src.indexOf(","),t>-1&&(t+=1),i=n.src.substring(t),ExportFile({data:i,fileName:"paradise.png"}))},visible:t}).dxButton("instance"),n.Delete=$("#"+n.id+"Delete").dxButton({template:function(n,t){templateButtonSVG(t,"Delete")},onClick:function(){isNullOrWhitespace(n.src)||(n.src="",$("#"+n.id+"_I").val(null),SetDirty(n.POption,!0))},visible:t}).dxButton("instance"),n.option.onInitialized&&n.option.onInitialized.apply(null,[n]),n._instance=n}function ImageEditJS_Init(n){ImageEditJSCore_Init(n);var t=$(n).width(),i=$(n).height();return t>i&&$(n).css("max-width",t/2+"px"),n._instance=n}function TabPanelJS_Init(n){return n.option||(n.option={}),n.option.noDataText||(n.option.noDataText=" "),n.option.loop=!1,n.option.animationEnabled=!0,n.option.swipeEnabled=!0,n._instance=$(n).dxTabPanel(n.option).dxTabPanel("instance")}function FileManagement_Init(n){return n.option||(n.option={}),n.option.fileSystemProvider=new DevExpress.fileManagement.RemoteFileSystemProvider({endpointUrl:"https://js.devexpress.com/Demos/Mvc/api/file-manager-file-system-scripts"}),n.option.allowedFileExtensions=[".js",".json",".css"],n.option.permission={download:!0},n._instance=$(n).dxFileManager(n.option).dxFileManager("instance")}function LabelJS_Init(n){return n.option||(n.option={}),$.extend(n,_Label),n.option.onInitialized&&n.option.onInitialized.apply(null,[n]),n._instance=n}function ButtonLabelJS_Init(n){n.option||(n.option={});$.extend(n,_ButtonLabel);var t=window.GlobalFontSize*(ThemeOffice===!0?2:2),i=t+"px",f=window.GlobalFontSize*1.5,e="-"+t/2+"px",r='<span class="p-'+n.option.icon.toLowerCase()+'" style="font-size: '+i+';margin-right: 5px;"><\/span>',u='<table class="prd-button" style="padding: 5px; margin: 0 auto;"><tbody><tr><td>'+r+"<\/td><td>"+n.option.text+"<\/td><\/tr><\/tbody><\/table>";return $(n).html(u),n.SetEnabled(!0),n.option.onInitialized&&n.option.onInitialized.apply(null,[n]),n._instance=n}function ButtonJS_Init(n){return n.option||(n.option={}),n.option.template=function(t,i){var r=window.GlobalFontSize*(ThemeOffice===!0?2:2),u=r+"px",o=window.GlobalFontSize*1.5,s="-"+r/2+"px",f='<span class="p-'+n.option.icon.toLowerCase()+'" style="font-size: '+u+';margin-right: 5px;"><\/span>',e='<table class="prd-button" style="padding: 5px; margin: 5px;"><tbody><tr><td>'+f+"<\/td><td>"+n.option.text+"<\/td><\/tr><\/tbody><\/table>";i.append($(e))},n._instance=$(n).dxButton(n.option).dxButton("instance")}function ComboBoxJS_Init(n){return n.option||(n.option={}),n.option.noDataText||(n.option.noDataText=" "),n.option.wrapItemText=!0,n.option.onOpened=function(n){n.element.find(".dx-popup").dxPopup("instance").content().addClass("dx-native-click")},n._instance=$(n).dxSelectBox(n.option).dxSelectBox("instance")}function DropDownBoxJS_onOpened(n){var t=n.component,r=t.element()[0].option,i;if(t._suppressValueChangeAction(),t.textBox._suppressValueChangeAction(),Editor_FocusIn_ClearButton(t,n),t.textBox.option("value",""),t.textBox.ValueOld=null,i=t.option("dataSource"),i!=t.dataGrid.option("dataSource")&&(t.dataGrid.option("keyExpr",t.option("valueExpr")),t.dataGrid.option("dataSource",i)),t.cbbParent&&(t.dsClient==null||t.dsClient.isServer!==!0)?txtFilter_KeyUp_Core(t.textBox,null,t.dataGrid,!0,t.cbbParent):t.dataGrid.clearFilter(),t.off("valueChanged"),t.dataGrid.option("onSelectionChanged",null),t.dataGrid.option("selectedRowKeys",t.option("value")),r.selectMultiple)t.dataGrid.option("onSelectionChanged",function(n){var i=n.selectedRowKeys,r;Array.isArray(i)&&i.length>0&&typeof i[0]=="object"&&(r=t.option("valueExpr"),i=i.filter(function(n){return n!=null}).map(function(n){return n[r]}));t.off("valueChanged");SetValue(t,i);t.on("valueChanged",function(n){t.dataGrid.selectRows(n.value,!1)})});else t.on("valueChanged",function(n){t.dataGrid.selectRows(n.value,!1)});t._resumeValueChangeAction();t.textBox._resumeValueChangeAction()}function DropDownBoxJS_CT(n){var t=n.component,i=t.element()[0].option,r,u,f;t._suppressValueChangeAction();var e=t.option("value"),o={renderAsync:!0,filterSyncEnabled:!0,hoverStateEnabled:!0,noDataText:" ",showBorders:!1,wordWrapEnabled:!1,focusedRowEnabled:!0,paging:{enabled:!1},scrolling:{mode:"infinite"},selection:{mode:"single"},selectedRowKeys:e==null?[]:[e],dataRowTemplate:i.itemTemplate,selection:{mode:i.selectMultiple?"multiple":"none",selectAllMode:"allPages",showCheckBoxesMode:"always"},height:IsMobile()?"inherit":250,width:"inherit",onRowClick:function(n){if(t.option.selectMultiple!==!0){var i=n.key!=null&&typeof n.key=="object"?n.key[t.option("valueExpr")]:n.key;t.option("value",i);t.close();t.focus()}},onKeyDown:function(n){var i,r;t.option("readOnly")!==!0&&t.option.selectMultiple!==!0&&(i=GetHtmlEvenKey(n),i.keyCode===13&&(r=n.component.option("focusedRowKey"),t.option("value",r),t.close(),t.focus()))},customizeColumns:function(n){for(var r,f=t.option("valueExpr"),e=t.option("displayExpr"),u=0;u<n.length;u++)r=n[u],r.visible=i.comboboxDetail===!0?r.dataField!==f:r.dataField===e;t.dataGrid.option("showColumnHeaders",i.showColumnHeaders&&(n.length>1||i.selectMultiple))}},s=$("<div />");return s[0].option=o,t.dataGrid=s.dxDataGrid(o).dxDataGrid("instance"),t.element().append(t.dataGrid.element()),t.textBox=$("<div />").dxTextBox({visible:i.searchEnabled,labelMode:"floating",onKeyUp:function(n){var i,r,u,f;t._Timeout&&clearTimeout(t._Timeout);i=GetHtmlEvenKey(n);r=i.keyCode===13;i.keyCode===38||i.keyCode===40||r?(t.dataGrid.focus(),r&&(u=t.dataGrid.option("focusedRowKey"),t.option("value",u),t.close(),t.focus())):(f=n.component,txtFilter_KeyUp_Core(f,n,t.dataGrid,null,t.cbbParent))}}).dxTextBox("instance"),t.element().append(t.textBox.element()),r=[],IsMobile()&&(r=[{label:{visible:!1},colSpan:25,template:function(n,i){var r=$("<div />").dxButton({icon:"check",type:"success",text:"Close",onClick:function(){t.close()}});i.append(r)}},{label:{visible:!0},colSpan:50,template:function(){}},{label:{visible:!0},colSpan:25,template:function(n,i){var r=$("<div />").dxButton({icon:"check",type:"success",text:"OK",onClick:function(){t.close()}});i.append(r)}},{label:{visible:!1},colSpan:100,template:function(n,i){var r=$("<div />").dxTextBox({value:t.option("label"),readOnly:!0});r.find(".dx-texteditor-input").css({"text-align":"center",border:"none"});i.append(r)}}]),r.push({label:{visible:!0},colSpan:100,template:function(n,i){i.append(t.textBox.element())}}),r.push({label:{visible:!1},colSpan:100,template:function(n,i){i.append(t.dataGrid.element())}}),t.form=$("<div />").dxForm({showColonAfterLabel:!1,colCount:100,width:"inherit",height:"inherit",colCountByScreen:{lg:100,md:100,sm:100,xs:100},items:r}).dxForm("instance"),t.element().append(t.form.element()),IsMobile()?(u=window.innerHeight-100,f=window.innerWidth-50,t.elePopup=$("<div />"),t.elePopup.dxPopup({width:f,height:u,maxWidth:f,maxHeight:u,visible:!0,showTitle:!1,closeOnOutsideClick:!0,contentTemplate:function(){var n=$("<div />");return n.append(t.form.element()),n.dxScrollView({width:"100%",height:"100%"}),n},onHidden:function(){t.close()}}),t.dataGrid.option("height",u-t.textBox.element().height()),t.popup=t.elePopup.dxPopup("instance")):t.elePopup=t.form.element(),t._resumeValueChangeAction(),t.elePopup}function DropDownBoxJS_Init(n){var t,i;return n.option||(n.option={}),t=n.option,t.displayValueFormatter=function(n){return Array.isArray(n)?n.join("& "):n},t.onClosed=function(n){var t=n.component;Editor_FocusOut_ClearButton(t,n);t.POption&&t.POption.GV_LostFocus_OnAdd()},t.onKeyUp=function(n){var i=n.component,t=GetHtmlEvenKey(n);i.option("readOnly")!==!0&&t.keyCode!==13&&t.keyCode!==9&&n.component.open()},t.contentTemplate=DropDownBoxJS_CT,t.onOpened=DropDownBoxJS_onOpened,IsMobile()||(t.dropDownOptions={resizeEnabled:!0,maxHeight:555,minHeight:300,minWidth:200,onShown:function(n){setTimeout(function(){var t=Array.from(n.component._$popupContent.find(".dx-datagrid-table-fixed")),i=t.map(function(n){return n.clientWidth}).sortBy(function(n){return n}).lastOrDefault();n.component.option("width",i)},.02)}}),i=$(n).dxDropDownBox(t).dxDropDownBox("instance"),t.fieldTemplate||t.wraptext!==!0||i.option("fieldTemplate",function(n,t){var f=i.option("text"),r=$("<div />"),u;t.append(r);r.dxTextArea({value:f,readOnly:!0,autoResizeEnabled:!1});u=r.find(".dx-texteditor-input");u.css("resize","none");r.dxTextArea("instance").option("height",u[0].scrollHeight+10);i.POption&&i.POption.Loaded===!0&&i.POption.AdjustControl()}),n._instance=i}function DropDownBoxMultiJS_Init(n){DropDownBoxJS_Init(n)}function DateEditJS_Init(n){n.option||(n.option={});IsMobile()&&(n.option.pickerType="rollers");n.option.displayFormat&&!n.option.displayFormat.includes("yyyy")&&(n.option.calendarOptions={visible:!1});n.option.useMaskBehavior=!0;n.option.onOpened=function(n){var i=n.component,t=i.option("displayFormat");isNullOrWhitespace(t)||!t.includes("HH")||t.includes("yyyy")||t.includes("MM")||t.includes("dd")||(i._popup.content().find(".dx-dateviewroller-day").css({display:"none"}),i._popup.content().find(".dx-dateviewroller-month").css({display:"none"}),i._popup.content().find(".dx-dateviewroller-year").css({display:"none"}))};var t=$(n).dxDateBox(n.option);return t.find(".dx-texteditor-input").off("dxmousewheel"),n._instance=t.dxDateBox("instance")}function LookupJS_Init(n){n.option||(n.option={});var t=n.option;return t.noDataText||(t.noDataText=" "),t.allowClearing=!0,t.showPopupTitle=!1,t.closeOnOutsideClick=!0,t.showCancelButton=!0,t.usePopover=!0,t.popupHeight=function(){var n=window.innerHeight*.8;return IsMobile()||(n=window.innerHeight*.8,n>500&&(n=500)),n},n._instance=$(n).dxLookup(t).dxLookup("instance")}function TextBoxJS_Init(n){return n.option||(n.option={}),n.option.mode==="password"&&(n.option.buttons=[{name:"password",location:"after",options:{template:function(t,i){templateButtonSVG(i,n.option.mode==="text"?"eyeClose":"eyeOpen")},type:"default",onClick:function(t){n.option("mode",n.option("mode")==="text"?"password":"text");t.component.option("template",function(t,i){templateButtonSVG(i,n.option("mode")==="text"?"eyeClose":"eyeOpen")})}}}]),n=$(n).dxTextBox(n.option).dxTextBox("instance"),n._instance=n}function PasswordEncrypt_Init(n){TextBoxJS_Init(n)}function PopupJS_Init(n){n.option||(n.option={});n.option.deferRendering=!1;n.option.container=n;$(n).dxPopup(n.option)}function UploadControlJS_Init(n){n.option||(n.option={});$(n).dxFileUploader(n.option)}function TreeListJS_Init(n){n.option||(n.option={});var t=n.option;return t.noDataText||(t.noDataText=" "),t.expandNodesOnFiltering=!0,t.renderAsync=!0,t.filterSyncEnabled=!0,t.filterSyncEnabled=!1,t.columnsAutoWidth=!0,t.showRowLines=!1,t.focusStateEnabled=!0,t.wordWrapEnabled=!0,t.onToolbarPreparing=function(n){n.toolbarOptions.visible=!1},n=$(n).dxTreeList(t).dxTreeList("instance"),n.ColumnEditArray=[],n._instance=n}function XtraReportJS_Init(n){var t=GridViewJS_Init(n);Report_Report_(t)}function GridViewJS_onExporting_customizeCell(n,t,i){var u=n.excelCell,f,r,e;if(n=n.gridCell,n.rowType==="data"){if(n.column.dataType=="boolean")u.value=toBoolean(u.value)?"Check":"UnCheck";else if(n.column._option&&n.column._option.displayExpr&&n.column._option.valueExpr)u.value=GridViewJS_GetText_CDS(u.value,n.column);else if(t.POption.IsHyperLink(n.column.dataField)){var s=u.value.split("|"),o=s.filter(function(n){return n.toLowerCase().startsWith("text=")}).firstOrDefault(),h=o?o.substring(5):"";u.value=h}if(i.PaintRows)for(f=0;f<i.PaintRows.length;f++)r=i.PaintRows[f],e='(function() { try { return alasql("SELECT top 1 1 FROM ? where '+r.Condition+' ",[[n.data]]).length > 0; } catch (ex) {} }())',eval(e)===!0&&(IsNullOrEmpty(r.BackColor)||(u.fill={type:"pattern",pattern:"solid",fgColor:{argb:r.BackColor.replace("#","ff")}}),IsNullOrEmpty(r.ForeColor)||(u.font={color:{argb:r.ForeColor.replace("#","ff")}}));if(i.PaintCells)for(f=0;f<i.PaintCells.length;f++)r=i.PaintCells[f],n.column.dataField===r.Column&&(e='(function() { try { return alasql("SELECT top 1 1 FROM ? where '+r.Condition+' ",[[n.data]]).length > 0; } catch (ex) {} }())',eval(e)===!0&&(IsNullOrEmpty(r.BackColor)||(u.fill={type:"pattern",pattern:"solid",fgColor:{argb:r.BackColor.replace("#","ff")}}),IsNullOrEmpty(r.ForeColor)||(u.font={color:{argb:r.ForeColor.replace("#","ff")}})))}}function GridViewJS_Init(n){n.option||(n.option={});var t=n.option;return t.noDataText||(t.noDataText=" "),t.columnResizingMode="widget",t.filterSyncEnabled=!0,t.columnsAutoWidth=!0,t.showBorders=!0,t.allowColumnResizing=!0,t.activeStateEnabled=!0,t.wordWrapEnabled=!1,t.keyExpr="__ID",t.renderAsync=!0,t.scrolling={renderAsync:!0,mode:"standard"},t.sorting={mode:"multiple"},t.editing={allowAdding:!0,allowDeleting:!0,allowUpdating:!0,mode:"batch"},t.keyboardNavigation={editOnKeyPress:!0,enabled:!0},t.onToolbarPreparing=function(n){n.toolbarOptions.visible=!1},t.pager={showPageSizeSelector:!0,allowedPageSizes:[50,100,250],showInfo:!0},t.onCellClick=function(n){var t=n.component;t.selectedRange.startRowIndex=t.selectedRange.endRowIndex=n.rowIndex;t.selectedRange.startColumnIndex=t.selectedRange.endColumnIndex=n.columnIndex;t.isSelectionStopped=!1;showSelection(n.component,t.selectedRange)},t.onCellHoverChanged=function(n){var t=n.component;n.jQueryEvent&&event.buttons===1?(t.isSelectionStopped&&(t.isSelectionStopped=!1,t.selectedRange={}),t.selectedRange.startRowIndex===undefined&&(t.selectedRange.startRowIndex=n.rowIndex),t.selectedRange.startColumnIndex===undefined&&(t.selectedRange.startColumnIndex=n.columnIndex),t.selectedRange.endRowIndex=n.rowIndex,t.selectedRange.endColumnIndex=n.columnIndex,showSelection(t,t.selectedRange)):t.isSelectionStopped=!0},t.onFileSaving=function(n){n.fileName=n.element[0].option.fileName},t.onInitNewRow=function(n){n.data.__ID=-1},t.onExporting=function(t){var r=t.element[0].option;const i=new ExcelJS.Workbook,u=i.addWorksheet("");DevExpress.excelExporter.exportDataGrid({component:t.component,worksheet:u,customizeCell:function(t){GridViewJS_onExporting_customizeCell(t,n,r)}}).then(function(){i.xlsx.writeBuffer().then(function(n){saveAs(new Blob([n],{type:"application/octet-stream"}),t.component.element()[0].option.fileName+".xlsx")})});t.cancel=!0},t.onCellPrepared=function(n){var r,i,t,u;if(n.rowType=="data"){if(r=n.element[0].option,r.PaintRows)for(i=0;i<r.PaintRows.length;i++)t=r.PaintRows[i],u='(function() { try { return alasql("SELECT top 1 1 FROM ? where '+t.Condition+' ",[[n.data]]).length > 0; } catch (ex) {} }())',eval(u)===!0&&(IsNullOrEmpty(t.BackColor)||n.cellElement.css({"background-color":t.BackColor}),IsNullOrEmpty(t.ForeColor)||n.cellElement.css({color:t.ForeColor}));if(r.PaintCells)for(i=0;i<r.PaintCells.length;i++)t=r.PaintCells[i],n.column.dataField===t.Column&&(u='(function() { try { return alasql("SELECT top 1 1 FROM ? where '+t.Condition+' ",[[n.data]]).length > 0; } catch (ex) {} }())',eval(u)===!0&&(IsNullOrEmpty(t.BackColor)||n.cellElement.css({"background-color":t.BackColor}),IsNullOrEmpty(t.ForeColor)||n.cellElement.css({color:t.ForeColor})))}},t.customizeColumns=function(n){if(n){var t=window.innerWidth/4;n.map(function(n){n.maxWidth=t})}},n=$(n).dxDataGrid(n.option).dxDataGrid("instance"),n.ColumnEditArray=[],n._instance=n}function GanttJS_Init(n){return n.option||(n.option={}),n.option.noDataText=" ",n.option.hoverStateEnabled=!0,n.option.editing={enabled:!0},n.optionscaleType="weeks",n.optiontaskListWidth=500,n._instance=$(n).dxGantt(n.option)}function DiagramJS_Init(n){n.option||(n.option={});var t=n.option;return t.propertiesPanel={enabled:!1},t.toolbox={visible:!1,visibility:"disabled"},t.viewUnits="px",t.historyToolbar={visible:!1},t.contextMenu={enabled:!1},t.simpleView=!0,t.readOnly=!0,t.showGrid=!1,t.pageColor="",t.customShapeTemplate=Company_Organization,t.nodes={autoLayout:{type:"tree",orientation:"vertical"}},n._instance=$(n).dxDiagram(n.option)}function MemoJS_Init(n){var t,i;return n.option||(n.option={}),t=$(n),n=t.dxTextArea(n.option),i=t.find(".dx-texteditor-input"),i.css("resize","none"),n._instance=n.dxTextArea("instance")}function SpinEditJS_Init(n){return n.option||(n.option={}),n._instance=$(n).dxNumberBox(n.option).dxNumberBox("instance")}function CheckBoxJS_Init(n){return n.option||(n.option={}),n._instance=$(n).dxCheckBox(n.option).dxCheckBox("instance")}function ColorBoxJS_Init(n){return n.option||(n.option={}),n._instance=$(n).dxColorBox(n.option).dxColorBox("instance")}function RadioGroupJS_Init(n){return n.option||(n.option={}),n.option.layout="horizontal",n._instance=$(n).dxRadioGroup(n.option).dxRadioGroup("instance")}function ProgressBarJS_Init(n){return n.option||(n.option={}),n.option.statusFormat=function(n){return Math.round(n*100)+"%"},n._instance=$(n).dxProgressBar(n.option).dxProgressBar("instance")}function HyperLinkJS_Init(n){return n.option||(n.option={}),n.option.stylingMode="text",n.option.elementAttr={"class":"colorLink"},n._instance=$(n).dxButton(n.option).dxButton("instance")}function DropDownButtonJS_Init(n){return n.option||(n.option={}),n.option.noDataText=" ",n.option.useSelectMode=!0,n.option.splitButton=!0,n._instance=$(n).dxDropDownButton(n.option).dxDropDownButton("instance")}function SpreadsheetJS_Init(n){return window.GC&&GC.Spread&&GC.Spread.Sheets&&GC.Spread.Sheets.Workbook&&(n.option||(n.option={}),n.instance=new GC.Spread.Sheets.Workbook(n),$(n).css({"max-width":$(n).css("width")}),n.instance.refresh()),n._instance=n}function DocumentViewer_Init(n){if(window.WebViewer){n.option||(n.option={});WebViewer({path:window.APPLICATION_ADDRESS+"/Scripts/webviewer/lib",licenseKey:"20AOP-134DD-23R53-32DHN-134SA"},n).then(function(t){n.instance=t;n.file&&(DocumentViewerLoad(n,n.file),delete n.file);t.enableDownload(!1);t.enableFilePicker(!1)});$.extend(n,_DocumentViewer);var t=$(n);t.css({"max-width":t.css("width")})}return n.option.onInitialized&&n.option.onInitialized.apply(null,[n]),n._instance=n}function DocumentViewerLoad(n,t,i){if(n){if(n.instance)if(t){var r=new Blob([t],{type:t.type});n.instance.loadDocument(r,{filename:t.name})}else n.instance.closeDocument();n.file=t;n.report=i}return n._instance=n}function HtmlEditorJS_Init(n){return n.option||(n.option={}),n.option.imageUpload={tabs:["file","url"],fileUploadMode:"base64"},n.option.toolbar={items:["undo","redo","separator",{name:"size",acceptedValues:["8pt","10pt","12pt","14pt","18pt","24pt","36pt"]},{name:"font",acceptedValues:["Arial","Courier New","Georgia","Impact","Lucida Console","Tahoma","Times New Roman","Verdana"]},"separator","bold","italic","strike","underline","separator","alignLeft","alignCenter","alignRight","alignJustify","separator","orderedList","bulletList","separator",{name:"header",acceptedValues:[!1,1,2,3,4,5]},"separator","color","background","separator","link","image","separator","clear","codeBlock","blockquote","separator","insertTable","deleteTable","insertRowAbove","insertRowBelow","deleteRow","insertColumnLeft","insertColumnRight","deleteColumn",]},n.option.mediaResizing={enabled:!0},n.option.tableContextMenu={enabled:!0},n.option.tableResizing={enabled:!0},n._instance=$(n).dxHtmlEditor(n.option).dxHtmlEditor("instance")}function MenuJS_Init(n){n.option||(n.option={});var t=n.option;return t.itemComponent=n,t.submenuDirection="auto",t.selectionMode="single",t.selectionByClick=!0,t.hoverStateEnabled=!0,t.noDataText=" ",t.showFirstSubmenuMode={name:"onHover"},n._instance=$(n).dxMenu(t).dxMenu("instance")}function TokenBoxJS_Init(n){return n.option||(n.option={}),n.option.noDataText||(n.option.noDataText=" "),n._instance=$(n).dxTagBox(n.option).dxTagBox("instance")}function MultiCheckJS_Init(n){n.option||(n.option={});var t=n.option;return t.noDataText||(t.noDataText=" "),t.wrapItemText=!0,t.selectAllMode="allPages",t.showDropDownButton=!0,t.showSelectionControdls=!0,t.showSelectionControls=!0,t.searchEnabled=!0,t.applyValueMode="useButtons",t.onOpened=function(n){setTimeout(function(){var t=n.component.option("width");t=ParseFloat(t);IsMobile()?(!t||t<444)&&(t=444):(!t||t<200)&&(t=200);t>window.innerWidth&&(t=window.innerWidth);t=t+"px";n.component._popup.option("width",t)},0)},n._instance=$(n).dxTagBox(n.option).dxTagBox("instance")}function FormLayoutJS_Init(n){return n.option||(n.option={}),n._instance=$(n).dxForm(n.option).dxForm("instance")}function GaugeJS_Init(n){var t,u,f,i,s;n.option||(n.option={});n.option.geometry={endAngle:0,startAngle:360};n.option.scale={startValue:0,endValue:360,tick:{visible:!1},label:{visible:!1}};n.option.valueIndicator={type:"triangleMarker",width:0,color:"#E0E33B"};n=$(n).dxCircularGauge(n.option).dxCircularGauge("instance");n.IconName=n.element()[0].option.IconName;t=n.element()[0];t.style.position="relative";u=$("<span/>").attr("id",t.id+"Text").addClass("V_H_center").css({position:"absolute","text-align":"center"});f=u[0];t.appendChild(f);n.lblText=f;i=$("#"+t.id).parent()[0].offsetHeight;$("#"+t.id+" .dxg-circular-gauge").css({width:i+"px",height:i+"px"});var o=t.option.IconName,h=i*.7,e=ParseFloat(h),r=$("<div><\/div>").addClass("V_H_center").css({width:e+"px",height:e+"px"});return t.appendChild(r[0]),s=$("<span>").css({"font-size":e,float:"left",color:u.css("color"),"margin-right":"5px"}).addClass("p-"+o.toLowerCase()),r.append(s),r.css({display:o!==""?"block":"none"}),n.image=r,n._instance=n}function VideoJS_Init(n){return n.option||(n.option={}),$.extend(n,_Video),n.option.onInitialized&&n.option.onInitialized.apply(null,[n]),n._instance=n}function RatingJS_Init(n){n.option||(n.option={});var t=new StarRating(n).widgets[0];return t._suppressValueChangeAction(),t.SetValue(n.option.value),t._resumeValueChangeAction(),t.onValueChanged=n.option.onValueChanged,n.option.onInitialized&&n.option.onInitialized.apply(null,[n]),n._instance=t}function ColorEditView_Init(n){return $.extend(n,_ColorEditView),n.option||(n.option={}),n.option.onInitialized&&n.option.onInitialized.apply(null,[n]),n._instance=n}function ColorEditJS_Init(n){return n.option||(n.option={}),n._instance=$(n).dxColorBox(n.option).dxColorBox("instance")}function Diagram_Init(n){if(n){n.viewModel={items:ko.observableArray([])};ko.cleanNode(n);try{ko.applyBindings(n.viewModel,n)}catch(t){}return typeof n.init!="function"||n.onInitialized||n.init.apply(null,[n]),n._instance=n}}function CardViewJS_Init(n){return n&&(n.viewModel={items:ko.observableArray([])},ko.cleanNode(n),ko.applyBindings(n.viewModel,n),typeof n.init!="function"||n.onInitialized||n.init.apply(null,[n])),n._instance=n}function ListBoxJS_Init(n){return n.option||(n.option={}),n.option.noDataText=" ",n.option.nextButtonText=" ",n.option.selectAllMode="none",n.option.selectionMode="all",n.option.items=ko.observableArray([]),n.viewModel={option:n.option},ko.cleanNode(n),ko.applyBindings(n.viewModel,n),n._instance=n}function ListBoxSingleSelectJS_Init(n){return n.option||(n.option={}),n.option.noDataText=" ",n.option.nextButtonText=" ",n.option.selectionMode="single",n.option.showSelectionControls=!0,n=$(n).dxList(n.option).dxList("instance"),n.SetValue=function(t){var i=GetValueMulti(t,this.option("Separator"));this.option("value",i);t=Array.isArray(t)?t.join(this.Separator):t;$("#"+GetName(n)+"_I").val(t)},n.GetValue=function(){var n=this.option("value");return Array.isArray(n)&&(n=n.join(this.Separator)),n},n._instance=n}function ListBoxMultiSelectJS_Init(n){return n.option||(n.option={}),n.option.noDataText=" ",n.option.nextButtonText=" ",n.option.selectAllMode="all",n.option.selectionMode="multiple",n.option.showSelectionControls=!0,n=$(n).dxList(n.option).dxList("instance"),n.SetValue=function(t){var i=GetValueMulti(t,this.option("Separator"));this.option("value",i);t=Array.isArray(t)?t.join(this.Separator):t;$("#"+GetName(n)+"_I").val(t)},n.GetValue=function(){var n=this.option("value");return Array.isArray(n)&&(n=n.join(this.Separator)),n},n._instance=n}function Viewdroppable_ListBoxJS_Init(n){n.option||(n.option={});n.option.noDataText=" ";n.option.selectionMode="all";n.option.selectAllMode="allPages";n.option.nextButtonText=" ";n.option.pageLoadMode="scrollBottom";n.option.onItemRendered=function(n){var t=n.component;n.itemElement.css({float:"left",width:"200px"});InitalizeGrid_droppable(n.itemElement)};n.option.items=ko.observableArray([]);n.viewModel={option:n.option};ko.cleanNode(n);ko.applyBindings(n.viewModel,n)}function SpreadsheetJSLoad(n,t){if(n){if(t)try{if(window.GC&&GC.Spread.Excel){var i=new GC.Spread.Excel.IO;i.open(_file,function(t){try{n.POption.ExcelBrowser.fromJSON(t)}catch(i){_oneror(i)}},function(n){_oneror(n)})}}catch(r){_oneror(r)}}else n.clearSheets(),n.addSheet()}function TimeAttendance_CheckIn_Click(){_postMessage("")}function CompanyOrganization(n,t){var r=n.dataItem,f=IsNullOrEmpty(r.Name)?"":r.Name,i='<switch> <foreignObject x="0%" y="0%" width="98%" height="50%" style="text-align: center"> <p xmlns="http://www.w3.org/1999/xhtml">'+f+"<\/p><\/foreignObject> <\/switch>",u;i+='<image x="0%" y="50%" width="100%" height="48%" xlink:href="'+POptionDic.sp_companyorganization.GetUrlNotSessions("DownloadImage")+"&GetSelectedIDRow="+r.__ID+'&ColumnName=ImageData">';i="<svg>"+i+"<\/svg>";u=$(i);t.append(u)}function Company_Organization(n,t){var r=n.dataItem,u='<switch> <foreignObject x="0%" y="0%" width="98%" height="50%" style="text-align: center"> <p xmlns="http://www.w3.org/1999/xhtml">'+(IsNullOrEmpty(r.Name)?"":r.Name)+"<\/p><\/foreignObject> <\/switch>",i=r.ImageData;isNullOrWhitespace(i)||(i=i.substring(5).toLowerCase().startsWith("http")||r.ImageData.includes("/")||i.includes("\\")?i:"data:image/png;base64,"+i,u+='<image x="0%" y="50%" width="100%" height="48%" xlink:href="'+i+'">');i=null;u="<svg>"+u+"<\/svg>";t.append($(u))}function mLCParam_contentTemplate(n,t,i){try{t&&(n.append($(t)),RunJS(i))}catch(r){_oneror(r)}}function GetViewTimeSheetIndex_ApproveSection(n,t){var i=$("#ViewTimeSheetIndexHeaderRightDiv"),r=POptionDic.sp_monthlytimesheet_mzh;i.length>0&&n>0&&r&&$.ajax({url:window.APPLICATION_ADDRESS+$("#ViewTimeSheetIndexUpdateApproveDataUrl").val(),type:"GET",cache:!1,data:{ViewTimeSheetIndexMonthSelected:n,ViewTimeSheetIndexYearSelected:t},success:function(n){n&&n.length&&n.length>0&&i.html(n)}})}function OnReCalculator(n){ParadiseConfirmClient("PROCESS_HEAVY_QUESTION").success(function(){n.POption.SetVal("SubmitCommand","ReCalculator");ShowWaitingPanel();n.POption.OnSubmit()})}function ConnectSignalR(){if(!connection||!connection.id){connection=$.hubConnection(window.APPLICATION_ADDRESS+"/signalr",{useDefaultPath:!1});hub=connection.createHubProxy("paradiseHub");connection.logging=!1;connection.qs={paradise__hrm:EncryptionStringEncryption(JSON.stringify({CustomerID:CustomerIDRunning,Type:"Client",FactoryIP:FactoryIPRunning,FactoryIDRunning:"",LoginID:UserID,SessionID:SessionID,Web:1,Lan:LanguageID}))};hub.on("_Disconnected",function(){hub.stop()});hub.on("MachineCommand",function(n){CallMethod(n.ClassName,n.FunctionName,n.AObject)});hub.on("SignalRCommandReceived",function(n){callMethod(n.ClassName,n.FunctionName,n.AObject)});hub.on("signalRCommand",function(n){callMethod(n.ClassName,n.FunctionName,n.AObject)});hub.on("RunMachineManagementAdvanced",function(n){RunMachineManagementAdvanced(n)});hub.on("RunJS",function(n){RunJS(n)});var n={pingInterval:null,withCredentials:!1,transport:["longPolling"]},t=function(){reconnectCount=0;UpdateTableNameList()};connection.disconnected(function(){var i=reconnectCount>25?1e4:Random(3e3);setTimeout(function(){connection.stop();connection.start(n).done(function(){_Reload();t.call()}).catch(function(){reconnectCount++})},i)});connection.start(n).done(t).catch(function(){reconnectCount++})}}function ShowDisconnected(){var n,t,i;$("#ParadiseHRM_Disconnected").length<1&&(n=document.createElement("div"),n.id="ParadiseHRM_Disconnected",document.body.appendChild(n),t={width:222,height:150,contentTemplate:function(){return $("<div />").append($('<div id="medium-indicator"><\/div>'),$("<p><span>Check connect<\/span><\/p>"),$('<script>$("#medium-indicator").dxLoadIndicator({ height: 40, width: 40 });<\/script>'))},showTitle:!0,title:"Disconnected",visible:!1,dragEnabled:!1,closeOnOutsideClick:!1,showCloseButton:!1},i=$("<div />").appendTo($("#ParadiseHRM_Disconnected")),popup=i.dxPopup(t).dxPopup("instance"),popup.show())}function SendQueueMessages(){while(queueMessages.length>0)try{if(hub&&typeof hub.invoke=="function"&&hub.connection.state===1){var n=queueMessages.firstOrDefault();hub.invoke.apply(hub,n);queueMessages.shift()}else{SendQueueMessagesTask&&clearTimeout(SendQueueMessagesTask);SendQueueMessagesTask=setTimeout(function(){SendQueueMessages()},2e3);break}}catch(t){_oneror(t)}}function signalRCommandAssignEven(){RunSignalRCommand({TypeClient:6,FunctionName:"AssignEven",AObject:[JSON.stringify(listEven)]})}function UpdateTableNameList(){var n=Object.keys(POptionDic);queueMessages.push(["TableNameList",n]);SendQueueMessages()}function RunSignalRCommand(n){queueMessages.push(["SignalRCommand",n]);SendQueueMessages()}function RunMachineManagementAdvanced(n){queueMessages.push(["MachineManagementAdvanced",n]);SendQueueMessages()}function RunMachineQueueManager(n){queueMessages.push(["MachineQueueManager",n]);SendQueueMessages()}function keypressDialogOnYes(){$(window).off("keypress.DialogOnYes");$(window).on("keypress.DialogOnYes",function(n){n.charCode===13&&window.ParadiseDialog&&(window.DialogOnYes&&window.DialogOnYes.call(),window.DialogOnYes=null,window.ParadiseDialog.hide(),$(window).off("keypress.DialogOnYes"))})}function ParadiseMessageServerLocal(n,t,i,r,u){window.DialogOnYes=null;window.DialogOnNo=null;SetParadiseMessage(n,t,i,r,u)}function SetParadiseMessage(n,t,i,r,u){var e=[{text:r,onClick:function(){window.DialogOnYes&&window.DialogOnYes.call();window.DialogOnYes=null;window.ParadiseDialog.hide()}}],f,o;(window.DialogOnNo||u!=="")&&e.push({text:u,onClick:function(){window.DialogOnNo&&window.DialogOnNo.call();window.DialogOnNo=null;window.ParadiseDialog.hide()}});typeof t!="string"&&(t="");f=250;f=f>window.innerWidth?window.innerWidth:f;o=ParadiseOption.AutoCloseUIMessage;e.length<2&&o>0?DevExpress.ui.notify({message:t,height:80,width:f,minWidth:f,type:"info",displayTime:2e3,animation:{show:{type:"fade",duration:400,from:0,to:1},hide:{type:"fade",duration:40,to:0}}},{direction:"up-push",position:"top right"}):(t=t.replace_All("\n","<br>"),t='<div style="min-height: 40px;max-height: '+window.innerHeight*2/3+"px;min-width: "+f+'px;text-align: center;">'+t+"<\/div>",window.ParadiseDialog=DevExpress.ui.dialog.custom({title:n,messageHtml:t,buttons:e}),ParadiseDialog.show())}function BuildWaitingPanel(){var n,t;!window.lpM&&document.body&&(n=document.createElement("div"),n.id="lpM_popup",document.body.appendChild(n),t={width:250,height:100,contentTemplate:function(){var n=$('<div style="padding: 10px;"> <table style="margin: auto auto;"> <tbody> <tr> <td><div id="lpM" style="float: left;padding: 3px;"><\/div><\/td> <td><div id="lpMmessage" style="word-wrap: break-word;"> <\/div> <\/td> <\/tr> <\/tbody> <\/table> <\/div>');return n.dxScrollView({width:"100%",height:"100%",showScrollbar:"onScroll"}),n},visible:!1,dragEnabled:!1,closeOnOutsideClick:!1,showCloseButton:!1,showTitle:!1},window.popup=$(n).dxPopup(t).dxPopup("instance"),popup.show(),$("#lpM").dxLoadIndicator({closeOnOutsideClick:!1,height:40,width:40}))}function ShowCaptionPanel(n){BuildWaitingPanel();(typeof n!="string"||IsNullOrEmpty(n))&&(n="Loading...");window.popup&&window.lpMmessage&&(window.lpMmessage.innerText=n)}function ShowWaitingPanel(n){BuildWaitingPanel();(typeof n!="string"||IsNullOrEmpty(n))&&(n="Loading...");window.popup&&window.lpMmessage&&(window.lpMmessage.innerText=n,window.popup.show())}function HideCaptionPanel(){setTimeout(function(){HideWaitingPanel()},444)}function HideWaitingPanel(){window.popup&&window.popup.hide()}function FileUploader_onUploadStarted(){ShowWaitingPanel()}function FileUploader_onUploadProgress(n){var t=n.component.option("progress"),r=n.file.name+"\r\n"+t+" %",i;ShowCaptionPanel(r);t!==100&&(i=n.request.response,_ResultFromParadise(i))}function FileUploader_onUploaded(n){var i=n.component,t;_fileuploader._fn_End&&(_fileuploader._fn_End.apply(null,[i,n]),_fileuploader._fn_End=null);t=n.request.response;_ResultFromParadise(t);_fileuploader.reset()}function FileUploader_onUploadError(n){var i=n.component,t=n.request.response;_ResultFromParadise(t);_fileuploader.reset()}function FileUploader_onValueChanged(n){var t=n.component;n.value.length>0&&(t=n.component,_fileuploader._fn_Started?(_fileuploader._fn_Started.apply(null,[t,n]),_fileuploader._fn_Started=null,FileUploaderUpload()):FileUploaderUpload())}function FileUploaderUpload(){var n=_fileuploader,i=n.option("uploadUrl"),t;IsNullOrEmpty(i)?n.reset():n.option("progress")===0&&(t=$("#file-uploader .dx-fileuploader-button"),$(t[1]).click())}function FileUploader_Init(){if(!_fileuploader){var n=document.createElement("div");n.id="file-uploader";n.visibility="hidden";n.display="none";document.body.appendChild(n);_fileuploaderd_Div=$(n);_fileuploader=_fileuploaderd_Div.dxFileUploader({name:"file",uploadUrl:"",chunkSize:4e6,visible:!1,multiple:!0,showFileList:!1,onUploadStarted:FileUploader_onUploadStarted,onUploaded:FileUploader_onUploaded,onUploadError:FileUploader_onUploadError,onProgress:FileUploader_onUploadProgress,onValueChanged:FileUploader_onValueChanged,uploadMode:"useButtons"}).dxFileUploader("instance")}}function ShowFileDialog(n){n||(n="");FileUploader_Init();_fileuploader.reset();_fileuploader.option("uploadUrl",n);_fileuploader._isCustomClickEvent=!0;_fileuploader._isCustomEvent=!0;_fileuploader._$fileInput.click()}function DownloadFile(n){UnLoadOnBeforeUnload();window.location=n;setTimeout(function(){LoadOnBeforeUnload()},1e3)}function UploadControl_OnDeleteFile(n,t,i,r){var u=n.POption.GetParamForPost(),f;u.columnName=i;u.SubmitCommand="DeleteFile";u.TableName=n.POption.TableName;f={data:u,AfterOnSuccess:function(){SetDirty(n.POption,!0);n.SetEnabled(!1);r.text=""}};n.POption.PostToParadise(f)}function UploadFile_ButtonClick_Chunk(n,t){var r=GetValue(n),i,u,f;r=!isNullOrWhitespace(r);i=n.POption.GetUrlFile(n);u=t.buttonIndex;n.buttonCount<2&&(u=1);switch(u){case 0:i+="&submitcommand=UploadFileChunk";ShowFileDialog(i);break;case 1:r&&(i+="&submitcommand=DownloadFile",DownloadFile(i));break;case 2:r&&(ShowWaitingPanel(),i+="&submitcommand=DeleteFile",f={url:i},n.POption.PostToParadise(f))}}function ParadiseUploadFile_Start(){ShowWaitingPanel()}function ExportFile(n){if(n&&n.data){var t=typeof n.data=="string"?_base64ToArrayBuffer(n.data):n.data;saveAs(new Blob([t],{type:"application/octet-stream"}),n.fileName)}}function pcSF_init(n){var t=window.innerHeight;window.pnMenu||(t-=$("#pnMenu").height());n.option("height",t)}function SuperForm_Open_Form(n,t){ShowWaitingPanel();var i={url:t};i.isServer=!1;i.OnSuccess=function(t,i){$(n).html(i.htmlGet);i.htmlGet=""};OpenForm(i)}function GetHeightForm(n){var t=window.innerHeight,r,u,i;return window.pnMenu&&(t-=$("#pnMenu").height()),r=$(idOpenForm+" .SuperForm"),r.length>0&&(t=r.height()-70),n&&n.POption&&(u=$("#lbl"+n.POption.TableName).parent(),u.length>0?t=u[0].clientHeight:(i=$("#"+n.POption.IDForm).parent().parent(),i.length>0&&"#"+i[0].id!=idOpenForm&&(i[0].id===""&&window.FormPopupAlias_Option&&window.FormPopupAlias_Option.height>0?t=window.FormPopupAlias_Option.height:i[0].id!==""&&i[0].offsetTop>0&&(t=window.innerHeight-i[0].offsetTop)))),t>window.innerHeight&&(t=window.innerHeight),t}function DataSettingForm_Init(n){var t=n.POption,i;t.FullHeightGrid(n);t.InnitForm();i=t.windowResize;i==null&&(i=function(){GridViewJSUpdateWidthCover(t.grdTE)},t.windowResize=i);$(window).off("resize",t.windowResize);$(window).resize("resize.DataSetting."+t.TableName,t.windowResize)}function DataSettingAjax_OnBegin(){ShowWaitingPanel()}function DataSettingAjax_OnFailure(n){_oneror(n)}function DataSettingAjax_OnSuccess(n){_ResultFromParadise(n)}function OnAdd(n){n.POption.OnAdd()}function OnReload(n,t){OnReloadBase(n,t,"Reload")}function OnReloadBase(n,t,i){n.POption.OnReload(i)}function OnDelete(n){n.POption.grdTE&&n.POption.grdTE.batchEditApi&&n.POption.grdTE.batchEditApi.EndEdit();ParadiseConfirmClient("DELETE_CONFIRM").success(function(){var t,i,r,u,f,e;if(ShowWaitingPanel(),n.POption.IsShowLayout!==!0){if(t=n.POption.grdTE,t.deleteRow){if(t.selectedRange){for(i=t.selectedRange.startRowIndex,r=t.selectedRange.endRowIndex,i>r&&(r=i,i=t.selectedRange.endRowIndex),u=i;u<=r;u++)t.deleteRow(u);i=null;r=null}}else{for(f=n.POption.grdTE.GetSelectedKeysOnPage(),e=0;e<f.length;e++)n.POption.grdTE.DeleteRowByKey(f[e]);f=null}t=null;SetDirty(n.POption,!0)}SetDirty(n.POption,!0);n.POption.SetVal("SubmitCommand","Delete");n.POption.OnSave()})}function OnReset(n,t){ParadiseConfirmClient("DISCARD_CONFIRM").success(function(){n.POption.IsShowLayout===!0?(n.POption.SetVal("SubmitCommand","Reset"),n.POption.SetBindingControl()):OnReloadBase(n,t,"Reload")})}function OnExportExcel(n){n.POption.OnExportExcel()}function OnExportBase(n,t){OnExportBaseCore(n,t,GetValue(n))}function OnExportBaseCore(n,t,i){n.POption.SetVal("SubmitCommand","Export");n.POption.SetVal("value",i);IsNullOrEmpty(i)||(n.POption.grdTE&&n.POption.grdTE.OnPost&&n.POption.grdTE.OnPost(),ShowWaitingPanel(),n.POption.OnSubmit())}function OnExportDownload(n){DownloadFile(n.GetUrl(n.GetVal("SubmitCommand")))}function OnExport(n,t){var i=n.POption;i&&i.Loaded===!0&&OnExportBase(n,t)}function OnExportSeparateButton_Click(n,t,i){OnExportBaseCore(n,t,i)}function OnSave(n){if(n.POption.FormValidate()){n.POption.grdTE&&n.POption.grdTE.batchEditApi&&n.POption.grdTE.batchEditApi.EndEdit();var t=function(){ShowWaitingPanel();n.POption.SetVal("SubmitCommand","Save");n.POption.OnSave()};ParadiseOption.AskBeforeSave===!0?ParadiseConfirmClient("SAVE_DATA_QUES").success(t):t.call()}else ParadiseMessageServerLocal("error",n.POption.formvalidMessage,"","OK")}function OnSpActionFunction(n,t,i,r){var u=n.POption;u.FormValidate()===!0?ParadiseConfirmClient(i+"_Action").success(function(){var t={POption:t,TableName:u.TableName,ColumnName:n.ColumnName,name:n.name,ProcName:i,functionResult:"actionFunctionResult",objName:"WifiWizard",objFunction:"isWifiEnabled",objParams:[],data:[]};callFunctionFromString(r,[t])}):ParadiseMessageServerLocal("error",n.POption.formvalidMessage,"","OK")}function OnExportExcelChildForm(n){var i,t;if(n.POption)for(i=n.POption.Child,t=0;t<i.length;t++)i[t].OnExportExcel()}function OnSpAction(n,t,i,r){if(n.POption.FormValidate()===!0){var u=function(){n.POption.SetVal("SubmitCommand","spAction");toBoolean(n.POption.GetVal("isDirty"))&&n.POption.PreparePost();OnSpActionBase(n.POption,i)};r&&r.IgnoreQuestion?u.call():ParadiseConfirmClient(i+"_Action").success(u)}else ParadiseMessageServerLocal("error",n.POption.formvalidMessage,"","OK")}function OnSpActionBase(n,t){n.SetVal("value",t);ShowWaitingPanel();n.OnSubmit()}function actionFunctionResult(n){var t=POptionDic[n.TableName];t.SetVal("SubmitCommand","spActionFunction");t.SetVal("valuePa",JSON.stringify(n.data));OnSpActionBase(t,n.ProcName)}function btnEditViewMode_Click(n){var t=!n.POption.ViewModeStatus;n.POption.btnEditViewMode_Click(t);n.POption.ViewModeStatus=t}function btnImport_Click(){var n=window.APPLICATION_ADDRESS+HPAUpdateImportDataFromFileOpenXML+"?SubmitCommand=UploadFileImportChunk";FileUploader_Init();_fileuploader._fn_Started=function(n){ShowPopupWithUrlWidth_ID(null,HPAUpdateImportDataFromFileOpenXML,null,function(){var t=POptionDic.importdatadatasetting.PathFile,i=n._$fileInput["0"].files;UploadFileJS_Init_IOXML_Upload(t,i)})};ShowFileDialog(n)}function BindingCore_ValueChanged(n,t,i){var r=n.POption;r&&r.Loaded===!0&&(SetDirty(r,!0),IsNullOrEmpty(n.ColumnName)||(r.SetValueDataRow(n.ColumnName,i),r.Exec_ColumnNotLock(),ExecChanged(n,t,null,i),r.SetReadOnlyParadiseCore()))}function ExecChanged(n,t,i,r,u,f){var e,l,c,a,y,p,w,b,h,v,o,k,s,d;if(n.POption&&n.POption.Loaded===!0&&n.POption.RunChanged!==!0){if(e=n.POption,u||(u=e.GetVisibleIndexRow()),f||(f=e.Get__ID()),e.SetVal("SubmitCommand","ExecChanged"),l=e.GetParamForPost(),n.ColumnName==null&&(n.ColumnName=""),c=n.ColumnName.toLowerCase(),i==null&&(i={}),i.DataRowJS==null&&(i.DataRowJS=[]),a=[{Name:n.ColumnName,Val:r}],i.CommandList||(i.CommandList=[]),y=e.ColumnChangeEventProcs.filter(function(n){return n.ColumnNames.includes(c)||n.ColumnNames.includes("all")}),y.length>0)for(i.CommandList.push("ColumnChangeEventProc"),o=0;o<y.length;o++)if(p=y[o],e.IsShowLayout===!0)for(h=0;h<p.Controls.length;h++)s=p.Controls[h],s.ColumnName!==n.ColumnName&&a.push({Name:s.ColumnName,Val:GetValue(s)});else if(e.grdTE)for(w=GridView_GetDataRow(e.grdTE,u),b=Object.keys(w),h=0;h<b.length;h++)v=b[h],v!==n.ColumnName&&p.ColumnsToLower.includes(v.toLowerCase())&&a.push({Name:v,Val:w[v]});if(e.dicValueValidateDB.includes(c)){for(o=0;o<e.ValueValidateDBControl.length;o++)s=e.ValueValidateDBControl[o],a[s.ColumnName]=GetValue(s);i.CommandList.push("ValueValidateDB")}for(e.CSP_List.includes(c)&&i.CommandList.push("ControlStateProcedure"),n.POption.ColumnSubDataSettingNames.includes(c)&&i.CommandList.push("SubDataSettingReloadOne"),c!=="employeeid"||i.CommandList.includes("ExistsEmployeeID")||i.CommandList.push("ExistsEmployeeID"),i.ColumnName=n.ColumnName,i.RowExec=f,i.Params=[],o=0;o<e.ParamControls.length;o++)s=e.ParamControls[o],k={Name:GetName(s),Val:GetValue(s)},i.Params.push(k);return i.DataRowJS.length===0&&(s={VisibleIndex:u,ID:f,ColVal:a},i.DataRowJS.push(s)),l.DataTmpPost=i,l.visibleIndex=e.GetfocusedRowIndex(),e.ParamsReloadData&&e.ParamsReloadData.includes(c)&&i.CommandList.push("Reload"),i.CommandList.length>0&&(e.RunChanged=!0,d={data:l,AfterOnSuccess:function(){e.RunChanged=!1}},e.PostToParadise(d)),l}}function B_DTP_VC(n,t){var i=GetValue(n);i&&i instanceof Date&&(i=Date_yyyy_mm_dd_hh_mm_ss(i));BindingCore_ValueChanged(n,t,i);i=null}function B_CKB_VC(n,t){var i=GetValue(n);n.option("DataTypeDB")=="number"&&(i=i==!0?1:0);BindingCore_ValueChanged(n,t,i);i=null}function B_OnEditor_KU(n,t){n._Timeout_KU&&clearTimeout(n._Timeout_KU);n._Timeout_KU=setTimeout(function(){B_TXT_VC(n,t,!0)},500)}function B_TXT_VC(n,t,i){n._Timeout_KU&&clearTimeout(n._Timeout_KU);var r=GetValue(n);i==!0&&(r=GetText(n));BindingCore_ValueChanged(n,t,r);r=null}function P_TXT_VC(n,t,i){n._Timeout_KU&&clearTimeout(n._Timeout_KU);var r=GetValue(n);i==!0&&(r=GetText(n));ExecChanged(n,t,null,r);r=null}function P_OnEditor_KU(n,t){n._Timeout_KU&&clearTimeout(n._Timeout_KU);n._Timeout_KU=setTimeout(function(){P_TXT_VC(n,t,!0)},500)}function P_DPT_VC(n,t){n._Timeout_KU&&clearTimeout(n._Timeout_KU);var i=GetValue(n);i instanceof Date&&(i=Date_yyyy_mm_dd_hh_mm_ss(i));ExecChanged(n,t,null,i);i=null}function SetDirty(n,t){n&&n.SetDirty(t)}function GridView_CheckAll(n,t){var i,f,o,s,r,u,e;if(n.POption&&n.POption.Loaded===!0&&(i=n.POption.grdTE,i)){if(f=GetValue(n),o={DataRowJS:[],CommandList:["CheckAllEventProc"],value:f},i.batchEditHelper&&i.batchEditHelper.EndEdit(),n.POption.RunChanged=!0,i.GetVisibleRowsOnPage){for(s=i.visibleStartIndex+i.GetVisibleRowsOnPage(),r=i.visibleStartIndex;r<s;r++)_GVS_(i,r,n.ColumnName,f),o.DataRowJS.push({ID:r,ColVal:[{Name:n.ColumnName,Val:f}]});s=null}else{var c=i.getDataSource().store(),h=i.element()[0]._data,l=i.getVisibleRows();if(h.length>0){for(r=0;r<h.length;r++)u=h[r],(u.__Ok==undefined||u.__Ok===!0)&&(u[n.ColumnName]=f,e=l.filter(function(n){return n.key===u.__ID}).firstOrDefault(),e=e?e.rowIndex:null,o.DataRowJS.push({VisibleIndex:e,ID:u.__ID,ColVal:[{Name:n.ColumnName,Val:f}]}),c.push([{type:"update",data:u,index:u.__ID}]));i.refresh(!0);SetDirty(n.POption,!0)}}n.POption.RunChanged=!1;ExecChanged(n,t,o,f)}}function HyperLinkEvenProc_Fire(n,t,i,r){var u=null,f,e,i;n.GetValue&&(u=GetValue(n));e=n.POption;i=e.grdTE;i&&(i.batchEditHelper&&i.batchEditHelper.EndEdit(),f=i.GetRowKey(r));ExecChanged(n,t,null,u,r,f)}function btnColumnChangeEventProc(n,t,i,r){ExecChanged(n,t,null,null,r)}function txtFullName_Init(n){n.POption.fnTmp=n}function DivisionIDControl_Init(n){n.POption.dvTmp=n}function DepartmentIDControl_Init(n){n.POption.dpmTmp=n}function SectionIDControl_Init(n){n.POption.SectionIDControl=n}function GroupIDControl_Init(n){n.POption.grTmp=n}function PositionIDControl_Init(n){n.POption.pstTmp=n}function txtEmployeeID_Init(n){n.POption.emTmp=n}function txtEmployeeID_KeyUp(n,t){EmployeeID_Load_Popup(n,t)}function txtEmployeeID_LostFocus(n,t){n.GetReadOnly()||EmployeeID_Load_Popup(n,t,!0)}function txtEmployeeID_DblClick(n){n.GetReadOnly()||ShowPopupWithUrlWidth_ID(n,urlEmployeeList,function(){SetWidthFormPopup(POptionDic.sp_employeeidlist)})}function EmployeeID_Load_Popup(n,t,i){var r,u;t&&t.htmlEvent&&(t.htmlEvent.keyCode==115||t.htmlEvent.keyCode==114)?ShowPopupWithUrlWidth_ID(n.POption.emTmp,urlEmployeeList):(r=GetValue(n),(n.lastChangedValue!==r||i===!0)&&(IsNullOrEmpty(r)||(n.ExistsEmployeeIDTimeout&&clearTimeout(n.ExistsEmployeeIDTimeout),u=function(){if(n.ExistsEmployeeID==null){n.ExistsEmployeeID=1;var i={};i.CommandList=["ExistsEmployeeID"];ExecChanged(n,t,i,r);n.ExistsEmployeeID=null}},i===!0?u.call():n.ExistsEmployeeIDTimeout=setTimeout(u,2e3))))}function txtLoginName_DblClick(n){ShowPopupWithUrlWidth_ID(n,urlLoginName,function(){SetWidthFormPopup(POptionDic.sp_loginlist_forcombobox)})}function txtLoginName_Init(n){n.POption.lgnTmp=n}function txtLoginName_keyup(n,t){if(n.CheckLoginNameTimeOut&&clearTimeout(n.CheckLoginNameTimeOut),t&&t.htmlEvent&&(t.htmlEvent.keyCode==115||t.htmlEvent.keyCode==114))txtLoginName_DblClick(n,t);else{var i=GetValue(n);IsNullOrEmpty(i)||i===n.lastChangedValue||(n.CheckLoginNameTimeOut=setTimeout(function(){var t,r;n.POption.SetVal("SubmitCommand","ExistsLoginName");t=n.POption.GetParamForPost();t.value=i;r={data:t};n.POption.PostToParadise(r);clearTimeout(n.CheckLoginNameTimeOut)},1e3))}}function FormLayout_TabClick(n,t,i,r){for(var o,e,f,s,u=0;u<r.length;u++)if(o=r[u],t.tab.name==o.name){if(t.tab.CallbackData===!0)return;for(t.tab.CallbackData=!0,e=r[u].list,f=0;f<e.length;f++)s=POptionDic[e[f]],Grid_CallbackData(s.grdTE)}}function ActionFunction(n,t,i){var r={POption:n.POption};callFunctionFromString(i,[r])}function ActionFunctionGrid(n,t,i,r){var u={POption:n.POption,VisibleIndex:r};callFunctionFromString(i,[u])}function DeleteRow_Click(n){n.POption.grdTE.DeleteRow(n.VisibleIndex);SetDirty(n.POption,!0)}function spGetCVFileLoadCore(n,t){var i,r;t&&(ShowWaitingPanel(),GridView_OnBatchEditStartEditing_Core(n.POption.grdTE,null,"",n.VisibleIndex),n.POption.DataRow&&(t.SetVal("SubmitCommand","_UpdateConIDReload"),i=t.GetParamForPost(),i.paradise_hrm=encodeURIComponent(EncryptionStringEncryption(JSON.stringify({ParamControls:{"@CVFile":n.POption.DataRow.CVFile}}))),r={data:i},t.PostToParadise(r)))}function spGetCVFileLoad(n){spGetCVFileLoadCore(n,POptionDic.spgetcvfile)}function spGetCVFileLoadBA(n){spGetCVFileLoadCore(n,POptionDic.spgetcvfileba)}function btnExportExcelSubForm_Click(n){var t=n.POption.Child.firstOrDefault();t.OnExportExcel()}function OpenMenuSearch_Click(n){pcSearch.hide();var i=n.POption.grdTE.GetFocusedRowIndex(),t=n.POption.grdTE.GetRowKey(visible_Index);HyperLink_OpenMenu_Core(t)}function TimeAttendance_CheckIn_Click(n){window.location.href=window.location.origin+"/?paradisehrmparadisehrm="+encodeURIComponent(JSON.stringify(n))}function TreeListJSDataSource(n,t,i,r,u){GridViewJSDataSource(n,t,i,r,u,!0)}function GridViewJSDataSource(n,t,i,r,u,f){var e,o;cancelEditDataGrid(n);n&&(t==null&&(t=[]),e=n.element()[0],e._data=t,e.items?(e.items.removeAll(),i===!0&&(e._data=convertToObservable(e._data)),ko.utils.arrayPushAll(e.items,e._data)):(f==!0?(n.option("dataSource",e._data),n.option("selectedRowKeys",r),n.option("expandedRowKeys",u)):(n.option("width",n.element()[0].option.width),o=n.option("dataSource"),o instanceof DevExpress.data.CustomStore?n.refresh():(o=new DevExpress.data.CustomStore({errorHandler:window._oneror,key:n.option("keyExpr"),load:function(t){var r,i,u;return n.option("remoteOperations")!=!0?e._data:(r=$.Deferred(),i=$.extend({},t),DeleteFunctionArrayToStringObject(i),i=n.POption.GetParamForPost(i),i.SubmitCommand="DataSourceload",u={data:i,OnSuccess:function(n,t){r.resolve(t.data,{totalCount:t.totalCount,summary:t.summary,groupCount:t.groupCount})},afterOnError:function(){r.reject("Data Loading Error")}},n.POption.PostToParadise(u),i=null,r.promise())}}),n.option("dataSource",o)),GridViewJSUpdateWidthCover(n)),GridViewJS_EndCallback(n)))}function GridViewJSUpdateWidthCover(){}function GridViewJSDataSourceClear(n){n&&(n.option("dataSource",null),n.element()[0]._data=[])}function Grid_CallbackData(n,t){n&&(isNullOrWhitespace(t)&&(t="GVGetData"),n.SubmitCommand=t,cancelEditDataGrid(n),n.batchEditApi&&(n.batchEditApi.GetHelper().insertedValues={},n.batchEditApi.GetHelper().ResetAllChanges()),$("#"+n.name+"_I").val(""),n.PerformCallback&&n.PerformCallback())}function GV_ValueChanged(n,t,i,r){var u=n.POption,f;!u&&i&&(u=i.POption);u.Loaded===!0&&(SetDirty(u,!0),f=n._t_?n._t_.rowIndex:null,u.Exec_ColumnNotLock(f),ExecChanged(n,t,null,r))}function GV_LostFocus(n){n.POption.GV_LostFocus_OnAdd()}function GridViewOnEditor_KU(n){n._Timeout_KU&&clearTimeout(n._Timeout_KU)}function GridViewOnEditor_VC(n,t){n.POption&&n.POption.Loaded===!0&&GV_ValueChanged(n,t,n.POption.grdTE,GetValue(n))}function GridViewOnEditor_LC(n){n.POption&&n.POption.Loaded===!0&&n.POption.grdTE&&n.POption.grdTE.batchEditApi&&n.POption.grdTE.batchEditApi.EndEdit()}function DeleteRow_GV_Click(n){n.POption.grdTE.DeleteRow(n.POption.grdTE.focusedRowIndex)}function GridViewMM_GotFocus(n,t,i){n.SetHeight($(i.GetRow(i.focusedRowIndex)).height())}function GridViewMM_LostFocus(n){n.SetHeight(window.GlobalFontSize*2)}function GridView_GetDataRow(n,t){var s,u,e,i,r;if(n.GetRowKey){var o=n.GetRowKey(t),h=n.batchEditApi.GetHelper().GetRecordValues(o),f=n.DataRows.filter(function(n){return n.__ID==o}).firstOrDefault();for(f==null&&(f={}),i=0;i<n.columns.length;i++)s=n.columns[i],u=h[i],u&&(u=u.value),f[s.fieldName]=u;return f}if(typeof n.option=="function"&&(e=n.option("editing.changes"),e&&(editData=e.slice(),editData)))for(i=0;i<editData.length;i++)if(r=editData[i],delete r.oldData,delete r.isValid,r.key.__DX_INSERT_INDEX__&&(r.key=r.key.__DX_INSERT_INDEX__),r.data.__ID==t)return r.data;return{}}function GridView_OnBatchEditStartEditing_Core(n,t,i,r){n.currentfieldName=i;n.currentfieldNameToLower=n.currentfieldName.toLowerCase();n.POption.DataRow=n.option?t.data:GridView_GetDataRow(n,r);n.ColumnEditArray=n.POption.GetColumnReadOnlyCore();n.focusedRowIndexOld=r}function GridView_OnBatchEditStartEditing(n,t){var r,u,s,l,h,e,y,i,o,f;if(t.focusedColumn)if(r=t.visibleIndex,u=t.focusedColumn.fieldName,n.POption.Set__ID(t.key),n.POption.SetVisibleIndexRow(r),r<0&&(n.MaxVisibleIndexAdd==null||n.MaxVisibleIndexAdd>r)&&(n.MaxVisibleIndexAdd=r),n.POption.IsShowLayout===!0&&n.focusedRowIndexOld!==n.focusedRowIndex&&(f=!1,toBoolean(n.POption.GetVal("isDirty"))===!0&&(GridUpdatePost(n),n.POption.SetVal("SubmitCommand","UpdateChangeLoadBinding"),f=!0),n.POption.SetBindingControl(f)),GridView_OnBatchEditStartEditing_Core(n,t,u,r),u==="grcBtnDelForSubF"?(isNullOrWhitespace(t.rowValues[t.focusedColumn.index].value)||(n.POption.DeleteOneRowReloadData===1?ParadiseConfirmClient("DELETE_CONFIRM").success(function(){ShowWaitingPanel();n.DeleteRow(n.focusedRowIndex);SetDirty(n.POption,!0);n.POption.SetVal("SubmitCommand","Delete");n.POption.OnSave()}):(n.DeleteRow(n.focusedRowIndex),SetDirty(n.POption,!0))),t.cancel=!0):r>-1&&(!n.ColumnEditArray.includes(n.currentfieldNameToLower)||n.POption.IsHyperLink(n.currentfieldNameToLower)===!0)?t.cancel=!0:(s=t.key,n.batchEditApi.SetCellValueCore(s,"__ID",n.GetRowKey(r)),t.focusedColumn.Column_Increase!==!0&&(GridView_WidthColumn_Increase(n,t.focusedColumn.visibleIndex+1),t.focusedColumn.Column_Increase=!0)),t.cancel!==!0){var c=r.toString(),a=c.replace("-","_"),v=$("#"+n.name+" div[id*='_2147483647']");for(e=0;e<v.length;e++)l=v[e],l.outerHTML=l.outerHTML.replace_All("_2147483647",a).replace_All("_2147483646",c);for(h=$("#"+n.name+" script[id*='_2147483647']"),e=0;e<h.length;e++)y=h[e].innerHTML.replace_All("_2147483647",a).replace_All("_2147483646",c),RunJS(y);h.remove();n._focusedColumn=t.focusedColumn;i=n[u+"___1"];i&&(n._Editor=i,o=n.POption.IsFilebinary(u)?n.POption.DataRow[u+"_filename"]:t.rowValues[t.focusedColumn.index].value,i.NAME==="dxDateBox"&&isNullOrWhitespace(o)&&(o=null),n.POption.IsBooleanColumn(u)?(n.POption.showEditGridView!==!1&&(o=!toBoolean(o)),i._resumeValueChangeAction&&i._resumeValueChangeAction(),SetValue(i,o),GridViewOnEditor_VC(i,null),i._resumeValueChangeAction&&i._resumeValueChangeAction()):(i._suppressValueChangeAction&&i._suppressValueChangeAction(),SetValue(i,o),i._resumeValueChangeAction&&i._resumeValueChangeAction()),n.POption.showEditGridView!==!1&&(i.open&&i.NAME!=="dxDateBox"?setTimeout(function(){SetFocus(i);i.open()},100):setTimeout(function(){SetFocus(i)},100),n.POption.showEditGridView=!0))}else n._focusedColumn=null,n._Editor=null;else{var s=t.key,u=t.column.dataField,p=u.toLowerCase(),r=n.getRowIndexByKey(s);r<0&&s==null&&(s=r.toString());n.POption.Set__ID(s);n.POption.SetVisibleIndexRow(r);n.POption.IsShowLayout==!0&&n.focusedRowIndexOld!==r&&(f="LoadBinding",toBoolean(n.POption.GetVal("isDirty"))==!0&&(GridUpdatePost(n),f="UpdateChange"+f),n.POption.Child.length>0&&(f="LoadSubs"+f),n.POption.SetBindingControl(f),f=null);GridView_OnBatchEditStartEditing_Core(n,t,u,r);n.POption.IsShowLayout!==!0&&(n.ColumnEditArray=n.POption.GetColumnReadOnlyCore());u==="grcBtnDelForSubF"?(isNullOrWhitespace(t.data[u])||n.POption.GetIsReadOnlyConfig()==!0||(n.POption.DeleteOneRowReloadData===1?ParadiseConfirmClient("DELETE_CONFIRM").success(function(){ShowWaitingPanel();n.deleteRow(r);SetDirty(n.POption,!0);n.POption.SetVal("SubmitCommand","Delete");n.POption.OnSave()}):(n.deleteRow(r),SetDirty(n.POption,!0),setTimeout(function(){n.POption.SetVisibleIndexRow(-1)},100))),t.cancel=!0):(n.POption&&n.POption.IsShowLayout==!0||!n.ColumnEditArray.includes(p)&&r>-1)&&(t.cancel=!0)}}function GridView_FocusedRowChanged(n,t){var r,u,i;n.POption.Child.length>0&&n.POption.IsShowLayout!=!0&&t.row!=null&&(r=t.row.key,u=t.row.rowIndex,u<0&&r==null&&(r=u.toString()),n.POption.Set__ID(r),n.POption.SetVisibleIndexRow(u),i="LoadBinding",i="LoadSubs"+i,n.POption.SetBindingControl(i),i=null)}function GridView_FocusedRowChanging(){}function GridView_RowClick(){}function _GVS_(n,t,i,r,u,f){var s,e,o;n&&!isNullOrWhitespace(i)&&(n.cellValue?(f!=null&&(s=n.element()[0]._data.filter(function(n){return n.__ID==f}).firstOrDefault(),s!=null&&(s[i]=r),t==null&&(t=n.getRowIndexByKey(f)),t==null&&f<0&&(t=f)),t!=null&&n.cellValue(t,i,r,u)):(u||(e=n[i+"___1"],e&&(o=n._Editor,o&&o===e&&n.focusedRowIndex===t&&n._focusedColumn&&n._focusedColumn.fieldName===i?SetValue(o,r):e._Text&&(u||(u=GridViewJS_GetText_CDS_(r,e.element()[0].option)),r||(r=""),u||(u=""),u=e._Text.replace(/_Paradise_9999/g,t.toString().replace("-","_")).replace(/"_Paradise_4444"/g,JSON.stringify(r)).replace(/"_Paradise_0000"/g,JSON.stringify(u)).replace(/_Paradise_4444/g,r).replace(/_Paradise_0000/g,u)))),n.batchEditApi.SetCellValue(t,i,r,u)),SetDirty(n.POption,!0))}function GridView_OnBatchEditEndEditing(n,t){var i=n._Editor,f,r,u,e;i&&(f=t.rowValues[n._focusedColumn.index],r=GetValue(i),f.value!==r&&(f.value=r,u=GetText(i),i._Text&&(r||(r=""),u||(u=""),e=t.visibleIndex,f.text=i._Text.replace(/_Paradise_9999/g,e.toString().replace("-","_")).replace(/"_Paradise_4444"/g,JSON.stringify(r)).replace(/"_Paradise_0000"/g,JSON.stringify(u)).replace(/_Paradise_4444/g,r).replace(/_Paradise_0000/g,u)),i.NAME!="dxCheckBox"&&i.NAME!="dxDropDownBox"&&i.NAME!="dxRadioGroup"&&i.NAME!="dxDateBox"&&i.NAME!="dxColorBox"&&GV_ValueChanged(i,t,n,r)),n._focusedColumn=null,n._Editor=null)}function GridView_CellClick(n){var t=n._Editor;t&&s.POption.grdTE.batchEditApi&&s.POption.grdTE.batchEditApi.EndEdit()}function GridView_RowDelete(n){n.component.deleteRow(n.row.rowIndex)}function GridView_keyDown(n,t){t.key==="Shift"&&(n.PressShift=!0,n.ColStart>-1&&(n.BeginShift=!0));t.key==="Control"&&(n.PressControl=!0)}function GridView_keyUp(n,t){n.PressShift=!1;n.PressControl=!1;t.ctrlKey&&t.key==="a"&&$($("[id^='"+n.name+"_DXDataRow']").children("td")).addClass("cellSelected")}function GridView_mousedown(n,t){var r,u,f,e,i,h,o,s;if(t.path&&t.path.length>0)if(n.PressControl===!0)$(t.path[0]).addClass("cellSelected");else if(n.PressShift===!0)if(n.BeginShift===!0)for(n.ColEnd=t.path[0].cellIndex,n.RowEnd=t.path[1].rowIndex,n.BeginShift=!1,r=n.ColStart,u=n.ColEnd,r>u&&(r=n.ColEnd,u=n.ColStart),f=n.RowStart,e=n.RowEnd,f>e&&(f=n.RowEnd,e=n.RowStart),i=u;i>=r;i--)for(h=n.columns[i],o=e-2;o>=f-2;o--)s=n.GetDataCell(o,i),$(s).addClass("cellSelected");else $(t.path[0]).addClass("cellSelected"),n.ColStart=t.path[0].cellIndex,n.RowStart=t.path[1].rowIndex,n.ColEnd=-1,n.RowEnd=-1,n.BeginShift=!0;else n.OneCell=!0,$(".cellSelected").removeClass("cellSelected"),n.ColStart=t.path[0].cellIndex,n.RowStart=t.path[1].rowIndex,n.ColEnd=-1,n.RowEnd=-1}function GridView_mouseup(n,t){n.OneCell===!0&&(n.ColEnd=t.path[0].cellIndex,n.RowEnd=t.path[1].rowIndex,n.OneCell=!1)}function GridView_mouseover(n,t){var r,u,f,e,i,s,o;if(n.ColStart>-1&&n.OneCell===!0)for(n.ColEnd=t.path[0].cellIndex,n.RowEnd=t.path[1].rowIndex,$(".cellSelected").removeClass("cellSelected"),r=n.ColStart,u=n.ColEnd,r>u&&(r=n.ColEnd,u=n.ColStart),f=n.RowStart,e=n.RowEnd,f>e&&(f=n.RowEnd,e=n.RowStart),i=u;i>=r;i--)for(s=n.columns[i],o=e-2;o>=f-2;o--)$(n.GetDataCell(o,i)).addClass("cellSelected")}function GridView_Init(n){if(n.POption.grdTE=n,n.ColumnEditArray=[],n.GetMainElement){var t=$("#"+n.name+"_DXMainTable")[0];t.onkeydown=function(t){GridView_keyDown(n,t)};t.onkeyup=function(t){GridView_keyUp(n,t)};t.onmousedown=function(t){GridView_mousedown(n,t)};t.onmouseup=function(t){GridView_mouseup(n,t)};t.onmouseover=function(t){GridView_mouseover(n,t)};t.onpaste=function(t){GridView_Paste(n,t)};n.batchEditApi.GetHelper().CreateItemEditState=function(n,t){var u={},o=this.GetRecordModifiedColumns(n),s=o.filter(function(n){return!ASPx.Data.ArrayContains(t,n)}),i,r,f,e;for(t=t.concat(s),i=0;i<t.length;i++)r=t[i],_isNaN(r)||(f=this.GetColumn(r).fieldName,e=this.GetCellValue(n,r),u[f]=this.GetValueString(e));return this.AppendNonEditableColumnValues(u,n),u};n.batchEditApi.GetHelper().UpdateCellText=function(n,t){if(this.GetAllowUpdateCellText(t))if(this.IsProgressBarColumn(t))this.owner.UpdateProgressBarColumnValue(n,t,this.GetCellValue(n,t));else{var i=this.GetCellTextContainer(n,t);$(i).html(this.GetCellContent(n,t))}}}}function GridView_Paste(n,t){var h,r,u,i,e,o,s;for(t.stopPropagation(),t.preventDefault(),h=t.clipboardData||window.clipboardData,r=h.getData("Text"),u=$(".cellSelected"),i=0;i<u.length;i++){var f=u[i],l=$(f).parent()[0].rowIndex-2,c=f.cellIndex;c=n.GetColumnIndexByDataCell(f);e=n.columns[c];e&&_GVS_(n,l,e.fieldName,r)}o=n.GetFocusedCell();o&&(s=n.GetEditor(o.column),s&&SetValue(s,r))}function GridView_WidthColumn_Increase(n,t){var r=$($("#"+n.POption.grdTE.name+"_DXHeaderTable tbody tr:first").children("td:eq("+t+")")),i=r.width()+GlobalFontSize;r.css("width",i+"px");$($("#"+n.POption.grdTE.name+"_DXMainTable tbody tr:first").children("td:eq("+t+")")).css("width",i+"px");$($("#"+n.POption.grdTE.name+"_DXFooterTable tbody tr:first").children("td:eq("+t+")")).css("width",i+"px")}function GridView_WidthColumn_Increase(n,t){var r=$($("#"+n.POption.grdTE.name+"_DXHeaderTable tbody tr:first").children("td:eq("+t+")")),i=r.width()+GlobalFontSize;r.css("width",i+"px");$($("#"+n.POption.grdTE.name+"_DXMainTable tbody tr:first").children("td:eq("+t+")")).css("width",i+"px");$($("#"+n.POption.grdTE.name+"_DXFooterTable tbody tr:first").children("td:eq("+t+")")).css("width",i+"px")}function GridView_WidthColumn_reduction(n,t){var r=$($("#"+n.POption.grdTE.name+"_DXHeaderTable tbody tr:first").children("td:eq("+t+")")),i=r.width()-GlobalFontSize;r.css("width",i+"px");$($("#"+n.POption.grdTE.name+"_DXMainTable tbody tr:first").children("td:eq("+t+")")).css("width",i+"px");$($("#"+n.POption.grdTE.name+"_DXFooterTable tbody tr:first").children("td:eq("+t+")")).css("width",i+"px")}function GridView_UpdateWidthColumn(n,t,i){$($("#"+n.POption.grdTE.name+"_DXHeaderTable tbody tr:first").children("td:eq("+t+")")).css("width",i+"px");$($("#"+n.POption.grdTE.name+"_DXMainTable tbody tr:first").children("td:eq("+t+")")).css("width",i+"px");$($("#"+n.POption.grdTE.name+"_DXFooterTable tbody tr:first").children("td:eq("+t+")")).css("width",i+"px")}function GridView_UpdateWidthColumns(n,t){var r,i;if(n&&(n.ColumnsWidth=t,n.ColumnsWidth)){var u=$("#"+n.name+"_DXHeaderTable .dxgvArm"),f=$("#"+n.name+"_DXMainTable .dxgvArm"),e=$("#"+n.name+"_DXFooterTable .dxgvArm");for(r=0;r<t.length;r++)i=t[r],$(u.children("td:eq("+i.index+")")).css("width",i.width+"px"),$(f.children("td:eq("+i.index+")")).css("width",i.width+"px"),$(e.children("td:eq("+i.index+")")).css("width",i.width+"px")}}function GridView_BeginCallback(n,t){var r,u,i;n._loadPanel||(r=n.name+"_loadPanel",u=$("<div/>").attr("id","#"+r).appendTo($("#"+n.name)).dxLoadPanel({position:{"of":"#"+n.name},visible:!1,showIndicator:!0,showPane:!0,shading:!1,closeOnOutsideClick:!1}).dxLoadPanel("instance"),n._loadPanel=u);n._loadPanel.option("visible")===!1&&n._loadPanel.show();i=n.ParadisecustomArgs;i=n.POption.GetParamForPost(i);i.GridWidth=n.GetWidth()-window.PaddingDefault*6;i.GridHeight=n.GetHeight();i.GridHeightView=$("#"+n.name+"_DXMainTable").height();i.strSearch=n.txtSearch?GetText(n.txtSearch):"";i.SubmitCommand=n.SubmitCommand;t.customArgs=i;n.callbackUrl=n.POption.GetUrl(n.SubmitCommand);n.MaxVisibleIndexAdd=null}function GridView_EndCallback(n){var u,t,i,r;GridAddEvenItemFiltering(n);RunJS(n.cpScript);n.cpScript="";n.POption.PopUpAction&&n.POption.PopUpAction.call();n.ParadisecustomArgs={};IsMobile()&&n.MinPageSize>0&&n.pageRowCount<=n.MinPageSize&&(u=n.name+"_DXADHeader",t=$("[id^='"+n.name+"_DXADRow']"),t=Array.from(t),i=$("#"+n.name+" .dxgvPagerBottomPanel_R"),i.length>0&&t.push(i[0]),DevExpress.data.query(t).sum("clientHeight").done(function(t){t<200&&(t=200);t+=200;n.SetHeight(t);n.POption.AdjustControl()}));r=Array.from($("#"+n.name+" [id^=scr_]")).filter(function(n){return!n.id.endsWith("_2147483647")});RunScript_scr__(r);InitalizeGrid_droppable($("#"+n.name+" .cellGrid .dx-tagbox"));n.UpdateScrollableControls();n.POption._AutoHeightGrid(n)||n.POption.AdjustControl();n._loadPanel&&n._loadPanel.hide()}function GridView_BatchEditRowValidating(){}function GridView_RowDblClick(n,t){FormPopupAlias!=null&&(n.POption.dataRowdblclick={},n.columns!=null?n.columns.forEach(function(i){n.POption.dataRowdblclick[i.fieldName]=n.batchEditApi.GetCellValue(t.visibleIndex,i.fieldName)}):t.data!=null&&(n.POption.dataRowdblclick=t.data),FormPopupAlias.POption=n.POption,FormPopupAlias.hide())}function GridAddEvenItemFiltering(n){var t=n.filterHelper.GetListBox(n.cpHeaderFilterIndex);t&&t.ItemFiltering.handlerInfoList.length==0&&t.ItemFiltering.AddHandler(onControl_Filtering)}function OnContextMenu_DS_ItemClick(n,t){switch(t.item.name){case"FilterCurrentColumn":ASPx.Evt.EmulateMouseClick($("#"+n.name+"_col"+t.elementIndex.toString()+" tbody tr td:last img")[0])}}function InitalizeGrid_droppable(){}function GridViewJS_ECT(n,t){try{eval(n._sc);n._E&&(n._E.beginUpdate(),n._E._suppressValueChangeAction&&n._E._suppressValueChangeAction(),n._E.option("value",t.value),n._E._resumeValueChangeAction&&n._E._resumeValueChangeAction(),n._E.endUpdate())}catch(i){_oneror(i)}}function GridViewJS_CheckBoxJS_ECT(n,t){try{var r=toBoolean(t.value,!1,!1),i=$("<div />");i.appendTo(n);i=i[0];i.option=$.extend({},t.column._option);i.option.value=r;delete i.option.name;i=CheckBoxJS_Init(i);i._t_=t}catch(u){_oneror(u)}}function GridViewJS_DateEditJS_ECT(n,t){try{var i=$("<div />");i.appendTo(n);i=i[0];i.option=$.extend({},t.column._option);i.option.value=t.value;delete i.option.name;i=DateEditJS_Init(i);i._t_=t}catch(r){_oneror(r)}}function GridViewJS_ColorBoxJS_ECT(n,t){try{var i=$("<div />");i.appendTo(n);i=i[0];i.option=$.extend({},t.column._option);i.option.value=t.value;delete i.option.name;i=ColorBoxJS_Init(i);i._t_=t}catch(r){_oneror(r)}}function GridViewJS_MemoJS_ECT(n,t){try{var i=$("<div />");i.appendTo(n);i=i[0];i.option=$.extend({},t.column._option);i.option.value=t.value;delete i.option.name;i=MemoJS_Init(i);i._t_=t;i.option("height",i.element().height()*2)}catch(r){_oneror(r)}}function GridViewJS_DropDownJS_ECT(n,t){var i,r;try{i=$("<div />");i.appendTo(n);i=i[0];i.option=$.extend({},t.column._option);i.option.value=t.value;delete i.option.name;i=DropDownBoxJS_Init(i);i._t_=t;r=window.DataSourceConfig[t.column._option.columnConfigQuery];r&&i.option("dataSource",Update_DataSourceConfig(r,i))}catch(u){_oneror(u)}}function GridViewJS_RadioGroupJS_ECT(n,t){var i,r;try{i=$("<div />");i.appendTo(n);i=i[0];i.option=$.extend({},t.column._option);i.option.value=t.value;delete i.option.name;i=RadioGroupJS_Init(i);i._t_=t;r=window.DataSourceConfig[t.column._option.columnConfigQuery];r&&i.option("dataSource",Update_DataSourceConfig(r,i))}catch(u){_oneror(u)}}function GridViewJS_InitEditor(n,t,i,r){try{if(i){var u=t.component.option("name")+t.column.dataField+"_"+t.rowIndex.toString().replace("-","_"),f=i.format(u),e=r.format(u,t.value,t.rowIndex),o=$(f);n.append(o);RunJS(e)}}catch(s){_oneror(s)}GridViewJS_EndCallback(n,t)}function GridViewJS_Filebinary(n,t,i,r){try{if(i){var f=t.component.option("name"),u=f+t.column.dataField+"_"+t.rowIndex.toString().replace("-","_"),e=t.row.data[t.column.dataField+"_filename"],o=i.format(u),s=r.format(u,e,t.rowIndex),h=$(o);n.append(h);RunJS(s)}}catch(c){_oneror(c)}GridViewJS_EndCallback(n,t)}function GridViewJS_Hyperlink(n,t,i,r){var u,f,e;try{if(i&&!isNullOrWhitespace(t.value)){u=t.component.option("name")+t.column.dataField+"_"+t.rowIndex.toString().replace("-","_");f=i.format(u);n.n=r.format(u,t.value,t.rowIndex);e=$(f);n.append(e);eval("try {"+n.n+"} catch (ex) {console.log(n.n);_oneror(ex);} ");var s=t.value.split("|"),o=s.filter(function(n){return n.toLowerCase().startsWith("text=")}).firstOrDefault(),h=o?o.substring(5):"";n.s.PUrl="";n.s.option("text",h);n.s.option("value",t.value)}}catch(c){_oneror(c)}GridViewJS_EndCallback(n,t)}function GridViewJS_RadioGroupJS_CT(n,t){var i,r;try{i=$("<div />");i.appendTo(n);i=i[0];i.option=$.extend({},t.column._option);i.option.value=t.value;i.option.readOnly=!0;delete i.option.name;i=RadioGroupJS_Init(i);i._t_=t;r=window.DataSourceConfig[t.column._option.columnConfigQuery];r&&i.option("dataSource",Update_DataSourceConfig(r,i))}catch(u){_oneror(u)}GridViewJS_EndCallback(n,t)}function GridViewJS_CheckBoxJS_CT(n,t){try{var r=toBoolean(t.value,!1,!1),i=$("<div />");i.appendTo(n);i=i[0];i.option=$.extend({},t.column._option);i.option.value=r;i.option.readOnly=!0;delete i.option.name;i=CheckBoxJS_Init(i);i._t_=t}catch(u){_oneror(u)}GridViewJS_EndCallback(n,t)}function GridViewJS_DropDownJS_CT(n,t){try{var i=GridViewJS_GetText_CDS(t.value,t.column);n.append(i)}catch(r){_oneror(r)}GridViewJS_EndCallback(n,t)}function GridViewJS_DropDownJS_wrap_CT(n,t){try{var i=GridViewJS_GetText_CDS(t.value,t.column);n.append($("<div />").addClass(".dx-widget wordwrap").html(i))}catch(r){_oneror(r)}GridViewJS_EndCallback(n,t)}function GridViewJS_ColorBoxJS_CT(n,t){try{n.append($("<div />").css({"background-color":t.value,float:"left",width:window.GlobalFontSize,height:window.GlobalFontSize,"margin-right":window.GlobalFontSize/2}));n.append($("<div />").addClass(".dx-widget").html(t.value))}catch(i){_oneror(i)}GridViewJS_EndCallback(n,t)}function GridViewJS_CT_Text(n,t){try{n.append(t.value)}catch(i){_oneror(i)}GridViewJS_EndCallback(n,t)}function GridViewJS_CT_TextMemo(n,t){try{n.append($("<div />").addClass(".dx-widget wordwrap").html(t.value))}catch(i){_oneror(i)}GridViewJS_EndCallback(n,t)}function GridViewJS_CT_TextMoney(n,t){try{n.append($("<div />").addClass(".dx-widget wordwrap").html(GridViewJS_FormatMoney(t.value)))}catch(i){_oneror(i)}GridViewJS_EndCallback(n,t)}function GridViewJS_CT_TextPassWord(n,t){try{n.append($("<div />").addClass(".dx-widget").html(isNullOrWhitespace(t.value)?"":"******"))}catch(i){_oneror(i)}GridViewJS_EndCallback(n,t)}function GridViewJS_CT_TextPassWordNoneEncryption(n,t){var i,u,r;try{for(i=t.value,i||(i=""),u=i.length,i="",r=0;r<u;r++)i+="*";n.append($("<div />").addClass(".dx-widget").html(i))}catch(f){_oneror(f)}GridViewJS_EndCallback(n,t)}function GridViewJS_DateEditJS_CT(n,t){try{var i=t.value;typeof i=="string"&&(!i.includes("-")&&i.includes(":")&&i.length<9&&(i="1970-01-01T"+i),i=new Date(i));i=DevExpress.localization.formatDate(i,t.column._option.displayFormat);n.append(i);i=null}catch(r){_oneror(r)}}function GridViewJS_Image(n,t){try{var i=window.GlobalFontSize*4+"px",r={width:i,height:i,"max-width":i,"max-height":i,margin:"auto"};n.append($(IsNullOrEmpty(t.value)?"<img />":'<img src="data:image/png;base64, '+t.value+'"/>').css(r))}catch(u){_oneror(u)}GridViewJS_EndCallback(n,t)}function GridViewJS_SVG(n,t){try{var i=window.GlobalFontSize*2+"px",r=$("<span>").css({"font-size":i,margin:"auto"}).addClass("p-"+t.value.toLowerCase());n.append($("<div />").css({height:"initial",width:"initial","text-align":"center"}).append(r))}catch(u){_oneror(u)}GridViewJS_EndCallback(n,t)}function GridViewJS_GetText_CDS_(n,t){if(t){var i=window.DataSourceConfig[t.columnConfigQuery];i&&(i=i.items,n=Get_Text(n,t.displayExpr,t.valueExpr,i,t.Separator))}return n}function GridViewJS_GetText_CDS(n,t){return GridViewJS_GetText_CDS_(n,t._option)}function GridViewJS_SetValue_ECT(n,t){t&&t.setValue(GetValue(n))}function GridViewJS_headerCellTemplate(n,t,i){IsNullOrEmpty(t.column.caption)||i.append($("<div>"+t.column.caption+"<\/div>"))}function GridViewJS_FormatMoney(n){var t;if(n==0||isNullOrWhitespace(n))n="-";else if(n>0){var i=Array.from(n.toString()),r=[],u=3-i.length%3;for(t=0;t<i.length;t++)t>0&&u%3==0&&r.push(","),u++,r.push(i[t]);n=r.join("")}return n}function GridViewJS_EndCallback(n,t){t!=null&&(n=t.component);n._EndCallback&&clearTimeout(n._EndCallback);n._EndCallback=setTimeout(function(){n.POption._AutoHeightGrid()},200)}function Spreadsheet_BeginCallback(){}function Spreadsheet_EndCallback(){}function ExportReport_btnExportMain_Click(n){SetValue($("#lblProcecess").dxProgressBar("instance"),0);n.POption.SetVal("SubmitCommand","Export");ShowWaitingPanel();n.POption.OnSubmit()}function ExportReport_GV_RowClick(n,t){if(t.data.__ID!=null){if(n.focusedRowIndexBD!==t.key){ShowWaitingPanel();n.POption.Set__ID(t.data.__ID);n.POption.SetVal("SubmitCommand","BuildParam");var i=n.POption.GetParamForPost(),r={data:i};n.POption.PostToParadise(r)}n.focusedRowIndexBD=t.key}}function ExportReport_Init(n){var t=GetHeightForm(n);n.SetHeight(t);n.POption.grdTE&&n.POption.grdTE.SetHeight(t*5/6);n.POption.InnitForm()}function Report_Report_(n){n.option("columns",[{}]);n.option("showColumnHeaders",!1);n.option("dataRowTemplate",dataRowTemplate_Report);n.option("pager",{allowedPageSizes:[1],showInfo:!1,showPageSizeSelector:!1,displayMode:"full",visible:!1});n.option("paging",{pageSize:1})}function Report_Init(n,t){n.POption.XtraReportJS=n.POption.grdTE;Report_Report_(n.POption.XtraReportJS);DataSettingForm_Init(n,t);Load_Report(n.POption)}function dataRowTemplate_Report(n,t){var i=t.data,r=t.component.POption.GetUrl("GetPage")+"&index="+(ParseInt(i.ID)+1)+"&v="+Math.random(),u='<div style="text-align: center;"><img style="max-width: '+(window.innerWidth-50)+'px;height: inherit;width: inherit;" src="'+r+'" /> <\/div>';n.append(u)}function Load_Report(n){var r=n.PageCurrentPageSize.option("columnConfigQuery"),i=window.DataSourceConfig[r],t;i&&(i.items=n.XtraReportJS.element()[0]._data,t=n.PageCurrentPageSize.getDataSource(),t&&t.reload(),SetValue(n.PageCurrentPageSize,0))}function PageCurrenyChangeCore_Report(n,t,i,r,u){var l,s,e,h;u==null&&(u=n.POption.XtraReportJS);var o=n.POption.PageCurrentPageSize,c=u.element()[0]._data,f=c?c.length:0;for(r!=null||r?i=ParseInt(r):(i==null&&(i=f),(i===-1||i===1)&&(i=i+ParseInt(u.pageIndex()))),i>=f&&(i=f-1),i<0&&(i=0),r||(o._suppressValueChangeAction(),SetValue(o,i),o._resumeValueChangeAction()),l=n.POption.Controls.length,s=0;s<l;s++)if(e=n.POption.Controls[s],h=GetName(e),h.endsWith("ExportTo")||h.endsWith("Export_To"))SetEnabled(e,f>0);else switch(h){case"PreviousFirst":SetEnabled(e,f>2&&!(i==0||f<1));break;case"Previous":SetEnabled(e,f>1&&i>0);break;case"Next":SetEnabled(e,f>1&&i<f-1);break;case"NextEnd":SetEnabled(e,f>2&&f>1&&i<f-1)}SetVisible(o,f>0);setTimeout(function(){try{u.pageIndex(i)}catch(n){}},0)}function PageCurrenyChange_Report(n,t){PageCurrenyChangeCore_Report(n,t,null,Array.isArray(t.value)?t.value.firstOrDefault():t.value)}function PreviousFirst_Click_Report(n,t){PageCurrenyChangeCore_Report(n,t,0)}function Previous_Click_Report(n,t){PageCurrenyChangeCore_Report(n,t,-1)}function Next_Click_Report(n,t){PageCurrenyChangeCore_Report(n,t,1)}function NextEnd_Click_Report(n,t){PageCurrenyChangeCore_Report(n,t,null)}function Export_To_Click_Report(n){n.POption.ExportTo&&n.POption.ExportTo.open()}function ExportTo_Report(n){var i=GetText(n),t,r;isNullOrWhitespace(i)||(t=n.POption.GetParamForPost(),t.SubmitCommand="ExportPage",t.type=i,r={data:t},n.POption.PostToParadise(r));n._Timeout_Report&&clearTimeout(n._Timeout_Report);n._Timeout_Report=setTimeout(function(){SetValue(n,null)},500)}function FormUserRight_Init(n){var t=GetHeightForm(n.mLC);t=t*4/6;n.tlDepartment.option("height",t);n.tlObjectRight.option("height",t)}function SearchTreeBase_UserRight(n,t){t&&!t.htmlEvent&&(t.htmlEvent=t);n.grid&&(n._Timeout&&clearTimeout(n._Timeout),n._Timeout=setTimeout(function(){var t=GetValue(n),i;isNullOrWhitespace(t)&&(t="");i=n.grid.getVisibleColumns().map(function(n){return n.dataField});n.grid.filter(function(n){return n._Select||(n._Select=i.map(function(t){return n[t]==null?"":n[t].toString().toLowerCase()}).join(" ")),RemoveToneMarks(n._Select).includes(t)});n.ValueOld=t},delayInput))}function ckbAllModule_ValueChanged_UserRight(n){var f=GetValue(n),i=n.POption.tlObjectRight,t;i.cancelEditData();var r=i.getDataSource(),e=r.totalCount(),u=r._store._array,o=f===!0?"32":"0";for(t=0;t<e;t++)u[t].Right=o;i.option("dataSource",u);SetDirty(n.POption,!0)}function tlRight_SelectionChanged(n){n.POption.Loaded===!0&&SetDirty(n.POption,!0)}function UpdateChildrenValue(n,t,i,r){var h=n.getDataSource().store(),e={},u;for(e[i]=r,u=0;u<t.children.length;u++){var f=t.children[u],o=f.key,s=n.getRowIndexByKey(o);s>-1?n.cellValue(s,i,r):h.update(o,e);f.hasChildren===!0&&UpdateChildrenValue(n,f,i,r)}}function UR_Right_Changed(n,t){var s,i;if(n.POption.Loaded===!0){var r=t.value,u=n.POption.tlObjectRight,f=n.option("Separator");typeof r.join=="function"&&(r=r.join(f),s=r,i=r.split(f),(!i.includes("1")||i.includes("2")||i.includes("3")||i.includes("4"))&&(i.push("1"),r=i.join(f)),i.includes("32")||i.includes("2")&&i.includes("3")&&i.includes("4")?(r="32",i=[r]):i.includes("0")&&(r="0",i=[r]));var e=u.option("focusedRowIndex"),h=u.getNodeByKey(u.getKeyByRowIndex(e)),o="Right";UpdateChildrenValue(u,h,o,r);u.cellValue(e,o,r);SetDirty(n.POption,!0)}}function txtEmployeeID_LostFocus_UR(n,t){n.CheckLoginNameTimeOut&&clearTimeout(n.CheckLoginNameTimeOut);n.ExistsEmployeeIDTimeout&&clearTimeout(n.ExistsEmployeeIDTimeout);var i=GetValue(n);OnReload(n,t)}function txtLoginName_LostFocus_UR(n,t){n.CheckLoginNameTimeOut&&clearTimeout(n.CheckLoginNameTimeOut);n.ExistsEmployeeIDTimeout&&clearTimeout(n.ExistsEmployeeIDTimeout);txtEmployeeID_LostFocus_UR(n,t)}function OnSave_UserRight(n){ParadiseConfirmClient("SAVE_DATA_QUES").success(function(){n.POption.tlDepartment.saveEditData();n.POption.tlObjectRight.saveEditData();GridUpdatePost(n.POption.tlDepartment);GridUpdatePost(n.POption.tlObjectRight,["Right"]);n.POption.SetVal("SubmitCommand","Save");n.POption.OnSubmit()})}function UpdateFromFileUpdate_Click(n){UpdateFromFileUpdateCore(n.POption)}function UpdateFromFileUpdateCore(n){ShowWaitingPanel();n.SetVal("SubmitCommand","Update");var t=n.GetParamForPost(),i={data:t};n.PostToParadise(i)}function UpdateFromFileConfirmUpdate_Click(){window.DialogOnYes=function(){UpdateFromFileUpdateCore(updatefromfile)};window.DialogOnNo=null}function UploadFileJS_Init_UpdateFromFile(n){n.option||(n.option={});n.option.inputAttr={style:"pointer-events:none;"};n.option.buttons=[{name:n.id+"Upload",location:"after",options:{template:function(n,t){templateButtonSVG(t,"Attach")},onInitialized:function(t){n.Upload=t.component},onClick:function(){var t=n.POption.GetUrlFile(n);t+="&submitcommand=UploadFileChunk";ShowFileDialog(t)}}},{name:n.id+"Download",location:"after",options:{template:function(n,t){templateButtonSVG(t,"download")},onInitialized:function(t){n.Download=t.component},onClick:function(){var t=GetValue(n),i;t=!isNullOrWhitespace(t);i=n.POption.GetUrlFile(n);t&&(i+="&submitcommand=DownloadFile",DownloadFile(i))}}},{name:n.id+"Delete",location:"after",options:{template:function(n,t){templateButtonSVG(t,"Delete")},onInitialized:function(t){n.Delete=t.component},onClick:function(){var t=GetValue(n),i,r;t=!isNullOrWhitespace(t);i=n.POption.GetUrlFile(n);t===!0&&(ShowWaitingPanel(),i+="&submitcommand=DeleteFile",r={url:i},n.POption.PostToParadise(r))}}}];n=$(n).dxTextBox(n.option).dxTextBox("instance")}function btnCommand_CreateSchedule(n){var i=n.POption,r=i.grdEmployee,t=i.GetParamForPost(),u,f,e;t.Month=GetValue(i.ckbMonth);t.Year=GetValue(i.ckbYear);t.SubmitCommand=n.Command;switch(n.Command){case"btnLoadSchedule":if(t.Month==null||t.Year==null)return;t.EmployeeID=r.cellValue(r.option("focusedRowIndex"),"EmployeeID");ShowWaitingPanel();u={data:t};i.PostToParadise(u);break;case"btnLoadEmployee":ShowWaitingPanel();u={data:t};i.PostToParadise(u);break;default:r.saveEditData();t.EmployeeID=r.getDataSource().store()._array.filter(function(n){return n.IsSelect===!0}).select(function(n){return n.EmployeeID});t.ListDate=[];f=i.grdCalendar;foreachRange(f.selectedRange,function(n,i){var r=f.cellValue(n,i);IsNullOrEmpty(r)||t.ListDate.push(r)});e=i.grdShiftSetting;t.ShiftCode=e.cellValue(e.option("focusedRowIndex"),"ShiftCode");switch(n.Command){case"btnWorking":case"btnDayOff":if(!ExistsData(t.EmployeeID)){ParadiseMessageClient("EMPTY_EMPLOYEE");return}if(!ExistsData(t.ListDate)){ParadiseMessageClient("SELECT_DATE");return}break;case"btnGenerate":if(t.ShiftCode==null){ParadiseMessageClient("SELECT_SHIFT");return}if(!ExistsData(t.EmployeeID)){ParadiseMessageClient("EMPTY_EMPLOYEE");return}if(!ExistsData(t.ListDate)){ParadiseMessageClient("SELECT_DATE");return}break;case"btnDeleteSchedule":if(t.ShiftCode==null){ParadiseMessageClient("SELECT_SHIFT");return}if(!ExistsData(t.EmployeeID)){ParadiseMessageClient("EMPTY_EMPLOYEE");return}}ParadiseConfirmClient("PROCESS_DATA_CONFIRM").success(function(){ShowWaitingPanel();var n={data:t};i.PostToParadise(n)})}}function ckbMonth_CreateSchedule(n,t){btnCommand_CreateSchedule(n.POption.btnLoadSchedule,t)}function ckbYear_CreateSchedule(n,t){btnCommand_CreateSchedule(n.POption.btnLoadSchedule,t)}function grdEmployee_FocusedRowChanged_CreateSchedule(n,t){var i,r;t.column.dataField==="IsSelect"&&(i=t.row.data.IsSelect,t.row.data.IsSelect=!toBoolean(i),r=n.getDataSource().store(),r.push([{type:"update",data:t.row.data,index:t.row.key}]));btnCommand_CreateSchedule(n.POption.btnLoadSchedule,t)}function ckbCheckAll_CreateSchedule(n){var u=GetValue(n),n=n.POption.grdEmployee,r=n.element()[0]._data,f=n.getDataSource().store(),i,t;if(r.length>0)for(i=0;i<r.length;i++)t=r[i],(t.__Ok==undefined||t.__Ok===!0)&&(t.IsSelect=u,f.push([{type:"update",data:t,index:t.__ID}]))}function grdShiftSetting_FocusedRowChanged_CreateSchedule(n,t){var r,i;if(cancelEditDataGrid(n),t.row){var f=t.row.key,o=n.getDataSource().items(),e=n.getDataSource().store(),u=n.element()[0]._data;if(u.length>0)for(r=0;r<u.length;r++)i=u[r],i.check=f==i.__ID,e.push([{type:"update",data:i,index:i.__ID}])}}function CreateSchedule_Init(n){var t=GetHeightForm(n.mLC);t=t*4/6;n.grdEmployee.option("height",t);n.grdShiftSetting.option("height",t)}function IOXML_Init(n){var i=FormPopupAlias?ParseFloat(FormPopupAlias.option("height")):GetHeightForm(n),t,r;n.SetHeight(i);i=i*5/6;t=n.POption.grdTE;t&&(t.SetHeight(i),r=t.element().width()/2,t.option("columnWidth",r));n.POption.InnitForm();ClearStatus_IOXML()}function btnChooseFile_Click(n){n.POption.PathFile.element()[0].Upload.element()[0].click()}function btnRefreshData(){}function btnImport_Click_IOXML(n){Import_Click(n.POption,"ImportPOST")}function UploadFileJS_Init_IOXML_Upload(n,t){var r,i,u;t[0].name.toLowerCase().endsWith(".xls")?(u=n.POption.GetUrl("UploadFileImportChunk"),FileUploader_Init(),_fileuploader.option("uploadUrl",u),FileUploaderUpload()):(n._file=t[0],r=n._file.name,i=new FileReader,i.onload=function(){var t=i.result,u=dataURLtoFile(t,r);SetValue(n,r);$("#"+n.option("name")+"_I").val(t);Import_Click(n.POption,"ImportPOST");DocumentViewerLoad(n.POption.ExcelBrowser,u)},i.onerror=function(n){_oneror(n)},i.readAsDataURL(n._file))}function UploadFileJS_Init_IOXML(n){n.option||(n.option={});n.option.inputAttr={style:"pointer-events:none;"};n.option.buttons=[{name:n.id+"Upload",location:"after",options:{template:function(n,t){templateButtonSVG(t,"Attach")},onInitialized:function(t){n.Upload=t.component},onClick:function(){FileUploader_Init();_fileuploader._fn_Started=function(t){UploadFileJS_Init_IOXML_Upload(n,t._$fileInput["0"].files)};ShowFileDialog()}}},{name:n.id+"Download",location:"after",options:{template:function(n,t){templateButtonSVG(t,"download")},onInitialized:function(t){n.Download=t.component},onClick:function(){var t=GetValue(n);t=!IsNullOrEmpty(t);t&&ExportFile({data:n._file,fileName:n._file.name})}}},{name:n.id+"Delete",location:"after",options:{template:function(n,t){templateButtonSVG(t,"Delete")},onInitialized:function(t){n.Delete=t.component},onClick:function(){var t=GetValue(n);t=!IsNullOrEmpty(t);t&&(n._file=null,$("#"+n.id+"_I").val(null),SetValue(n,null));DocumentViewerLoad(n.POption.ExcelBrowser,null)}}}];n=$(n).dxTextBox(n.option).dxTextBox("instance")}function AddTextTolbListBoxCommon(n){n&&lbListBoxCommon&&(lbListBoxCommon.BeginUpdate(),lbListBoxCommon.InsertItem(0,n),lbListBoxCommon.EndUpdate())}function ClearStatus_IOXML(){lstErrorLog=0;lstLogSuccessCount=0;$("#lilsterrorlog").dxList("instance").element()[0].viewModel.option.items.removeAll();$("#lilstlogsuccess").dxList("instance").element()[0].viewModel.option.items.removeAll()}function Import_Click(n,t){HideWaitingPanel();ParadiseConfirmClient("ConfirmImport").success(function(){ShowWaitingPanel();ClearStatus_IOXML();n.SetVal("SubmitCommand",t);ShowWaitingPanel();n.OnSubmit()})}function Receiver_Import(n,t){try{if(n&&t){var i=n.element()[0].viewModel.option.items;lstErrorLog%200==0&&i.removeAll();i.splice(0,0,{id:lstErrorLog,text:t});lstErrorLog++}}catch(r){_oneror(r)}}function AfterImportDataSetting(){FormPopupAlias!=null&&(FormPopupAlias.POption.ReloadDataNotDirty(),setTimeout(function(){FormPopupAlias!=null&&(FormPopupAlias.hide(),FormPopupAlias=null)},2e3))}function Login_Init(n){LanguageID=n.POption.LanguageID;var t={value:CommandLogin};n.POption.InnitForm(t);$(window).off("keypress.login");$(window).on("keypress.login",function(n){var i=$(idOpenForm+" div#loginparadisediv"),t=window.login;i.length>0&&n.charCode===13&&t.txtLoginName&&t.lblPassword&&(SetFocus(t.btnLogin),setTimeout(function(){btnLogin_Click(t.txtLoginName,n)},1))})}function Login_RememberLogin_VC(n){window.RememberLogin=toBoolean(GetValue(n))}function lbllanguage_valuechanged(n){var i=GetValue(n),t;IsNullOrEmpty(i)||i==window.LanguageID||(ShowWaitingPanel(),t={url:n.POption.__GetUrl(),isServer:!1},_LocalOption()&&(t.urlLink=t.url),t.data={value:i,SubmitCommand:"ChangeLanguage"},_LoginNewCore(),OpenForm(t),MobileLanguageIDUpdate(i))}function MobileLanguageIDUpdate(n){window.LocalOption==2&&window.HybridWebView&&HybridWebView.SendRawMessageToDotNet(JSON.stringify({ClassName:"",MethodName:"MobileLanguageIDUpdate",prs:[n]}))}function Authenticator_Init(n,t){ForgotPassword_Init(n,t)}function txtAuthenticator_KeyDown(n,t){t.event.originalEvent.keyCode===13&&btnAuthenticator_Click(n,t)}function btnAuthenticator_Click(n){var t=n.POption,i=GetValue(t.txtAuthenticator);IsNullOrEmpty(i)||(ShowWaitingPanel(),t.SetVal("SubmitCommand","Authenticator"),t.OnSubmit())}function ActiveAuthentication(){var n,t;UserID<0&&(n=POptionDic.authenticator,n?(Authenticator_Init(n.mLC),window.pcauthenticator.show()):(ShowWaitingPanel(),t={url:"/paradisehrm/authenticator",isServer:!1,data:{}},t.OnSuccess=function(n,t){if(!window.authenticatorPopup){var i=window.innerWidth*(IsMobile()?4:1.2)/4,r=window.innerHeight;IsMobile()!==!0?i<400&&(i=400):i<300&&(i=300);i>window.innerWidth&&(i=window.innerWidth);r=i/2;r>window.innerHeight&&(r=window.innerHeight);$('<div id="authenticatorPopup" />').appendTo("body");window.pcauthenticator=$(window.authenticatorPopup).dxPopup({width:i,height:r,closeOnOutsideClick:!1,showTitle:!1,visible:!1}).dxPopup("instance")}window.pcauthenticator.option("contentTemplate",function(){var n=$("<div />");return n.append(t.htmlGet),n.dxScrollView({width:"100%",height:"100%"}),n});window.pcauthenticator.option("visible",!0);t.htmlGet=""},OpenForm(t)))}function btnLogin_Click(n){var r,e,i,o;if(!(window.UserID>-1)){var t=n.POption,f=t.txtLoginName,u=GetValue(f);IsNullOrEmpty(u)&&(u=GetText(f));r=t.lblPassword;e=GetValue(r);IsNullOrEmpty(e)&&(e=GetText(r));IsNullOrEmpty(u)?SetFocus(f):IsNullOrEmpty(e)?SetFocus(r):(ShowWaitingPanel(),t.SetVal("SubmitCommand",CommandLogin),i=t.GetParamForPost(),i.Log=u,i.LocalOption=LocalOption,i[GetName(f)]=u,i[GetName(r)]=GetValue(r),t.ckbRememberLogin&&(i[GetName(t.ckbRememberLogin)]=window.RememberLogin),t.lbllanguage&&(i[GetName(t.lbllanguage)]=GetValue(t.lbllanguage)),o={data:i,url:t.GetUrl()},t.PostToParadise(o))}}function ForgotYourPassword_Click(){ShowWaitingPanel();OpenForm({url:"/paradisehrm/forgotpassword?tablename=forgotpassword"})}function ShowNeedChangePassword(){ShowWaitingPanel();OpenForm({url:"/paradisehrm/needchangepassword?tablename=needchangepassword"})}function ShowLoginTimeOut(){CommandLogin="CheckLoginTimeOut";ShowLogin()}function ShowLoginCheckLogged(){CommandLogin="CheckLogged";ShowLogin()}function MobileLogin(){if(window.LocalOption==2&&window.HybridWebView){var n=window.UserID;HybridWebView.SendRawMessageToDotNet(JSON.stringify({ClassName:"",MethodName:"MobileLogin",prs:[n]}))}}function ActiveLogin(n){var t=$("#appapp"),i=$("#MemuLogo"),r=$("#MemuMenu");i.removeClass("hideDiv");r.removeClass("hideDiv");t.removeClass("prd-bg-color");document.body.style.backgroundImage="";document.body.style.backgroundSize="cover";n===!0?(window.drawerObj&&typeof window.drawerObj.option=="function"&&window.drawerObj.option("opened")===!0&&window.drawerObj.toggle(),$("#MemuLogoLeft").attr("src","data:image/png;base64,"+window.LogoBaseString64),$("#MemuLogoRight").attr("src",window.APPLICATION_ADDRESS+"/Content/Images/logo.png"),IsMobile()!==!0&&(document.body.style.backgroundImage="url('"+window.APPLICATION_ADDRESS+"/Content/Images/login_background_hrm.jpg')"),r.addClass("hideDiv")):(t.addClass("prd-bg-color"),i.addClass("hideDiv"),window.pcauthenticator!=null&&window.pcauthenticator.hide())}function LogOutClient(){var n;if(window.LocalOption==2)window.HybridWebView&&HybridWebView.SendRawMessageToDotNet(JSON.stringify({ClassName:"",MethodName:"LogOut",prs:[]}));else if(window.LocalOption>0){typeof invokeCs=="function"&&invokeCs(aa);typeof invokeCSharpAction=="function"&&invokeCSharpAction(aa);window.location="/_hpa/paradisehrm/logout";return}ShowWaitingPanel();ActiveMenu="";n={url:"/paradisehrm/login?tablename=login",data:{},ClassName:"login"};n.AfterOnSuccess=function(){var i,r,n,t;POption=window.login;POption?(POption.SetVal("SubmitCommand","LogOut"),i=POption.GetParamForPost(),i.value=CommandLogin,r={data:i},POption.PostToParadise(r),n={url:"/paradisehrm/login?tablename=login",urlLink:window.APPLICATION_ADDRESS+"/",text:"Login"},historyPushState(n,n.text,n.urlLink,2),ActiveLogOutPage(),t=POption.ckbRememberLogin,t&&(SetValue(t,window.RememberLogin),SetReadOnly(t,CommandLogin!=="CheckLogin")),setTimeout(function(){isNullOrWhitespace(GetValue(POption.lblPassword))&&SetFocus(POption.lblPassword)},100),HideWaitingPanel()):(ActiveLogOutPage(),HideWaitingPanel(),window.LocalOption!=2&&(window.location="/paradisehrm/logout"))};OpenForm(n)}function ShowLogin(){LogOutClient()}function ActiveLogOutPage(){ActiveLogin(!0)}function ActiveLogOut(){var n,t,i;ActiveLogOutPage();n=window.login;n&&(n.SetVal("SubmitCommand","_UpdateConIDReload"),t=n.GetParamForPost(),i={data:t},n.PostToParadise(i))}function OpenLogin(){OpenForm({url:"/paradisehrm/login?tablename=login",data:{},isServer:!1})}function ChangePasswordReset_Init(n,t){ForgotPassword_Init(n,t)}function ForgotPassword_Init(n){n.POption.InnitForm&&n.POption.InnitForm()}function cbxlanguage_itemTemplate(n,t){var i=t.data,e=(LocalOption>0?"":window.APPLICATION_ADDRESS+"/")+"Content/Images/",r=i?i.FlagName:"",u,f;r=isNullOrWhitespace(r)?" ":e+r+".png";u=i?i.LanguageName:"";f='<table><tbody><tr><td><img style="padding: 10px;max-width: 50px" src="'+r+'" /><\/td><td>'+u+"<\/td><\/tr><\/tbody><\/table>";n.append(f)}function cbxlanguage_fieldTemplate(n,t){var u=this.option("dataSource");u==null&&(u=[]);var i=u.filter(function(t){return t.Language==n}).firstOrDefault(),e=(LocalOption>0?"":window.APPLICATION_ADDRESS+"/")+"Content/Images/",r=i?i.FlagName:"";r=isNullOrWhitespace(r)?" ":e+r+".png";var f=i?i.LanguageName:"",o='<table><tbody><tr><td><img style="padding: 5px;max-width: 50px" src="'+r+'" /><\/td><td>'+f+"<\/td><\/tr><\/tbody><\/table>",s=$("<div />").dxTextBox({value:f,readOnly:!0,visible:!1});t.append(o).append(s)}function btnResetPassword_Init(n,t){$(window).off("keypress.ResetPassword");$(window).on("keypress.ResetPassword",function(i){i.charCode===13&&$("#"+n.POption.IDForm).length>0&&btnResetPassword_Click(n,t)})}function btnResetPassword_Click(n){var t=n.POption,r=GetValue(t.lblEmail),i,u;isNullOrWhitespace(r)?SetFocus(t.lblEmail):(ShowWaitingPanel(),t.SetVal("SubmitCommand","ForgotPassword"),i=t.GetParamForPost(),i.value=r,u={data:i},t.PostToParadise(u))}function btnCancelForgotPassword_Click(n,t){LogOutClient(n,t)}function btncancelChangePasswordReset_Click(){LogOutClient()}function QuestionToLogin(){ParadiseConfirmClient("ReturnLoginPage").success(function(){LogOutClient()})}function btnSavePassword_Click(n){var r=function(n){var t=!0;return n&&isNullOrWhitespace(GetValue(n))&&(SetFocus(n),t=!1),t},t=n.POption,u=t.lblOldPassword,i=r(u);i&&!r(t.lblNewPassword)&&(i=!1);i&&!r(t.lblConfirmPassword)&&(i=!1);i&&ParadiseConfirmClient("ChangePassWord_Confirm").success(function(){t.SetVal("SubmitCommand","ChangePassWord");ShowWaitingPanel();t.OnSubmit()})}function btnCompanyUrl_Click(){CompanyUrlShow()}function CompanyUrlShow(){ShowWaitingPanel();OpenForm({url:"/hpamasterdata/datasetting?tablename=companyurl"})}function CompanyUrlCheck(n){var t={ClassName:"",MethodName:"CompanyUrlCheck",prs:[n]};window.HybridWebView&&HybridWebView.SendRawMessageToDotNet(JSON.stringify(t))}function CompanyUrlCheckResult(n){n?ParadiseConfirmClient("ConnectSuccess_DoSaveConnectionQuestion").success(function(){UnLoadOnBeforeUnload();window.HybridWebView&&HybridWebView.SendRawMessageToDotNet(JSON.stringify({ClassName:"",MethodName:"CompanyUrlCheckResult",prs:[]}))}):ParadiseMessageClient("CannotConnectToYourCompanyServer")}function LoginShowActiveCompanyUrlCheck(){if(window.LocalOption==2){if(setTimeout(function(){MobileLanguageIDUpdate(window.LanguageID)},1),window.HybridWebView){var n={ClassName:"",MethodName:"LoginShowActiveCompanyUrlCheck",prs:[window.ServerUrl]};HybridWebView.SendRawMessageToDotNet(JSON.stringify(n))}}else UserID>-1?ActiveLogin():window.UnLogin?ActiveLogin(!0):ShowLogin();delete window.UnLogin}function MMDEFAULT_Init(n){n.POption.ActionInit&&n.POption.ActionInit.call()}function BtnMachine_Click(n){var t=GetName(n),o=t.indexOf("_")+1,i=t.substring(o,t.length).replace("machine",""),u,f,e,r;n.Command==="ADDEDIT"?(u="/hpamasterdata/datasetting?tablename=sp_machinelist",f=ParadiseOption.MachineOption_sp_MachineList==1&&ParadiseOption.MachineDisableNotFlexible==1?0:1,OpenForm({url:u,data:{}},f)):n.Command==="CopySN"?(e="machine"+i,r=$("#txtSN_"+e),r.length>0&&copyToClipboard(r.html())):n.Command.includes("DELETE")?ParadiseConfirmClient(n.Command+"_CONFIRM").success(function(){RunMachineQueueManager({C:POptionDic.machinemanagementlc.FullClassName,Command:n.Command,ID:i})}):n.Command==="DETECT"?RunMachineQueueManager(POptionDic.machinemanagementlc._PDETECT):RunMachineQueueManager({C:POptionDic.machinemanagementlc.FullClassName,Command:n.Command,ID:i})}function BtnMM_Click(n){ParadiseConfirmClient(n.Command+"_CONFIRM").success(function(){n.Command==="FunctionAdvanced"?OpenForm({url:"/hpatimeattendance/machinemanagementadvanced",data:{}}):RunMachineQueueManager({C:n.POption.FullClassName,Command:n.Command,IP:"-2"})})}function MM_txtcdkey(n){n._Timeout&&clearTimeout(n._Timeout);n._Timeout=setTimeout(function(){var i=GetValue(n),u;if(i!==n.ValueOld&&!IsNullOrEmpty(i)){var r=n.option("name"),f=r.substring(r.indexOf("_")+1,r.length).replace("machine",""),e="machine"+f,t=$("#txtSN_"+e);t.length>0&&(u=t.html(),IsNullOrEmpty(u)||(t=$("#hlbWorkCurrent_"+e),t.length>0&&t.html(" "),RunMachineQueueManager({C:POptionDic.machinemanagementlc.FullClassName,Command:"ERRORREGISTEREDREQUIRE",ID:f,CDKey:i,SN:u})))}n.ValueOld=i},delayInput)}function indexMachineList(n,t){for(var i=0;i<n.length;i++)if(n[i].ID==t)return i;return null}function GetMs_MM(n){var t=n.toLowerCase();return"DEFAULT"}function MMForm_Init(n){var i=n.POption,r,t;$.extend(i,FormMachine);clearTimerCurrentPercent(i);POptionDic[MMMMA]&&clearInterval(POptionDic[MMMMA].TimerCurrentPercent);r=window.innerHeight;window.pnMenu||(r=r-$("#pnMenu").height());n.SetHeight(r);i.machinelist=[];i.CurrentPercent=0;t={C:i.FullClassName,Command:"DETECT",IP:"DETECT",Port:"4370",FacID:window.FactoryIDRunning,Ms:"ADDEDITDETECT",TC:""};t.FacID||(t.FacID="");t.ID=t.FacID.replace_All("-","")+t.IP+t.Port;i._PDETECT=t;i.InnitFormCore();listEven.includes("MachineCommand")||listEven.push("MachineCommand");signalRCommandAssignEven()}function ClearMM_MMA(){clearTimerCurrentPercent(POptionDic.machinemanagementlc);clearTimerCurrentPercent(POptionDic.MachineManagementLCMachineManagementAdvanced)}function clearTimerCurrentPercent(n){n&&n.TimerCurrentPercent&&clearInterval(n.TimerCurrentPercent)}function CreateTimerCurrentPercent(n){n.TimerCurrentPercent=setInterval(function(){for(var t,e,i,r,f,u=0;u<n.machinelist.length;u++)if(t=n.machinelist[u],t.CC===-1)try{e=this.machineID+t.ID;i=$("#ppcCircle_"+e);i.length>0&&(i=i.dxCircularGauge("instance"),r=n.CurrentPercent+45,r>360?(f=r-360,i.option("rangeContainer",{ranges:[{startValue:0,endValue:f,color:"none"},{startValue:n.CurrentPercent,endValue:360,color:"none"},{startValue:f,endValue:n.CurrentPercent,color:t.M_Color}]})):i.option("rangeContainer",{ranges:[{startValue:n.CurrentPercent,endValue:r,color:"none"},{startValue:r,endValue:360,color:t.M_Color},{startValue:0,endValue:n.CurrentPercent,color:t.M_Color}]}),n.CurrentPercent++,n.CurrentPercent>360&&(n.CurrentPercent=0))}catch(o){UserID=="3"&&console.log(o)}},100)}function btnMachineCommand(n){var i=n.POption,t,u,f,r;clearInterval(i.TimerCountSecond);POptionDic.machinemanagementlcmachinemanagementadvanced&&clearInterval(POptionDic.machinemanagementlcmachinemanagementadvanced.TimerCountSecond);t=i.GetParamForPost();switch(n.Command){case"Reload":GridViewJSDataSource(i.grcMachinesRealtime,[]);t.SubmitCommand=n.Command;r={data:t};i.PostToParadise(r);break;case"Save":GridUpdatePost(i.grcEmployeeList);t.SubmitCommand=n.Command;i.SetVal("SubmitCommand",n.Command);GridUpdatePost(i.grcEmployeeList);ShowWaitingPanel();i.OnSubmit();break;default:u=i.grcMachinesList;f=i.grcEmployeeList;u.saveEditData();f.saveEditData();t.IDs=u.getDataSource().store()._array.filter(function(n){return n.check===!0}).map(function(n){return n.ID});t.BADGENUMBERs=f.getDataSource().store()._array.filter(function(n){return n.check===!0&&isNot(n.BadgeNumber)}).map(function(n){return n.BadgeNumber});t.value=n.Command;t.SubmitCommand="CommandMachine";t[pccdeleteuser.id]=GetValue($("#pccdeleteuser").dxDropDownBox("instance"));t[pccdownloaduser.id]=GetValue($("#pccdownloaduser").dxDropDownBox("instance"));t[pccuploaduser.id]=GetValue($("#pccuploaduser").dxDropDownBox("instance"));t[pccwatchusers.id]=GetValue($("#pccwatchusers").dxDropDownBox("instance"));t[btnMachineFileWrite.id]=GetValue($("#btnMachineFileWrite").dxCheckBox("instance"));r={data:t};i.PostToParadise(r)}}function ParadiseConfirmMachineBase(n){var r=POptionDic.machinemanagementadvanced,i,e,t;r._P=n;var o=n.M_List.split(","),s=ParseInt(n.CT),u=s===4,f=u?[n]:r.machinelist.filter(function(n){return o.includes(n.ID)});ExistsData(f)&&(i=window.PopupDic[MMMMA_PU],i||($('<div id="'+MMMMA_PU+'" />').appendTo("body"),e={onHidden:function(n,t){n=n.component;FormPopup_Closing(n,t)},closeOnOutsideClick:!0,showTitle:!1,visible:!0,contentTemplate:function(){var n=$("<div />");return n.append(ClientData.machinemanagementlcmachinemanagementadvanced),n.dxScrollView({width:"100%",height:"100%"}),n}},i=$(window[MMMMA_PU]).dxPopup(e).dxPopup("instance"),window.PopupDic[MMMMA_PU]=i),t=POptionDic.machinemanagementlcmachinemanagementadvanced,t&&t.idMachineList.html(""),FormPopupAlias=i,i.show(),t||(t=POptionDic.machinemanagementlcmachinemanagementadvanced),t.loadmachinelist(f),n.C=t.FullClassName,setTimeout(function(){var t,i;u?(t=r.GetParamForPost(),t.SubmitCommand="CommandMachineUSB",i={data:t},r.PostToParadise(i)):RunMachineManagementAdvanced(n)},500))}function ParadiseConfirmMachine(n,t,i,r,u,f){ParadiseMessageClientLocal(n,t,i,r,u).success(function(){ParadiseConfirmMachineBase(f)})}function btnButtonCancelMachine_Click(){var n=POptionDic.machinemanagementadvanced._P;n&&(n.Command="STOPADVANCED",RunMachineManagementAdvanced(n))}function MachineManagementAdvanced_Init(n){var t=n.POption,i;$.extend(t,FormMachine);$.extend(t,FormMachineMMA);i=GetHeightForm(t.mLC);i>0&&n.SetHeight(i);t.InnitFormCore();listEven.includes("MachineCommand")||listEven.push("MachineCommand");signalRCommandAssignEven()}function ckbAllCheck_MM(n){var f=GetValue(n),u,i,r,t;if(n=n.POption.grcMachinesList,u=n.getDataSource().store(),i=n.element()[0]._data,i.length>0)for(r=0;r<i.length;r++)t=i[r],(t.__Ok==undefined||t.__Ok===!0)&&(t.check=f,u.push([{type:"update",data:t,index:t.__ID}]))}function ckbAllEmployeeID_MM(n){var u=GetValue(n),i,t;n=n.POption.grcEmployeeList;var e=n.getDataSource().items(),f=n.getDataSource().store(),r=n.element()[0]._data;if(r.length>0)for(i=0;i<r.length;i++)t=r[i],(t.__Ok==undefined||t.__Ok===!0)&&(t.check=u,f.push([{type:"update",data:t,index:t.__ID}]))}function GV_ValueChanged_MMA(n){n.POption.Loaded&&SetDirty(n.POption,!0)}function btncancel_Click_MMMMA(){var n=POptionDic.machinemanagementadvanced._P,t;n&&(n.Command="STOPADVANCED",RunMachineManagementAdvanced(n),t=POptionDic.machinemanagementlcmachinemanagementadvanced,t.resetall(null));FormPopupAlias!=null&&FormPopupAlias.hide()}function MMMMA_Init(n){var t=n.POption;$.extend(t,FormMachine);$.extend(t,FormMachine_MMMMA);t._InnitFormCore()}function CommandToDataRow(n){n.__ID=ParseFloat(n.ID);n.MachineName=n.M_Name;n.RealTimeStatus=n.RTS;n.UserCount=n.UC;n.FingerCount=n.FC;n.FaceCount=n.FaC;n.CardNoCount=n.CaC;n.ManagerCount=n.MC;n.SecretCount=n.SC;n.LogsCount=n.LC;n.check===undefined&&(n.check=!1)}function MLRT_Init(n){var t=n.POption;$.extend(t,FormMachine);$.extend(t,FormMachineMLRT);n.POption.FullHeightGrid(n);t.InnitFormCore();listEven.includes("MachineCommand")||listEven.push("MachineCommand");signalRCommandAssignEven()}var StarRating,File,ui,viz,Base64,lstLastPoint,reconnectCount,queueMessages,SendQueueMessagesTask,_fileuploaderd_Div,_fileuploader,DataSetting,lstErrorLog,lstLogSuccessCount,CommandLogin,FormMachine,FormMachineMMA,FormMachine_MMMMA,FormMachineMLRT;document.addEventListener("keydown",function(n){if(window.window_keydown_e=n,window.UserID>-1&&typeof KeyJS=="string"){var t=" var e = window.window_keydown_e; var isMatch = false;"+window.KeyJS+"if (isMatch == true) { e.preventDefault(); e.stopPropagation(); } ";RunJS(t)}});_item_MenuMobile=function(n){var t=this;_itemBase(n,t);t.item_Click_MenuMobile=function(t,i){item_menu_Click(t,i,n)}};_item_DiagramForm=function(n){var t=this;_itemBase(n,t);t._glyphicon=function(){var i=$("<span>").css({"font-size":t._Height()/2,float:"left",color:"#ffffff","margin-right":"5px"}).addClass("p-"+n.glyphicon.toLowerCase());return i[0].outerHTML};t._Top=function(){return IsNullOrEmpty(n.glyphicon)?"20%":"75%"};t._Height=function(){return n.Height*ScreenDiagramZoom};t._Width=function(){return n.Width*ScreenDiagramZoom};t._X=function(){return n.X*ScreenDiagramZoom};t._Y=function(){return n.Y*ScreenDiagramZoom};t.item_Click=function(){item_menu_Click(null,null,n)};t.display=function(){return IsNullOrEmpty(n.glyphicon)?"none":""};t.color=function(){return n.color};t.fontSize=function(){return(IsNullOrEmpty(n.glyphicon)?window.GlobalFontSize*1.3:window.GlobalFontSize)+"px"};t.textAlign=function(){return n.CurrentMenuID.startsWith("Gr_")?"left":""}};StarRating=function(){"use strict";function t(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function i(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function r(n,t,r){return t&&i(n.prototype,t),r&&i(n,r),n}var s={classNames:{active:"gl-active",base:"gl-star-rating",selected:"gl-selected"},clearable:!0,maxStars:10,prebuilt:!1,stars:null,tooltip:"Select a Rating"},u=function(n,t,i){n.classList[t?"add":"remove"](i)},f=function(n){var i=document.createElement("span"),t;n=n||{};for(t in n)i.setAttribute(t,n[t]);return i},h=function(n,t,i){return/^\d+$/.test(n)&&t<=n&&n<=i},e=function(n,t,i){var r=f(i);return n.parentNode.insertBefore(r,t?n.nextSibling:n),r},o=function o(){for(var t,u=arguments.length,r=new Array(u),i=0;i<u;i++)r[i]=arguments[i];return t={},r.forEach(function(i){Object.keys(i||{}).forEach(function(u){if(r[0][u]!==undefined){var f=i[u];if(n(f)==="Object"&&n(t[u])==="Object"){t[u]=o(t[u],f);return}t[u]=f}})}),t},n=function(n){return{}.toString.call(n).slice(8,-1)},c=function(n){var t=[];return[].forEach.call(n.options,function(n){var i=parseInt(n.value,10)||0;i>0&&t.push({index:n.index,text:n.text,value:i})}),t.sort(function(n,t){return n.value-t.value})},l=function(){function n(i,r){t(this,n);this.direction=window.getComputedStyle(i,null).getPropertyValue("direction");this.el=i;this.events={change:this.onChange.bind(this),keydown:this.onKeyDown.bind(this),mousedown:this.onPointerDown.bind(this),mouseleave:this.onPointerLeave.bind(this),mousemove:this.onPointerMove.bind(this),reset:this.onReset.bind(this),touchend:this.onPointerDown.bind(this),touchmove:this.onPointerMove.bind(this)};this.indexActive=null;this.indexSelected=null;this.props=r;this.tick=null;this.ticking=!1;this.values=c(i);this.widgetEl=null;this.el.widget&&this.el.widget.destroy();h(this.values.length,1,this.props.maxStars)?this.build():this.destroy()}return r(n,[{key:"build",value:function(){this.destroy();this.buildWidget();this.selectValue(this.indexSelected=this.selected(),!1);this.handleEvents("add");this.el.widget=this}},{key:"buildWidget",value:function(){var i=this,n,t;this.props.prebuilt?(n=this.el.parentNode,t=n.querySelector("."+this.props.classNames.base+"--stars")):(n=e(this.el,!1,{"class":this.props.classNames.base}),n.appendChild(this.el),t=e(this.el,!0,{"class":this.props.classNames.base+"--stars"}),this.values.forEach(function(n,r){var u=f({"data-index":r,"data-value":n.value});"function"==typeof i.props.stars&&i.props.stars.call(i,u,n,r);[].forEach.call(u.children,function(n){return n.style.pointerEvents="none"});t.innerHTML+=u.outerHTML}));n.dataset.starRating="";n.classList.add(this.props.classNames.base+"--"+this.direction);this.props.tooltip&&t.setAttribute("role","tooltip");this.widgetEl=t}},{key:"GetValue",value:function(){return this.selected()}},{key:"SetValue",value:function(n){this.changeIndexTo(n,!0)}},{key:"_suppressValueChangeAction",value:function(){this._valueChangeActionSuppressed=!0}},{key:"_resumeValueChangeAction",value:function(){this._valueChangeActionSuppressed=!1}},{key:"changeIndexTo",value:function(n,t){var i=this,r,f;if((this.indexActive!==n||t)&&([].forEach.call(this.widgetEl.children,function(t,r){u(t,r<=n,i.props.classNames.active);u(t,r===i.indexSelected,i.props.classNames.selected)}),this.widgetEl.setAttribute("data-rating",n+1),"function"==typeof this.props.stars||this.props.prebuilt||(this.widgetEl.classList.remove("s"+10*(this.indexActive+1)),this.widgetEl.classList.add("s"+10*(n+1))),this.props.tooltip&&(f=n<0?this.props.tooltip:(r=this.values[n])===null||r===void 0?void 0:r.text,this.widgetEl.setAttribute("aria-label",f)),this.indexActive=n,_valueChangeActionSuppressed!==!0&&typeof this.onValueChanged=="function"))this.onValueChanged(this,n);this.ticking=!1}},{key:"destroy",value:function(){this.indexActive=null;this.indexSelected=this.selected();var n=this.el.parentNode;n.classList.contains(this.props.classNames.base)&&(this.props.prebuilt?(this.widgetEl=n.querySelector("."+this.props.classNames.base+"--stars"),n.classList.remove(this.props.classNames.base+"--"+this.direction),delete n.dataset.starRating):n.parentNode.replaceChild(this.el,n),this.handleEvents("remove"));delete this.el.widget}},{key:"eventListener",value:function(n,t,i,r){var u=this;i.forEach(function(i){return n[t+"EventListener"](i,u.events[i],r||!1)})}},{key:"handleEvents",value:function(n){var t=this.el.closest("form");(t&&t.tagName==="FORM"&&this.eventListener(t,n,["reset"]),this.eventListener(this.el,n,["change"]),"add"===n&&this.el.disabled)||(this.eventListener(this.el,n,["keydown"]),this.eventListener(this.widgetEl,n,["mousedown","mouseleave","mousemove","touchend","touchmove"],!1))}},{key:"indexFromEvent",value:function(n){var t,i,u=((t=n.touches)===null||t===void 0?void 0:t[0])||((i=n.changedTouches)===null||i===void 0?void 0:i[0])||n,r=document.elementFromPoint(u.clientX,u.clientY);return r.parentNode===this.widgetEl?[].slice.call(r.parentNode.children).indexOf(r):this.indexActive}},{key:"onChange",value:function(){this.changeIndexTo(this.selected(),!0)}},{key:"onKeyDown",value:function(n){var i=n.key.slice(5),t;if(~["Left","Right"].indexOf(i)){n.preventDefault();t=i==="Left"?-1:1;this.direction==="rtl"&&(t*=-1);var r=this.values.length-1,u=Math.min(Math.max(this.selected()+t,-1),r);this.selectValue(u,!0)}}},{key:"onPointerDown",value:function(n){n.preventDefault();var t=this.indexFromEvent(n);this.props.clearable&&t===this.indexSelected&&(t=-1);this.selectValue(t,!0)}},{key:"onPointerLeave",value:function(n){var t=this;n.preventDefault();cancelAnimationFrame(this.tick);requestAnimationFrame(function(){return t.changeIndexTo(t.indexSelected)})}},{key:"onPointerMove",value:function(n){var t=this;n.preventDefault();this.ticking||(this.tick=requestAnimationFrame(function(){return t.changeIndexTo(t.indexFromEvent(n))}),this.ticking=!0)}},{key:"onReset",value:function(){var n,t=this.valueIndex((n=this.el.querySelector("[selected]"))===null||n===void 0?void 0:n.value);this.selectValue(t||-1,!1)}},{key:"selected",value:function(){return this.valueIndex(this.el.value)}},{key:"selectValue",value:function(n,t){var i;this.el.value=((i=this.values[n])===null||i===void 0?void 0:i.value)||"";this.indexSelected=this.selected();!1===t?this.changeIndexTo(this.selected(),!0):this.el.dispatchEvent(new Event("change"))}},{key:"valueIndex",value:function(n){return this.values.findIndex(function(t){return t.value===+n})}}]),n}();return function(){function i(n,r){t(this,i);this.destroy=this.destroy.bind(this);this.props=r;this.rebuild=this.rebuild.bind(this);this.selector=n;this.widgets=[];this.build()}return r(i,[{key:"build",value:function(){var n=this;this.queryElements(this.selector).forEach(function(t){var i=o(s,n.props,JSON.parse(t.getAttribute("data-options")));"SELECT"!==t.tagName||t.widget||(!i.prebuilt&&t.parentNode.classList.contains(i.classNames.base)&&n.unwrap(t),n.widgets.push(new l(t,i)))})}},{key:"destroy",value:function(){this.widgets.forEach(function(n){return n.destroy()});this.widgets=[]}},{key:"queryElements",value:function(t){return"HTMLSelectElement"===n(t)?[t]:"NodeList"===n(t)?[].slice.call(t):"String"===n(t)?[].slice.call(document.querySelectorAll(t)):[]}},{key:"rebuild",value:function(){this.destroy();this.build()}},{key:"unwrap",value:function(n){var t=n.parentNode,i=t.parentNode;i.insertBefore(n,t);i.removeChild(t)}}]),i}()}();Date.toJSON||(Date.prototype.toJSON=function(){var n=this.getFullYear(),t=this.getMonth()<9?"0"+(this.getMonth()+1):this.getMonth()+1,i=this.getDate()<10?"0"+this.getDate():this.getDate(),r=this.getHours()<10?"0"+this.getHours():this.getHours(),u=this.getMinutes()<10?"0"+this.getMinutes():this.getMinutes(),f=this.getSeconds()<10?"0"+this.getSeconds():this.getSeconds();return""+n+"/"+t+"/"+i+" "+r+":"+u+":"+f});String.startsWith||(String.prototype.startsWith=function(n){return this.indexOf(n)===0});String.endsWith||(String.prototype.endsWith=function(n){return this.indexOf(n,this.length-n.length)!==-1});String.includes||(String.prototype.includes=function(n){return this.indexOf(n)>-1});String.contains||(String.prototype.contains=String.prototype.includes);String.format||(String.prototype.format=function(){var n=arguments;return this.replace(/{(\d+)}/g,function(t,i){return typeof n[i]!="undefined"?n[i]:t})});String.replace_All||(String.prototype.replace_All=function(n,t){var i=this;return i.replace(new RegExp(n,"g"),t)});Array.includes||(Array.prototype.includes=function(n){return this.indexOf(n)>-1});Array.firstOrDefault||(Array.prototype.firstOrDefault=function(){return this.length>0?this[0]:null});Array.lastOrDefault||(Array.prototype.lastOrDefault=function(){return this.length>0?this[this.length-1]:null});Array.from||(Array.from=function(){var t=Object.prototype.toString,n=function(n){return typeof n=="function"||t.call(n)==="[object Function]"},i=function(n){var t=Number(n);return _isNaN(t)?0:t===0||!isFinite(t)?t:(t>0?1:-1)*Math.floor(Math.abs(t))},r=Math.pow(2,53)-1,u=function(n){var t=i(n);return Math.min(Math.max(t,0),r)};return function(t){var h=this,c=Object(t),i,o;if(t==null)throw new TypeError("Array.from requires an array-like object - not null or undefined");if(i=arguments.length>1?arguments[1]:void undefined,typeof i!="undefined"){if(!n(i))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(o=arguments[2])}for(var f=u(c.length),s=n(h)?Object(new h(f)):new Array(f),r=0,e;r<f;)e=c[r],s[r]=i?typeof o=="undefined"?i(e,r):i.call(o,e,r):e,r+=1;return s.length=f,s}}());File=window.File;try{new File([],"")}catch(e){File=function(n){function t(i,r){var e=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},f,u;return _classCallCheck(this,t),f=n.call(this,i,e),u=_possibleConstructorReturn(this,f),u.lastModifiedDate=new Date,u.lastModified=+u.lastModifiedDate,u.name=r,u}return _inherits(t,n),t}(Blob)}window.ASPx&&(window.ASPxClientDateEdit&&(ASPxClientDateEdit.prototype.ChangeDate=function(n){var r=!ASPx.DateUtils.AreDatesEqualExact(this.date,n),t,i;if(this.SetValue(n),t=this.IsValueChangeForced()&&!this.IsValueChanging(),i=this.force_ValueChanged===!0&&!ASPx.DateUtils.AreDatesEqualExact(this.force_Value,n),r||t||i)try{this.StartValueChanging();this.dateChangeProcessing=!0;this.RaisePersonalStandardValidation();this.OnValueChanged()}finally{this.force_ValueChanged=!1;this.dateChangeProcessing=!1;this.EndValueChanging()}},ASPxClientDateEdit.prototype.onDropDownApplyCommandClick=function(){this.force_ValueChanged=!0;this.OnApplyButtonClick()},ASPxClientDateEdit.prototype.onDropDownModalChanged=function(n){this.force_Value=this.GetValue(s);ASPxClientDropDownEditBase.prototype.onDropDownModalChanged.call(this,n);this.UpdateActiveController();this.GetActiveController().onDropDownModalChanged(n);this.adjustTimeSection(!0)}),window.ASPxClientDropDownEditBase&&(ASPxClientDropDownEditBase.prototype.IsCanToDropDown=function(){return!this.GetReadOnly()}),window.ASPxClientTextEdit&&(ASPxClientTextEdit.prototype.ApplyMaskInfo=function(n){this.SyncRawValue();var t=this.GetInputElement(),i=this.GetMaskDisplayText();this.maskTextBeforePaste=i;t!=null&&(t.value!=i&&(t.value=i),n&&ASPx.Selection.Set(t,this.maskInfo.caretPos,this.maskInfo.caretPos+this.maskInfo.selectionLength))}),window.ASPxClientGridView&&(ASPx.CellFocusHelper.prototype.RestoreCellFocus=function(){var t,i,n;if(this.focusableLayoutItemsLis!=null){if(t=this.IsCellFocused()&&!this.accessibilityCompliant,i=this.accessibilityCompliant&&ASPx.RestoreFocusHelper.findFocusElement(this.owner),t||i)return;if(n=this.GetFocusedCellInfo(),this.SetFocus(n))return;n=this.CreateCellInfo(this.GetFirstRecordKey(),this.GetColumnIndexToRecoverFocus(n&&n.columnIndex));this.SetFocus(n)||this.FocusFirstCell()}},ASPx.CellFocusHelper.prototype.SetFocusByElement=function(n,t){var i,r,u;if(this.focusableLayoutItemsLis!=null)return(i=this.GetDataCellByChild(n),!i)?!1:(r=this.GetRecordKeyByChild(i),u=this.GetColumnIndexByCell(i),this.SetFocus(this.CreateCellInfo(r,u),!1,!1,t))},ASPxClientGridBatchEditApi.prototype.GetEditorParadise=function(n,t){var i=t.toString().replace("-","_"),r=this.grid.name+n+"_"+i;return _GetControlByName(r)},ASPxClientGridBatchEditApi.prototype.GetCellValue=function(n,t,i){return this.GetCellValueByKey(this.ConvertVisibleIndexToKey(n),t,i)},ASPxClientGridBatchEditApi.prototype.SetCellValueCore=function(n,t,i,r,u){var f=this.GetHelper(),e=this.GetColumnIndex(t);f&&e!==null&&f.IsValidRecord(n)&&(f.IsEditingCell(n,e)||(ASPx.IsExists(r)||(r=f.GetColumnDisplayTextByEditor(i,e)),f.IsCheckColumn(e)&&(r=f.GetCheckColumnDisplayText(i,e)),f.IsColorEditColumn(e)&&(r=f.GetColorEditColumnDisplayText(i,e)),f.SetCellValue(n,e,i,r,u),f.ResetCellValidationState(n,e),f.UpdateSyncInput(),f.UpdateItem(n,[e],!1,!1,!0),f.UpdateCommandButtonsEnabled(),f.RemoveRecordErrorIfHasNoChanges(n)))},ASPxClientGridView.prototype.focusedRowIndexOld=-9999,ASPxClientGridView.prototype.allowFocusedCell=!0,ASPxClientGridView.prototype.ParadisecustomArgs={},ASPxClientGridView.prototype.ColumnEditArray=[],ASPxClientGridView.prototype.MinPageSize=5,ASPxClientGridView.prototype.DataClient=!0,ASPxClientGridView.prototype.DataRows=[],ASPxClientGridView.prototype.ColStart=-1,ASPxClientGridView.prototype.RowStart=-1,ASPxClientGridView.prototype.ColEnd=-1,ASPxClientGridView.prototype.RowEndCol=-1,ASPxClientGridView.prototype.BeginShift=!1,ASPxClientGridView.prototype.PressControl=!1,ASPxClientGridView.prototype.PressShift=!1,ASPxClientGridView.prototype.OneCell=!1));window.DevExpress&&(ui=DevExpress.ui,ui.dxPopup.prototype.SetWidth=function(n){this.option("width",n)},ui.dxPopup.prototype.SetHeight=function(n){this.option("height",n)},ui.dxPopup.prototype.GetWidth=function(){return ParseFloat(this.option("width"))},ui.dxPopup.prototype.GetHeight=function(){return ParseFloat(this.option("height"))},ui.dxDataGrid.prototype.SetWidth=ui.dxPopup.prototype.SetWidth,ui.dxDataGrid.prototype.SetHeight=ui.dxPopup.prototype.SetHeight,ui.dxDataGrid.prototype.GetWidth=ui.dxPopup.prototype.GetWidth,ui.dxDataGrid.prototype.GetHeight=ui.dxPopup.prototype.GetHeight,ui.dxForm.prototype.SetWidth=ui.dxPopup.prototype.SetWidth,ui.dxForm.prototype.SetHeight=ui.dxPopup.prototype.SetHeight,ui.dxForm.prototype.GetWidth=ui.dxPopup.prototype.GetWidth,ui.dxForm.prototype.GetHeight=ui.dxPopup.prototype.GetHeight,ui.dxProgressBar.prototype.GetValue=function(){return this.option("value")},ui.dxProgressBar.prototype.SetValue=function(n){this.option("value",n)},ui.dxProgressBar.prototype.SetReadOnly=function(n){n=toBoolean(n);this.option("readOnly",n)},ui.dxProgressBar.prototype.GetReadOnly=function(){return this.option("readOnly")},ui.dxCheckBox.prototype.SetReadOnly=ui.dxProgressBar.prototype.SetReadOnly,ui.dxCheckBox.prototype.GetReadOnly=ui.dxProgressBar.prototype.GetReadOnly,ui.dxCheckBox.prototype.SetValue=function(n){n=toBoolean(n,!1,!1);this.option("value",n)},ui.dxCheckBox.prototype.GetValue=ui.dxProgressBar.prototype.GetValue,ui.dxDropDownBox.prototype.GetText=function(){var n=this.option("value"),t=this.option("displayExpr"),i=this.option("valueExpr"),r=this.option("dataSource");return Get_Text(n,t,i,r,this.option("Separator"))},ui.dxDropDownBox.prototype.SetValue=function(n){if(n=GetValueMulti(n,this.option("Separator")),this.option("value",n),Array.isArray(n))if(typeof n[0]=="object"){var t=this.option("valueExpr");n=n.filter(function(n){return n!=null}).map(function(n){return n[t]}).join(this.option("Separator"))}else n=n.join(this.option("Separator"));$("#"+this.option("name")).val(n)},ui.dxDropDownBox.prototype.GetValue=function(){var n=this.option("value"),i,t;return Array.isArray(n)&&(typeof n[0]=="object"?(i=this.option("valueExpr"),t=this.option("dataSource"),t&&t.items&&(t=t.items()),t&&i&&(n=t.filter(function(t){return n.includes(t[i])||n.includes(t)}).map(function(n){return n[i]}).join(this.option("Separator")))):n=n.join(this.option("Separator"))),n},ui.dxDropDownBox.prototype.SetReadOnly=ui.dxProgressBar.prototype.SetReadOnly,ui.dxDropDownBox.prototype.GetReadOnly=ui.dxProgressBar.prototype.GetReadOnly,ui.dxRadioGroup.prototype.SetValue=ui.dxProgressBar.prototype.SetValue,ui.dxRadioGroup.prototype.GetValue=ui.dxProgressBar.prototype.GetValue,ui.dxRadioGroup.prototype.SetReadOnly=ui.dxProgressBar.prototype.SetReadOnly,ui.dxRadioGroup.prototype.GetReadOnly=ui.dxProgressBar.prototype.GetReadOnly,ui.dxDropDownButton.prototype.SetValue=ui.dxProgressBar.prototype.SetValue,ui.dxTextBox.prototype.GetValue=ui.dxProgressBar.prototype.GetValue,ui.dxTextBox.prototype.SetValue=ui.dxProgressBar.prototype.SetValue,ui.dxTextBox.prototype.SetReadOnly=ui.dxProgressBar.prototype.SetReadOnly,ui.dxTextBox.prototype.GetReadOnly=ui.dxProgressBar.prototype.GetReadOnly,ui.dxTextArea.prototype.GetValue=ui.dxProgressBar.prototype.GetValue,ui.dxTextArea.prototype.SetValue=ui.dxProgressBar.prototype.SetValue,ui.dxTextArea.prototype.SetReadOnly=ui.dxProgressBar.prototype.SetReadOnly,ui.dxTextArea.prototype.GetReadOnly=ui.dxProgressBar.prototype.GetReadOnly,ui.dxNumberBox.prototype.GetValue=ui.dxProgressBar.prototype.GetValue,ui.dxNumberBox.prototype.SetValue=ui.dxProgressBar.prototype.SetValue,ui.dxNumberBox.prototype.SetReadOnly=ui.dxProgressBar.prototype.SetReadOnly,ui.dxNumberBox.prototype.GetReadOnly=ui.dxProgressBar.prototype.GetReadOnly,ui.dxColorBox.prototype.GetValue=ui.dxProgressBar.prototype.GetValue,ui.dxColorBox.prototype.SetValue=ui.dxProgressBar.prototype.SetValue,ui.dxColorBox.prototype.SetReadOnly=ui.dxProgressBar.prototype.SetReadOnly,ui.dxColorBox.prototype.GetReadOnly=ui.dxProgressBar.prototype.GetReadOnly,ui.dxDateBox.prototype.GetValue=ui.dxProgressBar.prototype.GetValue,ui.dxDateBox.prototype.SetValue=function(n){typeof n=="string"&&(!n.includes("-")&&n.includes(":")&&n.length<9&&(n="1970-01-01T"+n),n=new Date(n));this.option("value",n)},ui.dxDateBox.prototype.SetReadOnly=ui.dxProgressBar.prototype.SetReadOnly,ui.dxDateBox.prototype.GetReadOnly=ui.dxProgressBar.prototype.GetReadOnly,ui.dxDateBox.prototype.GetValueString=ui.dxDateBox.prototype.GetValue,ui.dxHtmlEditor.prototype.GetValue=ui.dxProgressBar.prototype.GetValue,ui.dxHtmlEditor.prototype.SetValue=ui.dxProgressBar.prototype.SetValue,ui.dxHtmlEditor.prototype.SetReadOnly=ui.dxProgressBar.prototype.SetReadOnly,ui.dxHtmlEditor.prototype.GetReadOnly=ui.dxProgressBar.prototype.GetReadOnly,ui.dxList.prototype.GetValue=ui.dxProgressBar.prototype.GetValue,ui.dxList.prototype.SetValue=ui.dxProgressBar.prototype.SetValue,ui.dxList.prototype.SetReadOnly=function(n){n=toBoolean(n);this.option("disabled",n)},ui.dxList.prototype.GetReadOnly=function(){return this.option("disabled")},ui.dxTreeList.prototype.SetReadOnly=ui.dxProgressBar.prototype.SetReadOnly,ui.dxButton.prototype.GetValue=function(){return this.option("text")},ui.dxButton.prototype.SetValue=function(n){this.option("text",n)},ui.dxButton.prototype.SetEnabled=function(n){n=toBoolean(n);n=!n;this.option("disabled",n)},ui.dxDropDownButton.prototype.SetValue=function(n){this.option("selectedItemKey",n)},ui.dxDropDownButton.prototype.GetValue=function(){return this.option("selectedItemKey")},ui.dxDropDownButton.prototype.SetEnabled=ui.dxButton.prototype.SetEnabled,ui.dxDataGrid.prototype.selectedRange=[],viz=DevExpress.viz,viz&&viz.dxCircularGauge&&(viz.dxCircularGauge.prototype.lblText=null,viz.dxCircularGauge.prototype.SetValue=function(n){var i=this.element()[0],r=i.option.IconName,t;this.lblText&&(t=this.lblText,i=this.element()[0],IsNullOrEmpty(n)?(t.style.display="none",r!==""&&this.image.css({display:"block"})):(typeof n!="string"&&(n=n.toString()),n=n.replace("\n","<br>"),r!==""&&this.image.css({display:"none"}),t.style.display="block"),this.lblText.innerHTML=n,this.fontSize>0?t.style.fontSize=this.fontSize+"px":(t.style.fontSize="8px",SetFontSizeWithMaxSize(i.offsetHeight/2,i.offsetHeight/2,t)))},viz.dxCircularGauge.prototype.GetValue=function(){return this.option("value")},viz.dxCircularGauge.prototype.BorderColor=function(n){this.option("rangeContainer.ranges",[{color:n,endValue:362,startValue:0}])},viz.dxCircularGauge.prototype.SetText=viz.dxCircularGauge.prototype.SetValue,viz.dxCircularGauge.prototype.GetValue=viz.dxCircularGauge.prototype.GetValue));Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(n){var f="",e,t,i,s,h,o,r,u=0;for(n=Base64._utf8_encode(n);u<n.length;)e=n.charCodeAt(u++),t=n.charCodeAt(u++),i=n.charCodeAt(u++),s=e>>2,h=(e&3)<<4|t>>4,o=(t&15)<<2|i>>6,r=i&63,isNaN(t)?o=r=64:isNaN(i)&&(r=64),f=f+this._keyStr.charAt(s)+this._keyStr.charAt(h)+this._keyStr.charAt(o)+this._keyStr.charAt(r);return f},decode:function(n){var t="",e,o,s,h,u,r,f,i=0;for(n=n.replace(/[^A-Za-z0-9\+\/\=]/g,"");i<n.length;)h=this._keyStr.indexOf(n.charAt(i++)),u=this._keyStr.indexOf(n.charAt(i++)),r=this._keyStr.indexOf(n.charAt(i++)),f=this._keyStr.indexOf(n.charAt(i++)),e=h<<2|u>>4,o=(u&15)<<4|r>>2,s=(r&3)<<6|f,t=t+String.fromCharCode(e),r!=64&&(t=t+String.fromCharCode(o)),f!=64&&(t=t+String.fromCharCode(s));return Base64._utf8_decode(t)},_utf8_encode:function(n){var i,r,t;for(n=n.replace(/\r\n/g,"\n"),i="",r=0;r<n.length;r++)t=n.charCodeAt(r),t<128?i+=String.fromCharCode(t):t>127&&t<2048?(i+=String.fromCharCode(t>>6|192),i+=String.fromCharCode(t&63|128)):(i+=String.fromCharCode(t>>12|224),i+=String.fromCharCode(t>>6&63|128),i+=String.fromCharCode(t&63|128));return i},_utf8_decode:function(n){for(var r="",t=0,i=c1=c2=0;t<n.length;)i=n.charCodeAt(t),i<128?(r+=String.fromCharCode(i),t++):i>191&&i<224?(c2=n.charCodeAt(t+1),r+=String.fromCharCode((i&31)<<6|c2&63),t+=2):(c2=n.charCodeAt(t+1),c3=n.charCodeAt(t+2),r+=String.fromCharCode((i&15)<<12|(c2&63)<<6|c3&63),t+=3);return r}};jQuery.readyException=_onerror_;window.onerror=_onerror_;window.DevExpress&&(DevExpress.ui.dxOverlay.baseZIndex(2e4),DevExpress.utils.console.logger.error=function(){},DevExpress.utils.console.logger.info=function(){},DevExpress.utils.console.logger.warn=function(){},DevExpress.data.setErrorHandler(_oneror),DevExpress.data.errorHandler=_oneror,DevExpress.errors.Error=_oneror,DevExpress.errors.log=function(){});$(function(){var t=document.createElement("div"),n;t.id="HtmlCacheDiv";t.name="HtmlCacheDiv";t.style.display="none";document.body.appendChild(t);LoadOnBeforeUnload();window.LanguageID==="VN"&&(window.ASPx&&(n=ASPx.CultureInfo,n.monthNames=["Th 1","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7","Th 8","Th 9","Th 10","Th 11","Th 12",""],n.genMonthNames=n.monthNames,n.abbrMonthNames=["Thg1","Thg2","Thg3","Thg4","Thg5","Thg6","Thg7","Thg8","Thg9","Thg10","Thg11","Thg12",""],n.abbrDayNames=["CN","T2","T3","T4","T5","T6","T7"],n.dayNames=["Chủ Nhật","Thứ Hai","Thứ Ba","Thứ Tư","Thứ Năm","Thứ Sáu","Thứ Bảy"]),window.DevExpress&&(DevExpress.localization.date.getMonthNames=function(){return["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"]}));window.onpopstate=Popstate;_ShowEmployeeTree();FileUploader_Init();insertCss(' div.dxflGroupSys > div { display: grid; } .dxflPCContainerSys .dxtc-content { padding: 0px; } .dxgvBatchEditModifiedCell_O {color: black;} .dxgvEditFormDisplayRow_O td.dxgv, .dxgvDetailCell_O td.dxgv, .dxgvAdaptiveDetailCell_O td.dxgv, .dxgvDataRow_O td.dxgv, .dxgvAdaptiveDetailRow_O td.dxgvAIC { padding: 1px; }  .dxflGroupCell_O > .dxflPCContainerSys { padding: 1px; }  .dxgvControl_O .dxgvFSDC, .dxgvControl_O .dxgvHSDC { box-shadow: none; } .dxgvControl_O .dxgvCSD { box-shadow: none; }  .dxeTextBox_O td.dxic, .dxeButtonEdit_O td.dxic, .dxeButtonEdit_O[cellspacing="0"] td.dxic { padding: 1px; } .dxflCLLSys .dxflCaptionCell_O, *[dir="rtl"].dxflFormLayout_O .dxflCLRSys .dxflCaptionCell_O { padding-right: 1px; } .dxgvPagerBottomPanel_O { box-shadow: none; } .dxgvHeader_O { font-weight: normal; }  .dxtcLite_O.dxtc-top > .dxtc-stripContainer .dxtc-activeTab { text-transform: none; }  .dxtcLite_O > .dxtc-stripContainer .dxtc-tab, .dxtcLite_O > .dxtc-stripContainer .dxtc-activeTab, .dxtcLite_O > .dxtc-stripContainer .dxtc-leftIndent, .dxtcLite_O > .dxtc-stripContainer .dxtc-spacer, .dxtcLite_O > .dxtc-stripContainer .dxtc-rightIndent, .dxtcLite_O > .dxtc-stripContainer .dxtc-sbWrapper, .dxtcLite_O > .dxtc-stripContainer .dxtc-sbIndent, .dxtcLite_O > .dxtc-stripContainer .dxtc-sbSpacer { text-transform: none; }  .dxtcLite_O > .dxtc - stripContainer.dxtc - link { padding: 5px; }  .dxflGroupBox_O { margin: 1px 0; } .dxflGroupBox_O { padding: 1px; margin: 6px 0; } .dxflGroupBox_O { height: 100%; } .dxflGroupBox_O > div.dxflGroup_O:first-child, .dxflGroupBox_O > table.dxflGroup_O:first-child { margin-top: 0px; padding-top: 1px; } .dxflGroupBox_O > .dxflGroup_O { padding: 1px; }  .dxflGroupBoxCaption_O { margin-right: 1px; padding: 1px; } .dxflGroupBoxCaption_O { text-transform: none; } .dxflItemSys.dxflCLTSys > div.dxflCaptionCell_R { padding: 5px 0; } .dxtcLite_R > .dxtc-stripContainer .dxtc-tab, .dxtcLite_R > .dxtc-stripContainer .dxtc-activeTab, .dxtcLite_R > .dxtc-stripContainer .dxtc-leftIndent, .dxtcLite_R > .dxtc-stripContainer .dxtc-spacer, .dxtcLite_R > .dxtc-stripContainer .dxtc-rightIndent, .dxtcLite_R > .dxtc-stripContainer .dxtc-sbWrapper, .dxtcLite_R > .dxtc-stripContainer .dxtc-sbIndent, .dxtcLite_R > .dxtc-stripContainer .dxtc-sbSpacer { text-transform: none; }  .dxtcLite_R > .dxtc - stripContainer.dxtc - link { padding: 10px 10px 9px; }  .dxgvPagerBottomPanel_R { box-shadow: none; } .dxbButton_R.dxbTSys { text-transform: none; } .dxgvHeader_R { font-weight: normal; }  .dxgvControl_R .dxgvFSDC, .dxgvControl_R .dxgvHSDC { box-shadow: none; } .dxgvControl_R .dxgvCSD { box-shadow: none; }  .dxflGroupBox_R {margin: 5px 0px; border-width: 0px;} .dxflGroupBox_R > .dxflGroup_R { padding: 0 2px; } .dxflGroupBox_R{padding: 0 0 2px;} .dxflGroupBoxCaption_R { text-transform: none; } .dxflGroupBoxCaption_R{padding: 0px 2px;} .ColorEditJSViewer { width: '+window.GlobalFontSize+'+"px";display: table-cell;} .cellSelected { border-color: '+ParadiseOption.BaseColor+" !important;border-width: 1px !important;border-style: solid;} .gc-scroll-bar { background-color: "+ParadiseOption.BaseColor+";}");$(window).off("resize",UpdateClientSizeDiagram);$(window).resize("resize.Diagram",UpdateClientSizeDiagram);keypressDialogOnYes()});window.ASPx&&(ASPx.ShowErrorAlert=function(n){n=ASPx.Str.DecodeHtmlViaTextArea(n);ASPx.IsExists(n)&&n!==""&&_oneror(n)},ASPx.CultureInfo.am=null,ASPx.CultureInfo.pm=null);UpdateClientSizeDiagram();LeftMenuClient=[];LocalOption=0;LoginName="";ParadiseTitle="Paradise HR";openingmenuText="";WaitingText="";idOpenForm="#main-layout-diagram";BaseColor="#007BFF";clipboardData=null;Reload="Reload";Export="Export";ExportExcel="ExportExcel";PaddingDefault=8;delayInput=500;connection=null;hub=null;ActiveMenu="";paradise={ActionInnit:{},DTParent:{}};stackSave=[];FormPopupAlias=null;MD_M={};MenuClient=[];DiagramClient=[];ClientData={};POptionDic={};PopupDic={};DataSourceConfig={};ThemeOffice=!1;APPLICATION_ADDRESS="";ServerURL="";HPAVertion="";UserID=-1;CustomerIDRunning="";FactoryIPRunning="";SessionID="";LanguageID="";RememberLogin=!1;GlobalFontSize=13;ScreenDiagramZoom=1;IsUpdateNotification=!0;listEven=[];MMMMA="machinemanagementlcmachinemanagementadvanced";MMMMA_PU=MMMMA+"_PU";MTAMM="HPA.TimeAttendance.MachineManagementLC";HPAMDDS="/hpamasterdata/datasetting";HPAMDDSTableName=HPAMDDS+"?tablename=";urlEmployeeList=HPAMDDSTableName+"sp_employeeidlist";urlLoginName=HPAMDDSTableName+"sp_loginlist_forcombobox";urlHR_StaffInformation_List=HPAMDDSTableName+"hr_staffinformation_list_2";HPAUpdateImportDataFromFileOpenXML="/hpaupdate/importdatadatasetting";DefautlImage="iVBORw0KGgoAAAANSUhEUgAAAFIAAAA0CAIAAACW4/iLAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAEHSURBVGhD7ZLbFYQgDESty4Ksh2psxmJcwiMJ7N+Ksp6Z+wVj5HBJlhMSaiNBbSSojQS1kaA2EtRGgtpIUBsJaiNxVXvflmUNR9m9Bnb7J6Tb256WR1hj3yVIxDQmee3mQTP9L6I/ZezAEvjaIYzV1vuVG9umiO9bfYEmrCsJq6A72RePYbB2vWe78QaKVnSuWa8XtacZwtPakhs5NCUrbOsS79V21VbRGH59vYdp2rLUUCsNOWBkf1ueHvJkK6whqK6GgrnKGcbQN7iqfZ2urfEJ7muyMl/bjULk3tlW5mt3w/yAc+QftCdAbSSojQS1kaA2EtRGgtpIUBsJaiNBbSSojcN5fgAPdn21MWT2QAAAAABJRU5ErkJggg==";_ColorEditView={GetValue:function(){return s.children[1].style.innerText},SetValue:function(n){s.children[0].style.backgroundColor=n;s.children[1].style.innerText=n},GetText:function(){return s.children[1].style.innerText},SetText:function(n){s.children[0].style.backgroundColor=n;s.children[1].style.innerText=n},element:function(){return $(this)}};_ButtonLabel={GetEnabled:function(){return $(this).attr("disabled")!=="disabled"},SetEnabled:function(n){var t=this,r=$(this),i;r.attr("disabled",!n);i=r.parent();i.off("click");n===!0&&this.option.onClick&&i.click(function(){t.GetEnabled()&&t.option.onClick.apply(null,[t])})},GetValue:function(){},SetValue:function(){},GetText:function(){},SetText:function(){},element:function(){return $(this)}};_Label={GetValue:function(){var n="#"+this.id+"_I";return $(n).val()},SetValue:function(n){var t="#"+this.id+"_I";$(t).val(n);$(this).html(n)},GetText:function(){return $(this).html()},SetText:function(n){$(this).html(n)},element:function(){return $(this)}};_Video={GetValue:function(){var n="#"+this.id+"_I";return $(n).val()},SetValue:function(n){var r="#"+this.id+"_I",t,i;$(r).val(n);this._player instanceof Plyr||(this._parentElement=this.parentElement,this._cssText=this.style.cssText,this._player=new Plyr(this,{autoplay:!0}),$(this._parentElement.firstChild).css({cssText:this._cssText}));n==null&&(n="");t={src:n};i=document.createElement("a");i.href=n;i.hostname.replace("www.","").toLowerCase()=="youtube.com"&&(t.provider="youtube");this._player.source={type:"video",sources:[t]}},GetText:function(){},SetText:function(){},element:function(){return $(this)}};_DocumentViewer={GetValue:function(){return null},SetValue:function(n){DocumentViewerLoad(this,n)},element:function(){return $(this)}};ImageEditJS={GetValue:function(){var n="#"+this.id+"_I";return $(n).val()},SetValue:function(n){var r="#"+this.id,u="#"+this.id+"_I",t,i;$(u).val(n);t=!isNullOrWhitespace(n)&&n.length>4&&(n.substring(0,4).toLowerCase().includes("http")||n.includes(";base64,"));i=(t?"":"data:image/png;base64,")+n;$(r).attr("src",i).attr("visibility",isNullOrWhitespace(n)?"hidden":"visible")},element:function(){return $(this)}};_item=function(n){var t=this;_itemBase(n,t)};ParadiseOption={AskBeforeSave:!0};POptionDic.paradiseclient={ClassName:"ParadiseClient",FullClassName:"HPA.Common.ParadiseClient",callMethod:function(n,t){var i=[n];CallMethod("hpa.timeattendance.machinemanagementlc",t,i);CallMethod("hpa.timeattendance.machinemanagementadvanced",t,i)},callMethodMM:function(n,t){var i=[n];CallMethod("hpa.timeattendance.machinelogsrealtime",t,i);CallMethod("hpa.timeattendance.machinemanagementadvanced",t,i)},updatelayout:function(n){this.callMethod(n,"updatelayout")},updateinfor:function(n){this.callMethod(n,"updateinfor")},loadmachinelist:function(){this.callMethod(_P,"loadmachinelist")},realtime:function(n){this.callMethodMM(n,"realtime")},realtimephoto:function(n){this.callMethodMM(n,"realtimephoto")},resetall:function(n){this.callMethod(n,"resetall")},watchusers:function(){},readcard:function(){},stopadvanced:function(){},ENDUploadUsers:function(){},resetall:function(){},uppdatemachinelist:function(){},watchusers:function(){},stopadvanced:function(){}};lstLastPoint=[];reconnectCount=0;queueMessages=[];SendQueueMessagesTask=null;window.ParadiseConfirmClient=function(n){return{success:function(t){window.DialogOnYes=t;window.DialogOnNo=null;queueMessages.push(["paradiseConfirm",n,UserID,LanguageID]);SendQueueMessages()}}};window.ParadiseMessageClientLocal=function(n,t,i,r,u){return{success:function(f,e){window.DialogOnYes=f;window.DialogOnNo=e;SetParadiseMessage(n,t,i,r,u)}}};window.ParadiseMessageClient=function(n){window.DialogOnYes=null;window.DialogOnNo=null;queueMessages.push(["paradiseMessage",n,UserID,LanguageID]);SendQueueMessages()};_fileuploaderd_Div=null;_fileuploader=null;DataSetting={FullClassName:"",ClassName:"",CountControl:0,ControlTypeColumnList:{},dataRowdblclick:{},DataRow:{},formvalid:!0,formvalidMessage:"",NeedReset:!0,Loaded:!1,TableName:"",FormName:"",CanAdd:!0,CanDelete:!0,CanModify:!0,canAdd:!0,canDelete:!0,ChangedData:!1,ColumnChangeEventProc:!1,AllowDirtyFalse:!0,ValueValidateDBRunning:!1,IsHRSI:!1,ViewMode:0,ViewModeStatus:!1,ActionInnit:null,F_End:null,btnfwsave:null,btnfwreset:null,btnfwadd:null,btnfwdelete:null,grdTE:null,emTmp:null,fnTmp:null,dvTmp:null,dpmTmp:null,grTmp:null,pstTmp:null,lgnTmp:null,VisibleConditions:[],spActionControlList:[],ValueValidateDBControl:[],Controls:[],ControlsEdit:[],ControlsLabelView:[],ParamControls:[],ControlCondtion:[],dicValueValidateDB:[],ColumnChangeEventProcs:[],CSP_List:[],Parent:null,Child:[],ColumnSubDataSettingNames:[],ColumnDataType:{},tblEvenProc:{},tmpColumnEdit:[],ColumnsReadOnly:[],KeyDataSourceConfig:[],DataSourceConfig:null,OnOpen:function(){},OnClose:function(){},ValidForm:function(){},GetUrl:function(n){return window.APPLICATION_ADDRESS+this.__GetUrl(n)},__GetUrl:function(n){return this.GetUrlCore(_LocalOption()?this.urlPost:this.url,n)},GetUrlNotSessions:function(n){return window.APPLICATION_ADDRESS+this.GetUrlCore(this.urlPost,n,!0)},GetUrlCore:function(n,t){return n+=(n.includes("?")?"&":"?")+"knc="+this.KNC,IsNullOrEmpty(this.FormName)?this.Parent&&this.Parent.TableName&&(n+="&formname=datasetting."+this.Parent.TableName):n+="&formname="+this.FormName,IsNullOrEmpty(t)||(n+="&submitcommand="+t),IsNullOrEmpty(window.paradiseparadise)||(n+="&paradiseparadise="+window.paradiseparadise),n},PostToParadise:function(n){if(n){n.isServer=!1;n.success=function(t){_ResultFromParadise(t,n)};n.error=function(t){n&&n.afterOnError&&(n.afterOnError.apply(null,[n,t]),n.afterOnError=null);HideWaitingPanel();window.LocalOption>0&&console.log("PostToParadise; error; "+JSON.stringify(t));_oneror(t)};IsNullOrEmpty(n.url)&&(n.url=this.GetUrl());n.type="POST";n.cache=!1;var t=LocalOption>0||!IsNullOrEmpty(paradiseparadise);n.crossDomain=t;$.ajax(n)}},SetVal:function(n,t){$("#"+this.KNC+n).val(t)},GetVal:function(n){return $("#"+this.KNC+n).val()},ClearEditors:function(){window.ASPxClientEdit&&window.ASPxClientEdit.ClearEditorsInContainerById(this.IDForm)},SetValueDataRow:function(n,t){this.DataRow&&(this.DataRow[n]=t)},Exec_ColumnNotLock:function(n){if(this.Column_NotLock!==""&&(this.IsShowLayout&&this.SetValueDataRow(this.Column_NotLock,!0),this.grdTE!=null)){var t=n!=null?n:this.grdTE.focusedRowIndex;_GVS_(this.grdTE,t,this.Column_NotLock,!0)}},PreparePost:function(){if(this.Child)for(var n=0;n<this.Child.length;n++)this.Child[n].PreparePost();toBoolean(this.GetVal("isDirty"))===!0&&GridUpdatePost(this.grdTE)},OnSave:function(){this.PreparePost();var n=this;return n.OnSubmit(),n.ChangedData=!0,!0},SetValueSubmit:function(){this.SetVal("TableName",this.TableName);this.SetVal("FormName",this.FormName);this.SetVal("ConID",connection?connection.id:"");this.SetVal("SessionID",window.SessionID)},OnSubmit:function(n,t){var r,u,i,f;this.SetValueSubmit();r=document.getElementById(this.IDForm);ParadiseOption.PostHttpMode===1?(r.action=this.GetUrl(),$("#"+this.IDForm).submit()):(u=$("#"+this.IDForm+" :input"),i=getFormData(u),t&&ObjToObj(t,i),f={data:i,url:this.GetUrl()},this.PostToParadise(f))},Set__ID:function(n){this.SetVal("selectedIDRow",n)},Get__ID:function(){return this.GetVal("selectedIDRow")},SetVisibleIndexRow:function(n){this.SetVal("VisibleIndexRow",n);this.grdTE&&typeof this.grdTE.option=="function"&&this.grdTE.option("focusedRowIndex",n)},GetVisibleIndexRow:function(){return this.GetVal("VisibleIndexRow")},GetParamForPost:function(n){return n||(n={}),n.ConID=connection?connection.id:null,n.SessionID=window.SessionID,n.TableName=this.TableName,n.FormID=this.GetVal("FormID"),n.SubmitCommand||(n.SubmitCommand=this.GetVal("SubmitCommand")),n.value||(n.value=this.GetVal("value")),n.paradise_hrm||(n.paradise_hrm=this.GetVal("paradise_hrm")),n.selectedIDRow||(n.selectedIDRow=this.Get__ID()),n},GetParamForGet:function(){return this.GetUrl()+this.GetParamForGetCore()},GetParamForGetCore:function(){var t="&SessionID="+this.GetVal("SessionID")+"&FormID="+this.GetVal("FormID")+"&ConID="+(connection?connection.id:""),n=this.GetVal("SubmitCommand");return IsNullOrEmpty(n)||(t+="&SubmitCommand="+n),n=this.GetVal("value"),IsNullOrEmpty(n)||(t+="&value="+n),n=this.GetVal("paradise_hrm"),IsNullOrEmpty(n)||(t+="&paradise_hrm="+n),n=this.Get__ID(),IsNullOrEmpty(n)||(t+="&selectedIDRow="+n),t},OnExportExcel:function(){var n=this,t;n.grdTE&&(n.grdTE.exportToExcel?n.grdTE.exportToExcel():n.grdTE.exportTo?(t=n.grdTE.option("export.fileName"),n.grdTE.exportTo("jpg",function(n,i){n=n.substring(23,n.length);ExportFile({data:n,fileName:t+"."+i})})):Grid_CallbackData(n.grdTE,"GVGetDataExportExcel"))},ReloadDataParams:function(n,t,i){this.Loaded===!0&&n.ColumnName&&this.ParamsReloadData&&this.ParamsReloadData.includes(n.ColumnName.toLowerCase())&&this.ReloadDataNotDirty(n,t,i)},ReloadDataNotDirty:function(n,t,i){toBoolean(this.GetVal("isDirty"))!==!0&&this.OnReload("Reload",i)},OnReload:function(n,t){this.SetVal("SubmitCommand",n);ShowWaitingPanel();this.OnSubmit(null,t)},ReloadData:function(){this.OnReload("Reload")},ClearInit:function(){this.txtSearch&&(this.txtSearch.ValueOld="Paraidse HRM")},_InnitFormCore:function(){var t,n;if(this.ActionInitBefore&&(this.ActionInitBefore.call(),this.ActionInitBefore=null,this.Adjust_ControlLayout()),this.Child)for(t=0;t<this.Child.length;t++)n=this.Child[t],n&&typeof n.ActionInit=="function"&&(n.ActionInit.call(),n.ActionInit=null);this.ActionInit&&(this.ActionInit.call(),this.ActionInit=null,this.Adjust_ControlLayout())},Adjust_ControlLayout:function(){this.mLC&&this.mLC.AdjustControlCore&&(this.mLC.AdjustControlCore(),this.mLC.UpdateAdjustedSizes())},Adjust_ControlGrid:function(){var n=this.grdTE;n&&n.AdjustControlCore&&(GridView_UpdateWidthColumns(n,n.ColumnsWidth),!IsMobile()&&n.columns.length>0&&n.GetResizingHelper&&n.GetResizingHelper().OnResized(0),n.UpdateAdjustedSizes())},AdjustControl:function(){this.Adjust_ControlGrid();this.Adjust_ControlLayout();this.Parent&&this.Parent.AdjustControl()},InnitFormCore:function(n){this._InnitFormCore(n);this.SetVal("SubmitCommand","UpdateConIDReload");n=this.GetParamForPost(n);this.ViewMode===1&&this.ViewModeStatus===!1&&(n.GetDataSourceConfig=!1);n.KeyDataSourceConfig=JSON.stringify(this.GetKeyDataSourceConfig());var t={data:n};this.PostToParadise(t)},InnitForm:function(n){this.Parent==null&&this.InnitFormCore(n)},GetKeyDataSourceConfig:function(){var r=[],n,t,i;if(this.KeyDataSourceConfig)for(n=0;n<this.KeyDataSourceConfig.length;n++)t=this.KeyDataSourceConfig[n],i=window.DataSourceConfig[t],i&&r.push({k:t,v:i.Current});return r},Reset:function(){this.SetVal("isDirty",!1)},UpdateValueControlBinding:function(n){var r,i,t,u;if(this.ControlBinding)for(r=Object.keys(this.ControlBinding),i=0;i<r.length;i++)t=this.ControlBinding[r[i]],t&&(u=n[t.ColumnName],u!=GetValue(t)&&SetValue(t,u))},SetDataRowRowIndex:function(){},SetDataRowWhere:function(t,i,r){var e,u,f;try{if(this.grdTE!=null&&this.grdTE.option){if(e=this.grdTE.option("dataSource").items(),u=alasql("SELECT * FROM ? where "+r,[e]),u.length>0)for(f=0;f<u.length;f++)_GVS_(this.grdTE,null,t,i,null,u[f].__ID);u=null}}catch(o){console.log(n.n);_oneror(o)}},ReloadControlDataSource:function(){},ReloadControlDataSourceQuery:function(){},SetReadOnlyParadiseCore:function(){var f,u,r,e,t,i;for(n={},n.n="",n.t=this,f=this.GetColumnReadOnlyCore(),t=0;t<this.spActionControlList.length;t++)SetEnabled(this.spActionControlList[t],!0);if(this.ControlBinding)for(u=Object.keys(this.ControlBinding),t=0;t<u.length;t++)r=this.ControlBinding[u[t]],r&&(e=r.ColumnName?r.ColumnName.toLowerCase():r.name,SetReadOnlyControl(r,!f.includes(e))),r=null;for(t=0;t<this.ControlCondtion.length;t++)i=this.ControlCondtion[t],n.c=i.Control,n.n=' SetReadOnlyControl(n.c,alasql("SELECT top 1 1 FROM ? where '+i.Condition+' ",[[n.t.DataRow]]).length > 0); ',eval("try {"+n.n+"} catch (ex) {console.log(n.n);_oneror(ex);} "),i=null,n.c=null;for(t=0;t<this.VisibleConditions.length;t++)i=this.VisibleConditions[t],n.c=i.Control,n.n=' var isEdit = alasql("SELECT top 1 1 FROM ? where '+i.Condition+' ",[[n.t.DataRow]]).length > 0;  SetVisibleLayout(n.t.mLC, "'+GetName(i.Control)+'", isEdit); SetVisible(n.c, isEdit);',eval("try {"+n.n+"} catch (ex) {console.log(n.n);_oneror(ex);} "),i=null,n.c=null;this.RightCommandVisible()},GetIsReadOnlyConfig:function(){return this.CanModify===!1||this.IsReadOnlyConfig===!0||this.DataRow&&toBoolean(this.DataRow.isReadOnlyRow)===!0},GetColumnReadOnlyCore:function(){var t,i;if(n={},n.n="",n.t=this,n.tmp=[],this.GetIsReadOnlyConfig())this.tmpColumnEdit=[];else{for(n.tmp=this.ColumnEditArray.slice(),this.SaveTableByBulk===!0&&(n.tmp=this.DataRow?Object.keys(this.DataRow).map(function(n){return n.toLowerCase()}).filter(function(t){return!n.t.ColumnsReadOnly.includes(t)}):[]),t=0;t<this.ReadonlyCellCondition.length;t++)i=this.ReadonlyCellCondition[t],n.n=' if(alasql("SELECT top 1 1 FROM ? where '+i.Condition+' ",[[n.t.DataRow]]).length > 0) removeFromArray(n.tmp, "'+i.ColumName+'"); ',eval("try {"+n.n+"} catch (ex) {console.log(n.n);_oneror(ex);} "),i=null;this.tmpColumnEdit=n.tmp.concat(this.ColumnEditSpecial)}return this.tmpColumnEdit},RightCommandVisible:function(){this.btnfwsave!=null&&this.btnfwsave.option&&SetVisibleLayout(this.mLC,GetName(this.btnfwsave),this.CanModify);this.btnfwreset!=null&&this.btnfwreset.option&&SetVisibleLayout(this.mLC,GetName(this.btnfwreset),this.CanModify);this.btnfwadd!=null&&this.btnfwadd.option&&SetVisibleLayout(this.mLC,GetName(this.btnfwadd),this.CanAdd!==!1);this.btnfwdelete!=null&&this.btnfwdelete.option&&SetVisibleLayout(this.mLC,GetName(this.btnfwdelete),this.CanDelete!==!1);this.btneditviewmode&&this.btneditviewmode.option&&this.btneditviewmode.option("visible",this.CanModify)},BuildContextMenuItems:function(){return},GetfocusedRowIndex:function(){return this.Get__ID()},HideValidateCore:function(){var i,t,n;if(this.ControlBinding)for(i=Object.keys(this.ControlBinding),t=0;t<i.length;t++)n=this.ControlBinding[i[t]],n&&(n.HideErrorCell?n.HideErrorCell():typeof n.option=="function"&&n.option("validationStatus","valid"))},HideValidate:function(){this.htmlValidForm=null;this.HideValidateCore()},FormValidate:function(){return this.formvalid=!0,this.formvalidMessage="",this.HideValidateCore(),typeof this.ValidForm=="function"&&this.ValidForm.call(),typeof this.htmlValidForm=="function"&&this.htmlValidForm.call(),this.formvalid},UpdateDataSourceConfig:function(){var r,t,u;if(this.DataSourceConfig)for(r=0;r<this.DataSourceConfig.length;r++)if(t=this.DataSourceConfig[r],t&&t.data&&t.data.length>0){var f=t.data[0].query,i=window.DataSourceConfig[f],n=t.control;i&&n&&(n.dsClient==null||n.dsClient.Current!==i.Current||i.dataOption===2)&&n.option&&(u=n&&n.option("itemTemplate")!=null?i.items:Update_DataSourceConfig(i,n),u||(u=[]),n.option("dataSource",u),n.dsClient=i)}},DataSourceChunk:function(){var n,t;if(this._DataSourceChunk)for(n=0;n<this._DataSourceChunk.length;n++)t=this._ChunkDataSource[n]},GetUrlFile:function(n){var f=n.ColumnName?n.ColumnName:"",i=this.GetUrl(),r,t,u;return IsNullOrEmpty(n.IDFile)||(i+="&ID="+n.IDFile),i+="&ColumnName="+f,this.IsShowLayout!==!0&&this.grdTE&&(r=GetName(n),t=this.grdTE.GetRowKey?this.grdTE.focusedRowIndex:ParseInt(r.substring(r.lastIndexOf("_")+1)),r.includes("__")&&(t=-1*t),(t===2147483647||t===2147483646)&&(t="_1",key="-1"),i+="&visibleIndex="+t),u=this.Get__ID(),IsNullOrEmpty(u)||(i+="&selectedIDRow="+u),i},Dispose:function(){},UpdateHeightSubForm:function(){var t,n,i,r,u;if(this.Child)for(t=0;t<this.Child.length;t++)n=this.Child[t],n&&(i=n.grdTE,i||(i=window[this.KNC+"G"]),i&&n.CountControl<2&&(r=$("#"+n.TableName+"F").height(),n.mLC.SetHeight(r),u=r-PaddingDefault,SetHeight(n.grdTE,u)))},btnEditViewMode_Click:function(n){var r,u,t,i;for(this.ViewMode===1&&n===!0&&(ShowWaitingPanel(),this.SetVal("SubmitCommand","GetDataSourceConfig"),r=this.GetParamForPost(),r.KeyDataSourceConfig=JSON.stringify(this.GetKeyDataSourceConfig()),u={data:r},this.PostToParadise(u)),t=0;t<this.ControlsLabelView.length;t++)i=this.ControlsLabelView[t],SetVisible(i,!n);for(t=0;t<this.ControlsEdit.length;t++)i=this.ControlsEdit[t],i!==this.btneditviewmode&&SetVisible(i,n)},UpdateSize:function(){this.grdTE&&this.grdTE.UpdateScrollableControls&&this.grdTE.UpdateScrollableControls()},Update:function(){},AddUpdate:function(){},Add:function(){},InsertUpdate:function(){},Insert:function(){},Delete:function(){},Remove:function(){},FullHeightGrid:function(n){var i,u,r,t;this.grdTE&&this.ISSubDataSettingForm!==!0&&(i=GetHeightForm(n),i>0&&n.SetHeight(i),u=GetName(n),r=$("#"+u+"_0"),r.length<1&&(r=$("#"+u+" .dx-layout-manager")),t=i-r.height(),t+=(this.grdTE&&this.grdTE.element?this.grdTE.element().height():GetHeight(this.grdTE))-2,t<100&&(t=100),t-=PaddingDefault,SetHeight(this.grdTE,t))},IsFilebinary:function(n){if(n){n=n.toLowerCase();var t=this.ColumnDataType[n];if(t)switch(t){case"filebinaryimage":case"simplefile":case"file":case"filebinary":case"filebinarylocal":case"filebinarylocaldownload":case"filebinarydownload":case"simplefiledownload":return!0}}return!1},IsHyperLink:function(n){var i=!1,t;if(n&&(n=n.toLowerCase(),t=this.ColumnDataType[n],t))switch(t){case"hyperlink":case"hyperlinkdefaulttext":case"hyperlinknewwindow":case"hyperlinkwithpopup":case"hyperlinkwithpopupdefaulttext":case"hyperlinkfunction":case"hyperlinkevenproc":i=!0}return i},IsBooleanColumn:function(n){var i=!1,t;if(n&&(n=n.toLowerCase(),t=this.ColumnDataType[n],t||(t=this.ControlTypeColumnList[n]),t))switch(t){case"boolean":case"bit":case"checkbox_reset":i=!0}return i},_AutoHeightGrid:function(){var n,t;if(this.AutoHeightGrid===!0)if(n=this,n.grdTE.option)t=0,n.grdTE.element().find(".dx-datagrid-content").each(function(){t+=$(this).height()}),n.grdTE.option("height",t);else return setTimeout(function(){var t=ParseFloat($("#"+n.grdTE.name+"_DXMainTable").height());t+=ParseFloat($("#"+n.grdTE.name+"_DXHeaderTable").height());t+=ParseFloat($("#"+n.grdTE.name+"_DXFooterTable").height());t+=50;n.grdTE.SetHeight(t);n.mLC.SetHeight(t);n.AdjustControl()},500),!0;return!1},OnAdd:function(){var n,t;this.IsShowLayout===!0?(this.SetBindingControl("Add"),SetDirty(this,!0)):(this.SetVal("SubmitCommand","Add"),n=this.grdTE,n&&(t=n.addRow?n.addRow():n.AddNewRow(),this.OnSubmit()))},SetBindingControl:function(n){typeof n!="string"||IsNullOrEmpty(n)||this.SetVal("SubmitCommand",n);var t={data:this.GetParamForPost()};this.PostToParadise(t)},GV_LostFocus_OnAdd:function(){if(this.Loaded===!0&&this.grdTE&&this.GridViewAutoAddRow===1){var n=this.Get__ID();(this.grdTE.MaxVisibleIndex==n&&this.grdTE.MaxVisibleIndexAdd==null||this.grdTE.MaxVisibleIndexAdd==n)&&(this.showEditGridView=!1,this.OnAdd(),this._AutoHeightGrid())}},SetDirty:function(n){this.SetVal("isDirty",n);this.CanModify===!0&&(this.btnfwsave&&this.btnfwsave.SetEnabled(n),this.btnfwreset&&this.btnfwreset.SetEnabled(n));this.btnfwadd&&this.CanAdd===!0&&this.btnfwadd.SetEnabled(!n);this.btnfwdelete&&this.CanDelete===!0&&this.btnfwdelete.SetEnabled(!n);n===!0&&this.Parent&&toBoolean(this.Parent.GetVal("isDirty"))!==!0&&this.Parent.SetDirty(n)}};lstErrorLog=0;lstLogSuccessCount=0;CommandLogin="CheckLogin";FormMachine={machinelist:[],machineID:"machine",ClassName:"MachineManagementLC",FullClassName:"HPA.TimeAttendance.MachineManagementLC",updatelayoutCore:function(n){var t,u,i,r;try{t="";u=n.Ms.toLowerCase();t=ClientData["mm"+u];t||(t=ClientData.mmdefault,t||(t=""),n.Ms="DEFAULT");i=this.machineID+n.ID;t=t.replace(/_Paradise_/g,"_"+i);$("#"+i).length==0&&(r=document.createElement("div"),this.idMachineList[0].appendChild(r),r.id=i,$(r).css({height:"245px",width:"350px",float:"left",padding:"1px",margin:"1px",borderStyle:"solid","border-width":"1px",borderWidth:"1px",display:"block"}));$("#"+i).html(t)}catch(f){_oneror(f)}},updatelayout:function(n){var t,i;try{t=this.machinelist.filter(function(t){return t.ID===n.ID}).firstOrDefault();t&&(i=GetMs_MM(t.Ms),i!==n.Ms&&(this.updatelayoutCore(n),t.Ms=n.Ms),this.updateinfor(n))}catch(r){_oneror(r)}},updateinfor:function(n){var t=(this.machinelist?this.machinelist:[]).filter(function(t){return t.ID===n.ID}).firstOrDefault();t&&(this.machinelist.splice(indexMachineList(this.machinelist,n.ID),1),this.machinelist.push(n));this.updateinforCore(n)},updateinforCore:function(n){var i=this.machineID+n.ID,t=$("#MachineAlias_"+i),r,e,f,u;t.length>0&&(r=n.M_Name,r&&r.length>15&&(r=r.substring(0,15)+"..."),t.html(r));t=$("#InOutStatus_"+i);t.length>0&&(e=n.IOS!=="IOSShared"?GetMD_M(n.IOS):"",t.html(e));t=$("#hlbWorkCurrent_"+i);t.length>0&&(f=GetMD_M(n.TC),IsNullOrEmpty(f)&&(f=" "),t.html(f),t.css({color:n.M_Color}));t=$("#txtSN_"+i);t.length>0&&t.html(n.SN);t=$("#IP_"+i);t.length>0&&t.html(n.IP);t=$("#Port_"+i);t.length>0&&t.html(n.Port);t=$("#LogsCount_"+i);t.length>0&&t.html(n.LC);t=$("#UserCount_"+i);t.length>0&&t.html(n.UC);t=$("#ManagerCount_"+i);t.length>0&&t.html(n.MC);t=$("#FingerCount_"+i);t.length>0&&t.html(n.FC);t=$("#CardNoCount_"+i);t.length>0&&t.html(n.CC);t=$("#FaceCount_"+i);t.length>0&&t.html(n.FC);t=$("#ppcCircle_"+i);t.length>0&&(t=t.dxCircularGauge("instance"),t.image&&t.image.css("fill",n.M_Color),n.CC>-1&&n.CC<101?(SetValue(t,n.CC+"%"),n.CC>25?(u=(n.CC*360/100+270)%360,t.option("rangeContainer",{ranges:[{startValue:u,endValue:270,color:"none"},{startValue:0,endValue:u,color:n.M_Color},{startValue:270,endValue:360,color:n.M_Color}]})):(u=(n.CC*360/100+270)%360+360,t.option("rangeContainer",{ranges:[{startValue:270,endValue:u,color:n.M_Color},{startValue:u,endValue:360,color:"none"},{startValue:0,endValue:270,color:"none"}]}))):n.CC===-1?SetValue(t,""):(SetValue(t,""),t.option("rangeContainer",{ranges:[{startValue:0,endValue:360,color:"none"}]})),t.lblText&&(t.lblText.style.color=n.M_Color))},watchusers:function(){},readcard:function(){},stopadvanced:function(){},resetall:function(){this.loadmachinelist(this.machinelist)},ENDUploadUsers:function(n){var t=POptionDic.machinemanagementadvanced,i,r;t&&(t._P=n,t.SetVal("SubmitCommand","ENDUploadUsers"),i=t.GetParamForPost(),$.extend(i,n),r={data:i},t.PostToParadise(r))},loadmachinelist:function(n){clearTimerCurrentPercent(this);this.idMachineList.html("");this.machinelist=n;for(var t=0;t<n.length;t++)this.updatelayoutCore(n[t]),this.updateinforCore(n[t]);this.updatelayoutCore(POptionDic.machinemanagementlc._PDETECT);this.updateinforCore(POptionDic.machinemanagementlc._PDETECT);CreateTimerCurrentPercent(this);HideWaitingPanel()},resetall:function(){this.countSecond=5;this.CloseForm()},uppdatemachinelist:function(n){this.loadmachinelist(n)},countSecond:55,CloseForm:function(){var t,n;clearInterval(this.TimerCountSecond);t=POptionDic.machinemanagementlcmachinemanagementadvanced;clearInterval(t.TimerCountSecond);POptionDic.machinemanagementadvanced._P=null;n=this;this.TimerCountSecond=setInterval(function(){var t,i,r;n.countSecond--;t="";n.countSecond<1?(clearInterval(n.TimerCountSecond),clearTimerCurrentPercent(n),i="machinemanagementlcmachinemanagementadvanced_PU",r=window.PopupDic[i],r.hide()):t=GetMD_M("ClickHereToCloseTime").format(n.countSecond);SetValue(n.lblstatusclose,t)},1e3)},watchusers:function(){this.countSecond=5;this.CloseForm()},stopadvanced:function(){this.countSecond=55;this.CloseForm()}};FormMachineMMA={ClassName:"MachineManagementAdvanced",FullClassName:"HPA.TimeAttendance.MachineManagementAdvanced",updateinfor:function(n){var i=this.grcMachinesList;try{if(n&&i){var u=i.getRowIndexByKey(n.ID),r=i.getDataSource().store(),t=i.element()[0]._data.filter(function(t){return t.__ID===n.ID}).firstOrDefault();t&&(t.MachineName=n.M_Name,t.RealTimeStatus=n.RTS,t.UserCount=n.UC,t.FingerCount=n.FC,t.FaceCount=n.FaC,t.CardNoCount=n.CaC,t.ManagerCount=n.MC,t.SecretCount=n.SC,t.LogsCount=n.LC,r.push([{type:"update",data:t,index:n.ID}]))}}catch(f){}},loadmachinelist:function(n){var t,i;for(this.machinelist=n,t=0;t<n.length;t++)i=n[t],CommandToDataRow(i);GridViewJSDataSource(this.grcMachinesList,n,!1);HideWaitingPanel()},updatelayout:this.updateinfor,resetall:function(){this.countSecond=5;this.CloseForm()},i:0,realtimephoto:function(){},realtime:function(n){var f=this.grcMachinesRealtime,t,r,u;f&&n&&!IsNullOrEmpty(n.Data)&&(t=JSON.parse(n.Data),r=f.getDataSource(),r&&(u=r.store(),t.__ID=i++,u.push([{type:"insert",data:t,index:0}]),u.push([{type:"remove",key:Math.abs(i-100)}]),i>199&&(i=0)))}};FormMachine_MMMMA={ClassName:"MachineManagementLCMachineManagementAdvanced",FullClassName:"HPA.TimeAttendance.MachineManagementLCMachineManagementAdvanced",machineID:"machine_",updatelayoutCore:function(n){var i="",t,r,u,f;i=this.layoutMachine;n.Ms="";t=this.machineID+n.ID;i=i.replace(/_Paradise_/g,"_"+t);$("#"+t).length==0&&(r=document.createElement("div"),this.idMachineList[0].appendChild(r),r.id=t,u=120,f=350,$(r).css({float:"left",padding:"1px",margin:"1px",borderStyle:"solid","border-width":"1px",borderWidth:"1px",display:"block",height:u+"px",width:f+"px"}));$("#"+t).html(i)},updatelayout:this.updateinfor,resetall:function(){this.countSecond=5;this.CloseForm()},loadmachinelist:function(n){var u,r,o,c,h,f;SetValue(this.lblstatusclose,"");clearTimerCurrentPercent(this);this.idMachineList.html("");u=120;r=360;this.layoutMachine=ClientData.mmmmadefault;var s=window.innerHeight-100,e=window.innerWidth-50,t=s,i=e;for(n.length<4?(t=n.length*u,i=r):n.length<6?(t=n.length/2*u,i=r*2):n.length<10?(t=n.length/3*u,i=r*3):(o=e/r,i=r*o,c=n.length/o+n.length%o,t=c*u),t+=100,t>s&&(s=t),i>e&&(i=e),h=window.PopupDic[MMMMA_PU],h.option("width",i),h.option("height",t),this.machinelist=n,f=0;f<n.length;f++)this.updatelayoutCore(n[f]),this.updateinforCore(n[f]);CreateTimerCurrentPercent(this)}};FormMachineMLRT={ClassName:"MachineLogsRealtime",FullClassName:"HPA.TimeAttendance.MachineLogsRealtime",updatelayoutCore:function(){},updatelayout:this.updateinfor,resetall:function(){},MachineLogsRealtime_Add:function(n,t){var f=$("#machinelogsrealtimeG").dxDataGrid("instance"),u=f.getDataSource(),i,r;u&&(i=u.store(),r=i._array._dataByKeyMap[t],r&&(n=n[0],n.ImageRealTime=r.ImageRealTime,i.push([{type:"update",data:n,key:t}]),this.UpdateValueControlBinding(n)))},i:0,realtimecore:function(n,t){var s=$("#machinelogsrealtimeG").dxDataGrid("instance"),r,f,o,e,u,h;s&&n&&!IsNullOrEmpty(n.Data)&&(r=JSON.parse(n.Data),f=s.getDataSource().store(),t?r.ImageRealTime&&(o=f._array.filter(function(t){return t.SN===r.SN&&t.MachineNumber===n.M_Number&&t.CheckTime===r.CheckTime}).firstOrDefault(),o&&(o.ImageRealTime=r.ImageRealTime,this.UpdateValueControlBinding(r))):(r.__ID=this.i++,f.push([{type:"insert",data:r,index:0}]),f.push([{type:"remove",key:Math.abs(i-100)}]),this.i>199&&(this.i=0),e=this,e.SetVal("SubmitCommand","MachineLogsRealtime_Add"),u=e.GetParamForPost(),u.ID=r.ID,u.BadgeNumber=r.BadgeNumber,u.CheckTime=r.CheckTime,u.key=r.__ID,h={data:u},e.PostToParadise(h)))},realtime:function(n){this.realtimecore(n)},realtimephoto:function(n){this.realtimecore(n,!0)},loadmachinelist:function(){}};